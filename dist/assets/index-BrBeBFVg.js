(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function xT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Hh={exports:{}},Ya={},Wh={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function CT(){if(cv)return Ne;cv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function E($){return $===null||typeof $!="object"?null:($=w&&$[w]||$["@@iterator"],typeof $=="function"?$:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,R={};function N($,J,ve){this.props=$,this.context=J,this.refs=R,this.updater=ve||P}N.prototype.isReactComponent={},N.prototype.setState=function($,J){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,J,"setState")},N.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function D(){}D.prototype=N.prototype;function A($,J,ve){this.props=$,this.context=J,this.refs=R,this.updater=ve||P}var F=A.prototype=new D;F.constructor=A,S(F,N.prototype),F.isPureReactComponent=!0;var H=Array.isArray,Y=Object.prototype.hasOwnProperty,ee={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function C($,J,ve){var Re,be={},Me=null,ze=null;if(J!=null)for(Re in J.ref!==void 0&&(ze=J.ref),J.key!==void 0&&(Me=""+J.key),J)Y.call(J,Re)&&!L.hasOwnProperty(Re)&&(be[Re]=J[Re]);var Be=arguments.length-2;if(Be===1)be.children=ve;else if(1<Be){for(var qe=Array(Be),Et=0;Et<Be;Et++)qe[Et]=arguments[Et+2];be.children=qe}if($&&$.defaultProps)for(Re in Be=$.defaultProps,Be)be[Re]===void 0&&(be[Re]=Be[Re]);return{$$typeof:n,type:$,key:Me,ref:ze,props:be,_owner:ee.current}}function x($,J){return{$$typeof:n,type:$.type,key:J,ref:$.ref,props:$.props,_owner:$._owner}}function k($){return typeof $=="object"&&$!==null&&$.$$typeof===n}function O($){var J={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(ve){return J[ve]})}var j=/\/+/g;function b($,J){return typeof $=="object"&&$!==null&&$.key!=null?O(""+$.key):J.toString(36)}function Ee($,J,ve,Re,be){var Me=typeof $;(Me==="undefined"||Me==="boolean")&&($=null);var ze=!1;if($===null)ze=!0;else switch(Me){case"string":case"number":ze=!0;break;case"object":switch($.$$typeof){case n:case e:ze=!0}}if(ze)return ze=$,be=be(ze),$=Re===""?"."+b(ze,0):Re,H(be)?(ve="",$!=null&&(ve=$.replace(j,"$&/")+"/"),Ee(be,J,ve,"",function(Et){return Et})):be!=null&&(k(be)&&(be=x(be,ve+(!be.key||ze&&ze.key===be.key?"":(""+be.key).replace(j,"$&/")+"/")+$)),J.push(be)),1;if(ze=0,Re=Re===""?".":Re+":",H($))for(var Be=0;Be<$.length;Be++){Me=$[Be];var qe=Re+b(Me,Be);ze+=Ee(Me,J,ve,qe,be)}else if(qe=E($),typeof qe=="function")for($=qe.call($),Be=0;!(Me=$.next()).done;)Me=Me.value,qe=Re+b(Me,Be++),ze+=Ee(Me,J,ve,qe,be);else if(Me==="object")throw J=String($),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return ze}function Pe($,J,ve){if($==null)return $;var Re=[],be=0;return Ee($,Re,"","",function(Me){return J.call(ve,Me,be++)}),Re}function me($){if($._status===-1){var J=$._result;J=J(),J.then(function(ve){($._status===0||$._status===-1)&&($._status=1,$._result=ve)},function(ve){($._status===0||$._status===-1)&&($._status=2,$._result=ve)}),$._status===-1&&($._status=0,$._result=J)}if($._status===1)return $._result.default;throw $._result}var Ie={current:null},ie={transition:null},le={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:ie,ReactCurrentOwner:ee};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:Pe,forEach:function($,J,ve){Pe($,function(){J.apply(this,arguments)},ve)},count:function($){var J=0;return Pe($,function(){J++}),J},toArray:function($){return Pe($,function(J){return J})||[]},only:function($){if(!k($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Ne.Component=N,Ne.Fragment=t,Ne.Profiler=s,Ne.PureComponent=A,Ne.StrictMode=r,Ne.Suspense=f,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,Ne.act=ae,Ne.cloneElement=function($,J,ve){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var Re=S({},$.props),be=$.key,Me=$.ref,ze=$._owner;if(J!=null){if(J.ref!==void 0&&(Me=J.ref,ze=ee.current),J.key!==void 0&&(be=""+J.key),$.type&&$.type.defaultProps)var Be=$.type.defaultProps;for(qe in J)Y.call(J,qe)&&!L.hasOwnProperty(qe)&&(Re[qe]=J[qe]===void 0&&Be!==void 0?Be[qe]:J[qe])}var qe=arguments.length-2;if(qe===1)Re.children=ve;else if(1<qe){Be=Array(qe);for(var Et=0;Et<qe;Et++)Be[Et]=arguments[Et+2];Re.children=Be}return{$$typeof:n,type:$.type,key:be,ref:Me,props:Re,_owner:ze}},Ne.createContext=function($){return $={$$typeof:u,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:a,_context:$},$.Consumer=$},Ne.createElement=C,Ne.createFactory=function($){var J=C.bind(null,$);return J.type=$,J},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function($){return{$$typeof:h,render:$}},Ne.isValidElement=k,Ne.lazy=function($){return{$$typeof:v,_payload:{_status:-1,_result:$},_init:me}},Ne.memo=function($,J){return{$$typeof:p,type:$,compare:J===void 0?null:J}},Ne.startTransition=function($){var J=ie.transition;ie.transition={};try{$()}finally{ie.transition=J}},Ne.unstable_act=ae,Ne.useCallback=function($,J){return Ie.current.useCallback($,J)},Ne.useContext=function($){return Ie.current.useContext($)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function($){return Ie.current.useDeferredValue($)},Ne.useEffect=function($,J){return Ie.current.useEffect($,J)},Ne.useId=function(){return Ie.current.useId()},Ne.useImperativeHandle=function($,J,ve){return Ie.current.useImperativeHandle($,J,ve)},Ne.useInsertionEffect=function($,J){return Ie.current.useInsertionEffect($,J)},Ne.useLayoutEffect=function($,J){return Ie.current.useLayoutEffect($,J)},Ne.useMemo=function($,J){return Ie.current.useMemo($,J)},Ne.useReducer=function($,J,ve){return Ie.current.useReducer($,J,ve)},Ne.useRef=function($){return Ie.current.useRef($)},Ne.useState=function($){return Ie.current.useState($)},Ne.useSyncExternalStore=function($,J,ve){return Ie.current.useSyncExternalStore($,J,ve)},Ne.useTransition=function(){return Ie.current.useTransition()},Ne.version="18.3.1",Ne}var dv;function Yf(){return dv||(dv=1,Wh.exports=CT()),Wh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function PT(){if(hv)return Ya;hv=1;var n=Yf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,p){var v,w={},E=null,P=null;p!==void 0&&(E=""+p),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(P=f.ref);for(v in f)r.call(f,v)&&!a.hasOwnProperty(v)&&(w[v]=f[v]);if(h&&h.defaultProps)for(v in f=h.defaultProps,f)w[v]===void 0&&(w[v]=f[v]);return{$$typeof:e,type:h,key:E,ref:P,props:w,_owner:s.current}}return Ya.Fragment=t,Ya.jsx=u,Ya.jsxs=u,Ya}var fv;function AT(){return fv||(fv=1,Hh.exports=PT()),Hh.exports}var M=AT(),B=Yf();const vt=xT(B);var Zu={},qh={exports:{}},nn={},Gh={exports:{}},Kh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function RT(){return pv||(pv=1,function(n){function e(ie,le){var ae=ie.length;ie.push(le);e:for(;0<ae;){var $=ae-1>>>1,J=ie[$];if(0<s(J,le))ie[$]=le,ie[ae]=J,ae=$;else break e}}function t(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var le=ie[0],ae=ie.pop();if(ae!==le){ie[0]=ae;e:for(var $=0,J=ie.length,ve=J>>>1;$<ve;){var Re=2*($+1)-1,be=ie[Re],Me=Re+1,ze=ie[Me];if(0>s(be,ae))Me<J&&0>s(ze,be)?(ie[$]=ze,ie[Me]=ae,$=Me):(ie[$]=be,ie[Re]=ae,$=Re);else if(Me<J&&0>s(ze,ae))ie[$]=ze,ie[Me]=ae,$=Me;else break e}}return le}function s(ie,le){var ae=ie.sortIndex-le.sortIndex;return ae!==0?ae:ie.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],p=[],v=1,w=null,E=3,P=!1,S=!1,R=!1,N=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(ie){for(var le=t(p);le!==null;){if(le.callback===null)r(p);else if(le.startTime<=ie)r(p),le.sortIndex=le.expirationTime,e(f,le);else break;le=t(p)}}function H(ie){if(R=!1,F(ie),!S)if(t(f)!==null)S=!0,me(Y);else{var le=t(p);le!==null&&Ie(H,le.startTime-ie)}}function Y(ie,le){S=!1,R&&(R=!1,D(C),C=-1),P=!0;var ae=E;try{for(F(le),w=t(f);w!==null&&(!(w.expirationTime>le)||ie&&!O());){var $=w.callback;if(typeof $=="function"){w.callback=null,E=w.priorityLevel;var J=$(w.expirationTime<=le);le=n.unstable_now(),typeof J=="function"?w.callback=J:w===t(f)&&r(f),F(le)}else r(f);w=t(f)}if(w!==null)var ve=!0;else{var Re=t(p);Re!==null&&Ie(H,Re.startTime-le),ve=!1}return ve}finally{w=null,E=ae,P=!1}}var ee=!1,L=null,C=-1,x=5,k=-1;function O(){return!(n.unstable_now()-k<x)}function j(){if(L!==null){var ie=n.unstable_now();k=ie;var le=!0;try{le=L(!0,ie)}finally{le?b():(ee=!1,L=null)}}else ee=!1}var b;if(typeof A=="function")b=function(){A(j)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,Pe=Ee.port2;Ee.port1.onmessage=j,b=function(){Pe.postMessage(null)}}else b=function(){N(j,0)};function me(ie){L=ie,ee||(ee=!0,b())}function Ie(ie,le){C=N(function(){ie(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){S||P||(S=!0,me(Y))},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(ie){switch(E){case 1:case 2:case 3:var le=3;break;default:le=E}var ae=E;E=le;try{return ie()}finally{E=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,le){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ae=E;E=ie;try{return le()}finally{E=ae}},n.unstable_scheduleCallback=function(ie,le,ae){var $=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?$+ae:$):ae=$,ie){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=ae+J,ie={id:v++,callback:le,priorityLevel:ie,startTime:ae,expirationTime:J,sortIndex:-1},ae>$?(ie.sortIndex=ae,e(p,ie),t(f)===null&&ie===t(p)&&(R?(D(C),C=-1):R=!0,Ie(H,ae-$))):(ie.sortIndex=J,e(f,ie),S||P||(S=!0,me(Y))),ie},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(ie){var le=E;return function(){var ae=E;E=le;try{return ie.apply(this,arguments)}finally{E=ae}}}}(Kh)),Kh}var mv;function kT(){return mv||(mv=1,Gh.exports=RT()),Gh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv;function bT(){if(gv)return nn;gv=1;var n=Yf(),e=kT();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){u(i,o),u(i+"Capture",o)}function u(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function E(i){return f.call(w,i)?!0:f.call(v,i)?!1:p.test(i)?w[i]=!0:(v[i]=!0,!1)}function P(i,o,l,d){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function S(i,o,l,d){if(o===null||typeof o>"u"||P(i,o,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function R(i,o,l,d,m,y,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=i,this.type=o,this.sanitizeURL=y,this.removeEmptyString=T}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){N[i]=new R(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];N[o]=new R(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){N[i]=new R(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){N[i]=new R(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){N[i]=new R(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){N[i]=new R(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){N[i]=new R(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){N[i]=new R(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){N[i]=new R(i,5,!1,i.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function A(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(D,A);N[o]=new R(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(D,A);N[o]=new R(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(D,A);N[o]=new R(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){N[i]=new R(i,1,!1,i.toLowerCase(),null,!1,!1)}),N.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){N[i]=new R(i,1,!1,i.toLowerCase(),null,!0,!0)});function F(i,o,l,d){var m=N.hasOwnProperty(o)?N[o]:null;(m!==null?m.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(S(o,l,m,d)&&(l=null),d||m===null?E(o)&&(l===null?i.removeAttribute(o):i.setAttribute(o,""+l)):m.mustUseProperty?i[m.propertyName]=l===null?m.type===3?!1:"":l:(o=m.attributeName,d=m.attributeNamespace,l===null?i.removeAttribute(o):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,d?i.setAttributeNS(d,o,l):i.setAttribute(o,l))))}var H=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Y=Symbol.for("react.element"),ee=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),O=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),Pe=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),Ie=Symbol.for("react.offscreen"),ie=Symbol.iterator;function le(i){return i===null||typeof i!="object"?null:(i=ie&&i[ie]||i["@@iterator"],typeof i=="function"?i:null)}var ae=Object.assign,$;function J(i){if($===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);$=o&&o[1]||""}return`
`+$+i}var ve=!1;function Re(i,o){if(!i||ve)return"";ve=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(K){var d=K}Reflect.construct(i,[],o)}else{try{o.call()}catch(K){d=K}i.call(o.prototype)}else{try{throw Error()}catch(K){d=K}i()}}catch(K){if(K&&d&&typeof K.stack=="string"){for(var m=K.stack.split(`
`),y=d.stack.split(`
`),T=m.length-1,V=y.length-1;1<=T&&0<=V&&m[T]!==y[V];)V--;for(;1<=T&&0<=V;T--,V--)if(m[T]!==y[V]){if(T!==1||V!==1)do if(T--,V--,0>V||m[T]!==y[V]){var U=`
`+m[T].replace(" at new "," at ");return i.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",i.displayName)),U}while(1<=T&&0<=V);break}}}finally{ve=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?J(i):""}function be(i){switch(i.tag){case 5:return J(i.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return i=Re(i.type,!1),i;case 11:return i=Re(i.type.render,!1),i;case 1:return i=Re(i.type,!0),i;default:return""}}function Me(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case L:return"Fragment";case ee:return"Portal";case x:return"Profiler";case C:return"StrictMode";case b:return"Suspense";case Ee:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case O:return(i.displayName||"Context")+".Consumer";case k:return(i._context.displayName||"Context")+".Provider";case j:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Pe:return o=i.displayName||null,o!==null?o:Me(i.type)||"Memo";case me:o=i._payload,i=i._init;try{return Me(i(o))}catch{}}return null}function ze(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Me(o);case 8:return o===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Be(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function qe(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Et(i){var o=qe(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),d=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(T){d=""+T,y.call(this,T)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function pr(i){i._valueTracker||(i._valueTracker=Et(i))}function bs(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),d="";return i&&(d=qe(i)?i.checked?"true":"false":i.value),i=d,i!==l?(o.setValue(i),!0):!1}function Kr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function $i(i,o){var l=o.checked;return ae({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function Ns(i,o){var l=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;l=Be(o.value!=null?o.value:l),i._wrapperState={initialChecked:d,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function na(i,o){o=o.checked,o!=null&&F(i,"checked",o,!1)}function ra(i,o){na(i,o);var l=Be(o.value),d=o.type;if(l!=null)d==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(d==="submit"||d==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Ds(i,o.type,l):o.hasOwnProperty("defaultValue")&&Ds(i,o.type,Be(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Fl(i,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,l||o===i.value||(i.value=o),i.defaultValue=o}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function Ds(i,o,l){(o!=="number"||Kr(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var mr=Array.isArray;function gr(i,o,l,d){if(i=i.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=o.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&d&&(i[l].defaultSelected=!0)}else{for(l=""+Be(l),o=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,d&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function ia(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Ls(i,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(mr(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}i._wrapperState={initialValue:Be(l)}}function Os(i,o){var l=Be(o.value),d=Be(o.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),o.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),d!=null&&(i.defaultValue=""+d)}function sa(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function ht(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ft(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?ht(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var vr,oa=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,d,m){MSApp.execUnsafeLocalFunction(function(){return i(o,l,d,m)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(vr=vr||document.createElement("div"),vr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=vr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function Qr(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var Hi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wi=["Webkit","ms","Moz","O"];Object.keys(Hi).forEach(function(i){Wi.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Hi[o]=Hi[i]})});function aa(i,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||Hi.hasOwnProperty(i)&&Hi[i]?(""+o).trim():o+"px"}function la(i,o){i=i.style;for(var l in o)if(o.hasOwnProperty(l)){var d=l.indexOf("--")===0,m=aa(l,o[l],d);l==="float"&&(l="cssFloat"),d?i.setProperty(l,m):i[l]=m}}var ua=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ca(i,o){if(o){if(ua[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function da(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qi=null;function Ms(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Vs=null,gn=null,Kn=null;function Fs(i){if(i=Oa(i)){if(typeof Vs!="function")throw Error(t(280));var o=i.stateNode;o&&(o=pu(o),Vs(i.stateNode,i.type,o))}}function Qn(i){gn?Kn?Kn.push(i):Kn=[i]:gn=i}function ha(){if(gn){var i=gn,o=Kn;if(Kn=gn=null,Fs(i),o)for(i=0;i<o.length;i++)Fs(o[i])}}function Gi(i,o){return i(o)}function fa(){}var yr=!1;function pa(i,o,l){if(yr)return i(o,l);yr=!0;try{return Gi(i,o,l)}finally{yr=!1,(gn!==null||Kn!==null)&&(fa(),ha())}}function st(i,o){var l=i.stateNode;if(l===null)return null;var d=pu(l);if(d===null)return null;l=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var js=!1;if(h)try{var Pn={};Object.defineProperty(Pn,"passive",{get:function(){js=!0}}),window.addEventListener("test",Pn,Pn),window.removeEventListener("test",Pn,Pn)}catch{js=!1}function Ki(i,o,l,d,m,y,T,V,U){var K=Array.prototype.slice.call(arguments,3);try{o.apply(l,K)}catch(ne){this.onError(ne)}}var Qi=!1,Us=null,An=!1,ma=null,yd={onError:function(i){Qi=!0,Us=i}};function zs(i,o,l,d,m,y,T,V,U){Qi=!1,Us=null,Ki.apply(yd,arguments)}function jl(i,o,l,d,m,y,T,V,U){if(zs.apply(this,arguments),Qi){if(Qi){var K=Us;Qi=!1,Us=null}else throw Error(t(198));An||(An=!0,ma=K)}}function Rn(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function Yi(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function kn(i){if(Rn(i)!==i)throw Error(t(188))}function Ul(i){var o=i.alternate;if(!o){if(o=Rn(i),o===null)throw Error(t(188));return o!==i?null:i}for(var l=i,d=o;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(d=m.return,d!==null){l=d;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return kn(m),i;if(y===d)return kn(m),o;y=y.sibling}throw Error(t(188))}if(l.return!==d.return)l=m,d=y;else{for(var T=!1,V=m.child;V;){if(V===l){T=!0,l=m,d=y;break}if(V===d){T=!0,d=m,l=y;break}V=V.sibling}if(!T){for(V=y.child;V;){if(V===l){T=!0,l=y,d=m;break}if(V===d){T=!0,d=y,l=m;break}V=V.sibling}if(!T)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:o}function ga(i){return i=Ul(i),i!==null?Bs(i):null}function Bs(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=Bs(i);if(o!==null)return o;i=i.sibling}return null}var $s=e.unstable_scheduleCallback,va=e.unstable_cancelCallback,zl=e.unstable_shouldYield,_d=e.unstable_requestPaint,Ge=e.unstable_now,Bl=e.unstable_getCurrentPriorityLevel,Xi=e.unstable_ImmediatePriority,Yr=e.unstable_UserBlockingPriority,vn=e.unstable_NormalPriority,ya=e.unstable_LowPriority,$l=e.unstable_IdlePriority,Ji=null,on=null;function Hl(i){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(Ji,i,void 0,(i.current.flags&128)===128)}catch{}}var $t=Math.clz32?Math.clz32:ql,_a=Math.log,Wl=Math.LN2;function ql(i){return i>>>=0,i===0?32:31-(_a(i)/Wl|0)|0}var Hs=64,Ws=4194304;function Xr(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Zi(i,o){var l=i.pendingLanes;if(l===0)return 0;var d=0,m=i.suspendedLanes,y=i.pingedLanes,T=l&268435455;if(T!==0){var V=T&~m;V!==0?d=Xr(V):(y&=T,y!==0&&(d=Xr(y)))}else T=l&~m,T!==0?d=Xr(T):y!==0&&(d=Xr(y));if(d===0)return 0;if(o!==0&&o!==d&&(o&m)===0&&(m=d&-d,y=o&-o,m>=y||m===16&&(y&4194240)!==0))return o;if((d&4)!==0&&(d|=l&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=d;0<o;)l=31-$t(o),m=1<<l,d|=i[l],o&=~m;return d}function wd(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _r(i,o){for(var l=i.suspendedLanes,d=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes;0<y;){var T=31-$t(y),V=1<<T,U=m[T];U===-1?((V&l)===0||(V&d)!==0)&&(m[T]=wd(V,o)):U<=o&&(i.expiredLanes|=V),y&=~V}}function an(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function es(){var i=Hs;return Hs<<=1,(Hs&4194240)===0&&(Hs=64),i}function Jr(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function Zr(i,o,l){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-$t(o),i[o]=l}function We(i,o){var l=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var d=i.eventTimes;for(i=i.expirationTimes;0<l;){var m=31-$t(l),y=1<<m;o[m]=0,d[m]=-1,i[m]=-1,l&=~y}}function ei(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var d=31-$t(l),m=1<<d;m&o|i[d]&o&&(i[d]|=o),l&=~m}}var Oe=0;function ti(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Gl,qs,Kl,Ql,Yl,wa=!1,Yn=[],At=null,bn=null,Nn=null,ni=new Map,yn=new Map,Xn=[],Ed="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xl(i,o){switch(i){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":Nn=null;break;case"pointerover":case"pointerout":ni.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":yn.delete(o.pointerId)}}function Qt(i,o,l,d,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:o,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[m]},o!==null&&(o=Oa(o),o!==null&&qs(o)),i):(i.eventSystemFlags|=d,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function Td(i,o,l,d,m){switch(o){case"focusin":return At=Qt(At,i,o,l,d,m),!0;case"dragenter":return bn=Qt(bn,i,o,l,d,m),!0;case"mouseover":return Nn=Qt(Nn,i,o,l,d,m),!0;case"pointerover":var y=m.pointerId;return ni.set(y,Qt(ni.get(y)||null,i,o,l,d,m)),!0;case"gotpointercapture":return y=m.pointerId,yn.set(y,Qt(yn.get(y)||null,i,o,l,d,m)),!0}return!1}function Jl(i){var o=ss(i.target);if(o!==null){var l=Rn(o);if(l!==null){if(o=l.tag,o===13){if(o=Yi(l),o!==null){i.blockedOn=o,Yl(i.priority,function(){Kl(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function wr(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=Gs(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var d=new l.constructor(l.type,l);qi=d,l.target.dispatchEvent(d),qi=null}else return o=Oa(l),o!==null&&qs(o),i.blockedOn=l,!1;o.shift()}return!0}function ts(i,o,l){wr(i)&&l.delete(o)}function Zl(){wa=!1,At!==null&&wr(At)&&(At=null),bn!==null&&wr(bn)&&(bn=null),Nn!==null&&wr(Nn)&&(Nn=null),ni.forEach(ts),yn.forEach(ts)}function Dn(i,o){i.blockedOn===o&&(i.blockedOn=null,wa||(wa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Zl)))}function Ln(i){function o(m){return Dn(m,i)}if(0<Yn.length){Dn(Yn[0],i);for(var l=1;l<Yn.length;l++){var d=Yn[l];d.blockedOn===i&&(d.blockedOn=null)}}for(At!==null&&Dn(At,i),bn!==null&&Dn(bn,i),Nn!==null&&Dn(Nn,i),ni.forEach(o),yn.forEach(o),l=0;l<Xn.length;l++)d=Xn[l],d.blockedOn===i&&(d.blockedOn=null);for(;0<Xn.length&&(l=Xn[0],l.blockedOn===null);)Jl(l),l.blockedOn===null&&Xn.shift()}var Er=H.ReactCurrentBatchConfig,ri=!0;function Je(i,o,l,d){var m=Oe,y=Er.transition;Er.transition=null;try{Oe=1,Ea(i,o,l,d)}finally{Oe=m,Er.transition=y}}function Sd(i,o,l,d){var m=Oe,y=Er.transition;Er.transition=null;try{Oe=4,Ea(i,o,l,d)}finally{Oe=m,Er.transition=y}}function Ea(i,o,l,d){if(ri){var m=Gs(i,o,l,d);if(m===null)Ld(i,o,d,ns,l),Xl(i,d);else if(Td(m,i,o,l,d))d.stopPropagation();else if(Xl(i,d),o&4&&-1<Ed.indexOf(i)){for(;m!==null;){var y=Oa(m);if(y!==null&&Gl(y),y=Gs(i,o,l,d),y===null&&Ld(i,o,d,ns,l),y===m)break;m=y}m!==null&&d.stopPropagation()}else Ld(i,o,d,null,l)}}var ns=null;function Gs(i,o,l,d){if(ns=null,i=Ms(d),i=ss(i),i!==null)if(o=Rn(i),o===null)i=null;else if(l=o.tag,l===13){if(i=Yi(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return ns=i,null}function Ta(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bl()){case Xi:return 1;case Yr:return 4;case vn:case ya:return 16;case $l:return 536870912;default:return 16}default:return 16}}var ln=null,Ks=null,Yt=null;function Sa(){if(Yt)return Yt;var i,o=Ks,l=o.length,d,m="value"in ln?ln.value:ln.textContent,y=m.length;for(i=0;i<l&&o[i]===m[i];i++);var T=l-i;for(d=1;d<=T&&o[l-d]===m[y-d];d++);return Yt=m.slice(i,1<d?1-d:void 0)}function Qs(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Jn(){return!0}function Ia(){return!1}function Rt(i){function o(l,d,m,y,T){this._reactName=l,this._targetInst=m,this.type=d,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var V in i)i.hasOwnProperty(V)&&(l=i[V],this[V]=l?l(y):y[V]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Jn:Ia,this.isPropagationStopped=Ia,this}return ae(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Jn)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Jn)},persist:function(){},isPersistent:Jn}),o}var On={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ys=Rt(On),Zn=ae({},On,{view:0,detail:0}),Id=Rt(Zn),Xs,Tr,ii,rs=ae({},Zn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:er,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ii&&(ii&&i.type==="mousemove"?(Xs=i.screenX-ii.screenX,Tr=i.screenY-ii.screenY):Tr=Xs=0,ii=i),Xs)},movementY:function(i){return"movementY"in i?i.movementY:Tr}}),Js=Rt(rs),xa=ae({},rs,{dataTransfer:0}),eu=Rt(xa),Zs=ae({},Zn,{relatedTarget:0}),eo=Rt(Zs),tu=ae({},On,{animationName:0,elapsedTime:0,pseudoElement:0}),Sr=Rt(tu),nu=ae({},On,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ru=Rt(nu),iu=ae({},On,{data:0}),Ca=Rt(iu),to={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ht={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ou(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=su[i])?!!o[i]:!1}function er(){return ou}var c=ae({},Zn,{key:function(i){if(i.key){var o=to[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Qs(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Ht[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:er,charCode:function(i){return i.type==="keypress"?Qs(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Qs(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),g=Rt(c),_=ae({},rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=Rt(_),W=ae({},Zn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:er}),Q=Rt(W),oe=ae({},On,{propertyName:0,elapsedTime:0,pseudoElement:0}),He=Rt(oe),pt=ae({},rs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ve=Rt(pt),Tt=[9,13,27,32],lt=h&&"CompositionEvent"in window,_n=null;h&&"documentMode"in document&&(_n=document.documentMode);var un=h&&"TextEvent"in window&&!_n,is=h&&(!lt||_n&&8<_n&&11>=_n),no=" ",im=!1;function sm(i,o){switch(i){case"keyup":return Tt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function om(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ro=!1;function TE(i,o){switch(i){case"compositionend":return om(o);case"keypress":return o.which!==32?null:(im=!0,no);case"textInput":return i=o.data,i===no&&im?null:i;default:return null}}function SE(i,o){if(ro)return i==="compositionend"||!lt&&sm(i,o)?(i=Sa(),Yt=Ks=ln=null,ro=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return is&&o.locale!=="ko"?null:o.data;default:return null}}var IE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function am(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!IE[i.type]:o==="textarea"}function lm(i,o,l,d){Qn(d),o=du(o,"onChange"),0<o.length&&(l=new Ys("onChange","change",null,l,d),i.push({event:l,listeners:o}))}var Pa=null,Aa=null;function xE(i){Cm(i,0)}function au(i){var o=lo(i);if(bs(o))return i}function CE(i,o){if(i==="change")return o}var um=!1;if(h){var xd;if(h){var Cd="oninput"in document;if(!Cd){var cm=document.createElement("div");cm.setAttribute("oninput","return;"),Cd=typeof cm.oninput=="function"}xd=Cd}else xd=!1;um=xd&&(!document.documentMode||9<document.documentMode)}function dm(){Pa&&(Pa.detachEvent("onpropertychange",hm),Aa=Pa=null)}function hm(i){if(i.propertyName==="value"&&au(Aa)){var o=[];lm(o,Aa,i,Ms(i)),pa(xE,o)}}function PE(i,o,l){i==="focusin"?(dm(),Pa=o,Aa=l,Pa.attachEvent("onpropertychange",hm)):i==="focusout"&&dm()}function AE(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return au(Aa)}function RE(i,o){if(i==="click")return au(o)}function kE(i,o){if(i==="input"||i==="change")return au(o)}function bE(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Mn=typeof Object.is=="function"?Object.is:bE;function Ra(i,o){if(Mn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),d=Object.keys(o);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var m=l[d];if(!f.call(o,m)||!Mn(i[m],o[m]))return!1}return!0}function fm(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function pm(i,o){var l=fm(i);i=0;for(var d;l;){if(l.nodeType===3){if(d=i+l.textContent.length,i<=o&&d>=o)return{node:l,offset:o-i};i=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=fm(l)}}function mm(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?mm(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function gm(){for(var i=window,o=Kr();o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=Kr(i.document)}return o}function Pd(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function NE(i){var o=gm(),l=i.focusedElem,d=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&mm(l.ownerDocument.documentElement,l)){if(d!==null&&Pd(l)){if(o=d.start,i=d.end,i===void 0&&(i=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(i,l.value.length);else if(i=(o=l.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=l.textContent.length,y=Math.min(d.start,m);d=d.end===void 0?y:Math.min(d.end,m),!i.extend&&y>d&&(m=d,d=y,y=m),m=pm(l,y);var T=pm(l,d);m&&T&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),y>d?(i.addRange(o),i.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),i.addRange(o)))}}for(o=[],i=l;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)i=o[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var DE=h&&"documentMode"in document&&11>=document.documentMode,io=null,Ad=null,ka=null,Rd=!1;function vm(i,o,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Rd||io==null||io!==Kr(d)||(d=io,"selectionStart"in d&&Pd(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),ka&&Ra(ka,d)||(ka=d,d=du(Ad,"onSelect"),0<d.length&&(o=new Ys("onSelect","select",null,o,l),i.push({event:o,listeners:d}),o.target=io)))}function lu(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var so={animationend:lu("Animation","AnimationEnd"),animationiteration:lu("Animation","AnimationIteration"),animationstart:lu("Animation","AnimationStart"),transitionend:lu("Transition","TransitionEnd")},kd={},ym={};h&&(ym=document.createElement("div").style,"AnimationEvent"in window||(delete so.animationend.animation,delete so.animationiteration.animation,delete so.animationstart.animation),"TransitionEvent"in window||delete so.transitionend.transition);function uu(i){if(kd[i])return kd[i];if(!so[i])return i;var o=so[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in ym)return kd[i]=o[l];return i}var _m=uu("animationend"),wm=uu("animationiteration"),Em=uu("animationstart"),Tm=uu("transitionend"),Sm=new Map,Im="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function si(i,o){Sm.set(i,o),a(o,[i])}for(var bd=0;bd<Im.length;bd++){var Nd=Im[bd],LE=Nd.toLowerCase(),OE=Nd[0].toUpperCase()+Nd.slice(1);si(LE,"on"+OE)}si(_m,"onAnimationEnd"),si(wm,"onAnimationIteration"),si(Em,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(Tm,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ME=new Set("cancel close invalid load scroll toggle".split(" ").concat(ba));function xm(i,o,l){var d=i.type||"unknown-event";i.currentTarget=l,jl(d,o,void 0,i),i.currentTarget=null}function Cm(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var d=i[l],m=d.event;d=d.listeners;e:{var y=void 0;if(o)for(var T=d.length-1;0<=T;T--){var V=d[T],U=V.instance,K=V.currentTarget;if(V=V.listener,U!==y&&m.isPropagationStopped())break e;xm(m,V,K),y=U}else for(T=0;T<d.length;T++){if(V=d[T],U=V.instance,K=V.currentTarget,V=V.listener,U!==y&&m.isPropagationStopped())break e;xm(m,V,K),y=U}}}if(An)throw i=ma,An=!1,ma=null,i}function Ye(i,o){var l=o[Ud];l===void 0&&(l=o[Ud]=new Set);var d=i+"__bubble";l.has(d)||(Pm(o,i,2,!1),l.add(d))}function Dd(i,o,l){var d=0;o&&(d|=4),Pm(l,i,d,o)}var cu="_reactListening"+Math.random().toString(36).slice(2);function Na(i){if(!i[cu]){i[cu]=!0,r.forEach(function(l){l!=="selectionchange"&&(ME.has(l)||Dd(l,!1,i),Dd(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[cu]||(o[cu]=!0,Dd("selectionchange",!1,o))}}function Pm(i,o,l,d){switch(Ta(o)){case 1:var m=Je;break;case 4:m=Sd;break;default:m=Ea}l=m.bind(null,o,l,i),m=void 0,!js||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?i.addEventListener(o,l,{capture:!0,passive:m}):i.addEventListener(o,l,!0):m!==void 0?i.addEventListener(o,l,{passive:m}):i.addEventListener(o,l,!1)}function Ld(i,o,l,d,m){var y=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var V=d.stateNode.containerInfo;if(V===m||V.nodeType===8&&V.parentNode===m)break;if(T===4)for(T=d.return;T!==null;){var U=T.tag;if((U===3||U===4)&&(U=T.stateNode.containerInfo,U===m||U.nodeType===8&&U.parentNode===m))return;T=T.return}for(;V!==null;){if(T=ss(V),T===null)return;if(U=T.tag,U===5||U===6){d=y=T;continue e}V=V.parentNode}}d=d.return}pa(function(){var K=y,ne=Ms(l),re=[];e:{var te=Sm.get(i);if(te!==void 0){var ce=Ys,fe=i;switch(i){case"keypress":if(Qs(l)===0)break e;case"keydown":case"keyup":ce=g;break;case"focusin":fe="focus",ce=eo;break;case"focusout":fe="blur",ce=eo;break;case"beforeblur":case"afterblur":ce=eo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=Js;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=Q;break;case _m:case wm:case Em:ce=Sr;break;case Tm:ce=He;break;case"scroll":ce=Id;break;case"wheel":ce=Ve;break;case"copy":case"cut":case"paste":ce=ru;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=I}var pe=(o&4)!==0,ot=!pe&&i==="scroll",q=pe?te!==null?te+"Capture":null:te;pe=[];for(var z=K,G;z!==null;){G=z;var se=G.stateNode;if(G.tag===5&&se!==null&&(G=se,q!==null&&(se=st(z,q),se!=null&&pe.push(Da(z,se,G)))),ot)break;z=z.return}0<pe.length&&(te=new ce(te,fe,null,l,ne),re.push({event:te,listeners:pe}))}}if((o&7)===0){e:{if(te=i==="mouseover"||i==="pointerover",ce=i==="mouseout"||i==="pointerout",te&&l!==qi&&(fe=l.relatedTarget||l.fromElement)&&(ss(fe)||fe[Ir]))break e;if((ce||te)&&(te=ne.window===ne?ne:(te=ne.ownerDocument)?te.defaultView||te.parentWindow:window,ce?(fe=l.relatedTarget||l.toElement,ce=K,fe=fe?ss(fe):null,fe!==null&&(ot=Rn(fe),fe!==ot||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(ce=null,fe=K),ce!==fe)){if(pe=Js,se="onMouseLeave",q="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(pe=I,se="onPointerLeave",q="onPointerEnter",z="pointer"),ot=ce==null?te:lo(ce),G=fe==null?te:lo(fe),te=new pe(se,z+"leave",ce,l,ne),te.target=ot,te.relatedTarget=G,se=null,ss(ne)===K&&(pe=new pe(q,z+"enter",fe,l,ne),pe.target=G,pe.relatedTarget=ot,se=pe),ot=se,ce&&fe)t:{for(pe=ce,q=fe,z=0,G=pe;G;G=oo(G))z++;for(G=0,se=q;se;se=oo(se))G++;for(;0<z-G;)pe=oo(pe),z--;for(;0<G-z;)q=oo(q),G--;for(;z--;){if(pe===q||q!==null&&pe===q.alternate)break t;pe=oo(pe),q=oo(q)}pe=null}else pe=null;ce!==null&&Am(re,te,ce,pe,!1),fe!==null&&ot!==null&&Am(re,ot,fe,pe,!0)}}e:{if(te=K?lo(K):window,ce=te.nodeName&&te.nodeName.toLowerCase(),ce==="select"||ce==="input"&&te.type==="file")var ge=CE;else if(am(te))if(um)ge=kE;else{ge=AE;var _e=PE}else(ce=te.nodeName)&&ce.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(ge=RE);if(ge&&(ge=ge(i,K))){lm(re,ge,l,ne);break e}_e&&_e(i,te,K),i==="focusout"&&(_e=te._wrapperState)&&_e.controlled&&te.type==="number"&&Ds(te,"number",te.value)}switch(_e=K?lo(K):window,i){case"focusin":(am(_e)||_e.contentEditable==="true")&&(io=_e,Ad=K,ka=null);break;case"focusout":ka=Ad=io=null;break;case"mousedown":Rd=!0;break;case"contextmenu":case"mouseup":case"dragend":Rd=!1,vm(re,l,ne);break;case"selectionchange":if(DE)break;case"keydown":case"keyup":vm(re,l,ne)}var we;if(lt)e:{switch(i){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else ro?sm(i,l)&&(xe="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(xe="onCompositionStart");xe&&(is&&l.locale!=="ko"&&(ro||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&ro&&(we=Sa()):(ln=ne,Ks="value"in ln?ln.value:ln.textContent,ro=!0)),_e=du(K,xe),0<_e.length&&(xe=new Ca(xe,i,null,l,ne),re.push({event:xe,listeners:_e}),we?xe.data=we:(we=om(l),we!==null&&(xe.data=we)))),(we=un?TE(i,l):SE(i,l))&&(K=du(K,"onBeforeInput"),0<K.length&&(ne=new Ca("onBeforeInput","beforeinput",null,l,ne),re.push({event:ne,listeners:K}),ne.data=we))}Cm(re,o)})}function Da(i,o,l){return{instance:i,listener:o,currentTarget:l}}function du(i,o){for(var l=o+"Capture",d=[];i!==null;){var m=i,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=st(i,l),y!=null&&d.unshift(Da(i,y,m)),y=st(i,o),y!=null&&d.push(Da(i,y,m))),i=i.return}return d}function oo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Am(i,o,l,d,m){for(var y=o._reactName,T=[];l!==null&&l!==d;){var V=l,U=V.alternate,K=V.stateNode;if(U!==null&&U===d)break;V.tag===5&&K!==null&&(V=K,m?(U=st(l,y),U!=null&&T.unshift(Da(l,U,V))):m||(U=st(l,y),U!=null&&T.push(Da(l,U,V)))),l=l.return}T.length!==0&&i.push({event:o,listeners:T})}var VE=/\r\n?/g,FE=/\u0000|\uFFFD/g;function Rm(i){return(typeof i=="string"?i:""+i).replace(VE,`
`).replace(FE,"")}function hu(i,o,l){if(o=Rm(o),Rm(i)!==o&&l)throw Error(t(425))}function fu(){}var Od=null,Md=null;function Vd(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Fd=typeof setTimeout=="function"?setTimeout:void 0,jE=typeof clearTimeout=="function"?clearTimeout:void 0,km=typeof Promise=="function"?Promise:void 0,UE=typeof queueMicrotask=="function"?queueMicrotask:typeof km<"u"?function(i){return km.resolve(null).then(i).catch(zE)}:Fd;function zE(i){setTimeout(function(){throw i})}function jd(i,o){var l=o,d=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(d===0){i.removeChild(m),Ln(o);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=m}while(l);Ln(o)}function oi(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function bm(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}var ao=Math.random().toString(36).slice(2),tr="__reactFiber$"+ao,La="__reactProps$"+ao,Ir="__reactContainer$"+ao,Ud="__reactEvents$"+ao,BE="__reactListeners$"+ao,$E="__reactHandles$"+ao;function ss(i){var o=i[tr];if(o)return o;for(var l=i.parentNode;l;){if(o=l[Ir]||l[tr]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=bm(i);i!==null;){if(l=i[tr])return l;i=bm(i)}return o}i=l,l=i.parentNode}return null}function Oa(i){return i=i[tr]||i[Ir],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function lo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function pu(i){return i[La]||null}var zd=[],uo=-1;function ai(i){return{current:i}}function Xe(i){0>uo||(i.current=zd[uo],zd[uo]=null,uo--)}function Ke(i,o){uo++,zd[uo]=i.current,i.current=o}var li={},Ot=ai(li),Xt=ai(!1),os=li;function co(i,o){var l=i.type.contextTypes;if(!l)return li;var d=i.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in l)m[y]=o[y];return d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function Jt(i){return i=i.childContextTypes,i!=null}function mu(){Xe(Xt),Xe(Ot)}function Nm(i,o,l){if(Ot.current!==li)throw Error(t(168));Ke(Ot,o),Ke(Xt,l)}function Dm(i,o,l){var d=i.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var m in d)if(!(m in o))throw Error(t(108,ze(i)||"Unknown",m));return ae({},l,d)}function gu(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||li,os=Ot.current,Ke(Ot,i),Ke(Xt,Xt.current),!0}function Lm(i,o,l){var d=i.stateNode;if(!d)throw Error(t(169));l?(i=Dm(i,o,os),d.__reactInternalMemoizedMergedChildContext=i,Xe(Xt),Xe(Ot),Ke(Ot,i)):Xe(Xt),Ke(Xt,l)}var xr=null,vu=!1,Bd=!1;function Om(i){xr===null?xr=[i]:xr.push(i)}function HE(i){vu=!0,Om(i)}function ui(){if(!Bd&&xr!==null){Bd=!0;var i=0,o=Oe;try{var l=xr;for(Oe=1;i<l.length;i++){var d=l[i];do d=d(!0);while(d!==null)}xr=null,vu=!1}catch(m){throw xr!==null&&(xr=xr.slice(i+1)),$s(Xi,ui),m}finally{Oe=o,Bd=!1}}return null}var ho=[],fo=0,yu=null,_u=0,wn=[],En=0,as=null,Cr=1,Pr="";function ls(i,o){ho[fo++]=_u,ho[fo++]=yu,yu=i,_u=o}function Mm(i,o,l){wn[En++]=Cr,wn[En++]=Pr,wn[En++]=as,as=i;var d=Cr;i=Pr;var m=32-$t(d)-1;d&=~(1<<m),l+=1;var y=32-$t(o)+m;if(30<y){var T=m-m%5;y=(d&(1<<T)-1).toString(32),d>>=T,m-=T,Cr=1<<32-$t(o)+m|l<<m|d,Pr=y+i}else Cr=1<<y|l<<m|d,Pr=i}function $d(i){i.return!==null&&(ls(i,1),Mm(i,1,0))}function Hd(i){for(;i===yu;)yu=ho[--fo],ho[fo]=null,_u=ho[--fo],ho[fo]=null;for(;i===as;)as=wn[--En],wn[En]=null,Pr=wn[--En],wn[En]=null,Cr=wn[--En],wn[En]=null}var cn=null,dn=null,Ze=!1,Vn=null;function Vm(i,o){var l=xn(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=i,o=i.deletions,o===null?(i.deletions=[l],i.flags|=16):o.push(l)}function Fm(i,o){switch(i.tag){case 5:var l=i.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,cn=i,dn=oi(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,cn=i,dn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=as!==null?{id:Cr,overflow:Pr}:null,i.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=xn(18,null,null,0),l.stateNode=o,l.return=i,i.child=l,cn=i,dn=null,!0):!1;default:return!1}}function Wd(i){return(i.mode&1)!==0&&(i.flags&128)===0}function qd(i){if(Ze){var o=dn;if(o){var l=o;if(!Fm(i,o)){if(Wd(i))throw Error(t(418));o=oi(l.nextSibling);var d=cn;o&&Fm(i,o)?Vm(d,l):(i.flags=i.flags&-4097|2,Ze=!1,cn=i)}}else{if(Wd(i))throw Error(t(418));i.flags=i.flags&-4097|2,Ze=!1,cn=i}}}function jm(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;cn=i}function wu(i){if(i!==cn)return!1;if(!Ze)return jm(i),Ze=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Vd(i.type,i.memoizedProps)),o&&(o=dn)){if(Wd(i))throw Um(),Error(t(418));for(;o;)Vm(i,o),o=oi(o.nextSibling)}if(jm(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(o===0){dn=oi(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}i=i.nextSibling}dn=null}}else dn=cn?oi(i.stateNode.nextSibling):null;return!0}function Um(){for(var i=dn;i;)i=oi(i.nextSibling)}function po(){dn=cn=null,Ze=!1}function Gd(i){Vn===null?Vn=[i]:Vn.push(i)}var WE=H.ReactCurrentBatchConfig;function Ma(i,o,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,i));var m=d,y=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(T){var V=m.refs;T===null?delete V[y]:V[y]=T},o._stringRef=y,o)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function Eu(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function zm(i){var o=i._init;return o(i._payload)}function Bm(i){function o(q,z){if(i){var G=q.deletions;G===null?(q.deletions=[z],q.flags|=16):G.push(z)}}function l(q,z){if(!i)return null;for(;z!==null;)o(q,z),z=z.sibling;return null}function d(q,z){for(q=new Map;z!==null;)z.key!==null?q.set(z.key,z):q.set(z.index,z),z=z.sibling;return q}function m(q,z){return q=vi(q,z),q.index=0,q.sibling=null,q}function y(q,z,G){return q.index=G,i?(G=q.alternate,G!==null?(G=G.index,G<z?(q.flags|=2,z):G):(q.flags|=2,z)):(q.flags|=1048576,z)}function T(q){return i&&q.alternate===null&&(q.flags|=2),q}function V(q,z,G,se){return z===null||z.tag!==6?(z=Fh(G,q.mode,se),z.return=q,z):(z=m(z,G),z.return=q,z)}function U(q,z,G,se){var ge=G.type;return ge===L?ne(q,z,G.props.children,se,G.key):z!==null&&(z.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===me&&zm(ge)===z.type)?(se=m(z,G.props),se.ref=Ma(q,z,G),se.return=q,se):(se=Wu(G.type,G.key,G.props,null,q.mode,se),se.ref=Ma(q,z,G),se.return=q,se)}function K(q,z,G,se){return z===null||z.tag!==4||z.stateNode.containerInfo!==G.containerInfo||z.stateNode.implementation!==G.implementation?(z=jh(G,q.mode,se),z.return=q,z):(z=m(z,G.children||[]),z.return=q,z)}function ne(q,z,G,se,ge){return z===null||z.tag!==7?(z=gs(G,q.mode,se,ge),z.return=q,z):(z=m(z,G),z.return=q,z)}function re(q,z,G){if(typeof z=="string"&&z!==""||typeof z=="number")return z=Fh(""+z,q.mode,G),z.return=q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Y:return G=Wu(z.type,z.key,z.props,null,q.mode,G),G.ref=Ma(q,null,z),G.return=q,G;case ee:return z=jh(z,q.mode,G),z.return=q,z;case me:var se=z._init;return re(q,se(z._payload),G)}if(mr(z)||le(z))return z=gs(z,q.mode,G,null),z.return=q,z;Eu(q,z)}return null}function te(q,z,G,se){var ge=z!==null?z.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return ge!==null?null:V(q,z,""+G,se);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case Y:return G.key===ge?U(q,z,G,se):null;case ee:return G.key===ge?K(q,z,G,se):null;case me:return ge=G._init,te(q,z,ge(G._payload),se)}if(mr(G)||le(G))return ge!==null?null:ne(q,z,G,se,null);Eu(q,G)}return null}function ce(q,z,G,se,ge){if(typeof se=="string"&&se!==""||typeof se=="number")return q=q.get(G)||null,V(z,q,""+se,ge);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case Y:return q=q.get(se.key===null?G:se.key)||null,U(z,q,se,ge);case ee:return q=q.get(se.key===null?G:se.key)||null,K(z,q,se,ge);case me:var _e=se._init;return ce(q,z,G,_e(se._payload),ge)}if(mr(se)||le(se))return q=q.get(G)||null,ne(z,q,se,ge,null);Eu(z,se)}return null}function fe(q,z,G,se){for(var ge=null,_e=null,we=z,xe=z=0,xt=null;we!==null&&xe<G.length;xe++){we.index>xe?(xt=we,we=null):xt=we.sibling;var Ue=te(q,we,G[xe],se);if(Ue===null){we===null&&(we=xt);break}i&&we&&Ue.alternate===null&&o(q,we),z=y(Ue,z,xe),_e===null?ge=Ue:_e.sibling=Ue,_e=Ue,we=xt}if(xe===G.length)return l(q,we),Ze&&ls(q,xe),ge;if(we===null){for(;xe<G.length;xe++)we=re(q,G[xe],se),we!==null&&(z=y(we,z,xe),_e===null?ge=we:_e.sibling=we,_e=we);return Ze&&ls(q,xe),ge}for(we=d(q,we);xe<G.length;xe++)xt=ce(we,q,xe,G[xe],se),xt!==null&&(i&&xt.alternate!==null&&we.delete(xt.key===null?xe:xt.key),z=y(xt,z,xe),_e===null?ge=xt:_e.sibling=xt,_e=xt);return i&&we.forEach(function(yi){return o(q,yi)}),Ze&&ls(q,xe),ge}function pe(q,z,G,se){var ge=le(G);if(typeof ge!="function")throw Error(t(150));if(G=ge.call(G),G==null)throw Error(t(151));for(var _e=ge=null,we=z,xe=z=0,xt=null,Ue=G.next();we!==null&&!Ue.done;xe++,Ue=G.next()){we.index>xe?(xt=we,we=null):xt=we.sibling;var yi=te(q,we,Ue.value,se);if(yi===null){we===null&&(we=xt);break}i&&we&&yi.alternate===null&&o(q,we),z=y(yi,z,xe),_e===null?ge=yi:_e.sibling=yi,_e=yi,we=xt}if(Ue.done)return l(q,we),Ze&&ls(q,xe),ge;if(we===null){for(;!Ue.done;xe++,Ue=G.next())Ue=re(q,Ue.value,se),Ue!==null&&(z=y(Ue,z,xe),_e===null?ge=Ue:_e.sibling=Ue,_e=Ue);return Ze&&ls(q,xe),ge}for(we=d(q,we);!Ue.done;xe++,Ue=G.next())Ue=ce(we,q,xe,Ue.value,se),Ue!==null&&(i&&Ue.alternate!==null&&we.delete(Ue.key===null?xe:Ue.key),z=y(Ue,z,xe),_e===null?ge=Ue:_e.sibling=Ue,_e=Ue);return i&&we.forEach(function(IT){return o(q,IT)}),Ze&&ls(q,xe),ge}function ot(q,z,G,se){if(typeof G=="object"&&G!==null&&G.type===L&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case Y:e:{for(var ge=G.key,_e=z;_e!==null;){if(_e.key===ge){if(ge=G.type,ge===L){if(_e.tag===7){l(q,_e.sibling),z=m(_e,G.props.children),z.return=q,q=z;break e}}else if(_e.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===me&&zm(ge)===_e.type){l(q,_e.sibling),z=m(_e,G.props),z.ref=Ma(q,_e,G),z.return=q,q=z;break e}l(q,_e);break}else o(q,_e);_e=_e.sibling}G.type===L?(z=gs(G.props.children,q.mode,se,G.key),z.return=q,q=z):(se=Wu(G.type,G.key,G.props,null,q.mode,se),se.ref=Ma(q,z,G),se.return=q,q=se)}return T(q);case ee:e:{for(_e=G.key;z!==null;){if(z.key===_e)if(z.tag===4&&z.stateNode.containerInfo===G.containerInfo&&z.stateNode.implementation===G.implementation){l(q,z.sibling),z=m(z,G.children||[]),z.return=q,q=z;break e}else{l(q,z);break}else o(q,z);z=z.sibling}z=jh(G,q.mode,se),z.return=q,q=z}return T(q);case me:return _e=G._init,ot(q,z,_e(G._payload),se)}if(mr(G))return fe(q,z,G,se);if(le(G))return pe(q,z,G,se);Eu(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,z!==null&&z.tag===6?(l(q,z.sibling),z=m(z,G),z.return=q,q=z):(l(q,z),z=Fh(G,q.mode,se),z.return=q,q=z),T(q)):l(q,z)}return ot}var mo=Bm(!0),$m=Bm(!1),Tu=ai(null),Su=null,go=null,Kd=null;function Qd(){Kd=go=Su=null}function Yd(i){var o=Tu.current;Xe(Tu),i._currentValue=o}function Xd(i,o,l){for(;i!==null;){var d=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),i===l)break;i=i.return}}function vo(i,o){Su=i,Kd=go=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(Zt=!0),i.firstContext=null)}function Tn(i){var o=i._currentValue;if(Kd!==i)if(i={context:i,memoizedValue:o,next:null},go===null){if(Su===null)throw Error(t(308));go=i,Su.dependencies={lanes:0,firstContext:i}}else go=go.next=i;return o}var us=null;function Jd(i){us===null?us=[i]:us.push(i)}function Hm(i,o,l,d){var m=o.interleaved;return m===null?(l.next=l,Jd(o)):(l.next=m.next,m.next=l),o.interleaved=l,Ar(i,d)}function Ar(i,o){i.lanes|=o;var l=i.alternate;for(l!==null&&(l.lanes|=o),l=i,i=i.return;i!==null;)i.childLanes|=o,l=i.alternate,l!==null&&(l.childLanes|=o),l=i,i=i.return;return l.tag===3?l.stateNode:null}var ci=!1;function Zd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wm(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Rr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function di(i,o,l){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(je&2)!==0){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,Ar(i,l)}return m=d.interleaved,m===null?(o.next=o,Jd(d)):(o.next=m.next,m.next=o),d.interleaved=o,Ar(i,l)}function Iu(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var d=o.lanes;d&=i.pendingLanes,l|=d,o.lanes=l,ei(i,l)}}function qm(i,o){var l=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?m=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?m=y=o:y=y.next=o}else m=y=o;l={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:d.shared,effects:d.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}function xu(i,o,l,d){var m=i.updateQueue;ci=!1;var y=m.firstBaseUpdate,T=m.lastBaseUpdate,V=m.shared.pending;if(V!==null){m.shared.pending=null;var U=V,K=U.next;U.next=null,T===null?y=K:T.next=K,T=U;var ne=i.alternate;ne!==null&&(ne=ne.updateQueue,V=ne.lastBaseUpdate,V!==T&&(V===null?ne.firstBaseUpdate=K:V.next=K,ne.lastBaseUpdate=U))}if(y!==null){var re=m.baseState;T=0,ne=K=U=null,V=y;do{var te=V.lane,ce=V.eventTime;if((d&te)===te){ne!==null&&(ne=ne.next={eventTime:ce,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var fe=i,pe=V;switch(te=o,ce=l,pe.tag){case 1:if(fe=pe.payload,typeof fe=="function"){re=fe.call(ce,re,te);break e}re=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=pe.payload,te=typeof fe=="function"?fe.call(ce,re,te):fe,te==null)break e;re=ae({},re,te);break e;case 2:ci=!0}}V.callback!==null&&V.lane!==0&&(i.flags|=64,te=m.effects,te===null?m.effects=[V]:te.push(V))}else ce={eventTime:ce,lane:te,tag:V.tag,payload:V.payload,callback:V.callback,next:null},ne===null?(K=ne=ce,U=re):ne=ne.next=ce,T|=te;if(V=V.next,V===null){if(V=m.shared.pending,V===null)break;te=V,V=te.next,te.next=null,m.lastBaseUpdate=te,m.shared.pending=null}}while(!0);if(ne===null&&(U=re),m.baseState=U,m.firstBaseUpdate=K,m.lastBaseUpdate=ne,o=m.shared.interleaved,o!==null){m=o;do T|=m.lane,m=m.next;while(m!==o)}else y===null&&(m.shared.lanes=0);hs|=T,i.lanes=T,i.memoizedState=re}}function Gm(i,o,l){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var d=i[o],m=d.callback;if(m!==null){if(d.callback=null,d=l,typeof m!="function")throw Error(t(191,m));m.call(d)}}}var Va={},nr=ai(Va),Fa=ai(Va),ja=ai(Va);function cs(i){if(i===Va)throw Error(t(174));return i}function eh(i,o){switch(Ke(ja,o),Ke(Fa,i),Ke(nr,Va),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:ft(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=ft(o,i)}Xe(nr),Ke(nr,o)}function yo(){Xe(nr),Xe(Fa),Xe(ja)}function Km(i){cs(ja.current);var o=cs(nr.current),l=ft(o,i.type);o!==l&&(Ke(Fa,i),Ke(nr,l))}function th(i){Fa.current===i&&(Xe(nr),Xe(Fa))}var tt=ai(0);function Cu(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var nh=[];function rh(){for(var i=0;i<nh.length;i++)nh[i]._workInProgressVersionPrimary=null;nh.length=0}var Pu=H.ReactCurrentDispatcher,ih=H.ReactCurrentBatchConfig,ds=0,nt=null,mt=null,St=null,Au=!1,Ua=!1,za=0,qE=0;function Mt(){throw Error(t(321))}function sh(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!Mn(i[l],o[l]))return!1;return!0}function oh(i,o,l,d,m,y){if(ds=y,nt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Pu.current=i===null||i.memoizedState===null?YE:XE,i=l(d,m),Ua){y=0;do{if(Ua=!1,za=0,25<=y)throw Error(t(301));y+=1,St=mt=null,o.updateQueue=null,Pu.current=JE,i=l(d,m)}while(Ua)}if(Pu.current=bu,o=mt!==null&&mt.next!==null,ds=0,St=mt=nt=null,Au=!1,o)throw Error(t(300));return i}function ah(){var i=za!==0;return za=0,i}function rr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?nt.memoizedState=St=i:St=St.next=i,St}function Sn(){if(mt===null){var i=nt.alternate;i=i!==null?i.memoizedState:null}else i=mt.next;var o=St===null?nt.memoizedState:St.next;if(o!==null)St=o,mt=i;else{if(i===null)throw Error(t(310));mt=i,i={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},St===null?nt.memoizedState=St=i:St=St.next=i}return St}function Ba(i,o){return typeof o=="function"?o(i):o}function lh(i){var o=Sn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var d=mt,m=d.baseQueue,y=l.pending;if(y!==null){if(m!==null){var T=m.next;m.next=y.next,y.next=T}d.baseQueue=m=y,l.pending=null}if(m!==null){y=m.next,d=d.baseState;var V=T=null,U=null,K=y;do{var ne=K.lane;if((ds&ne)===ne)U!==null&&(U=U.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),d=K.hasEagerState?K.eagerState:i(d,K.action);else{var re={lane:ne,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};U===null?(V=U=re,T=d):U=U.next=re,nt.lanes|=ne,hs|=ne}K=K.next}while(K!==null&&K!==y);U===null?T=d:U.next=V,Mn(d,o.memoizedState)||(Zt=!0),o.memoizedState=d,o.baseState=T,o.baseQueue=U,l.lastRenderedState=d}if(i=l.interleaved,i!==null){m=i;do y=m.lane,nt.lanes|=y,hs|=y,m=m.next;while(m!==i)}else m===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function uh(i){var o=Sn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var d=l.dispatch,m=l.pending,y=o.memoizedState;if(m!==null){l.pending=null;var T=m=m.next;do y=i(y,T.action),T=T.next;while(T!==m);Mn(y,o.memoizedState)||(Zt=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),l.lastRenderedState=y}return[y,d]}function Qm(){}function Ym(i,o){var l=nt,d=Sn(),m=o(),y=!Mn(d.memoizedState,m);if(y&&(d.memoizedState=m,Zt=!0),d=d.queue,ch(Zm.bind(null,l,d,i),[i]),d.getSnapshot!==o||y||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,$a(9,Jm.bind(null,l,d,m,o),void 0,null),It===null)throw Error(t(349));(ds&30)!==0||Xm(l,o,m)}return m}function Xm(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=nt.updateQueue,o===null?(o={lastEffect:null,stores:null},nt.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function Jm(i,o,l,d){o.value=l,o.getSnapshot=d,eg(o)&&tg(i)}function Zm(i,o,l){return l(function(){eg(o)&&tg(i)})}function eg(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!Mn(i,l)}catch{return!0}}function tg(i){var o=Ar(i,1);o!==null&&zn(o,i,1,-1)}function ng(i){var o=rr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:i},o.queue=i,i=i.dispatch=QE.bind(null,nt,i),[o.memoizedState,i]}function $a(i,o,l,d){return i={tag:i,create:o,destroy:l,deps:d,next:null},o=nt.updateQueue,o===null?(o={lastEffect:null,stores:null},nt.updateQueue=o,o.lastEffect=i.next=i):(l=o.lastEffect,l===null?o.lastEffect=i.next=i:(d=l.next,l.next=i,i.next=d,o.lastEffect=i)),i}function rg(){return Sn().memoizedState}function Ru(i,o,l,d){var m=rr();nt.flags|=i,m.memoizedState=$a(1|o,l,void 0,d===void 0?null:d)}function ku(i,o,l,d){var m=Sn();d=d===void 0?null:d;var y=void 0;if(mt!==null){var T=mt.memoizedState;if(y=T.destroy,d!==null&&sh(d,T.deps)){m.memoizedState=$a(o,l,y,d);return}}nt.flags|=i,m.memoizedState=$a(1|o,l,y,d)}function ig(i,o){return Ru(8390656,8,i,o)}function ch(i,o){return ku(2048,8,i,o)}function sg(i,o){return ku(4,2,i,o)}function og(i,o){return ku(4,4,i,o)}function ag(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function lg(i,o,l){return l=l!=null?l.concat([i]):null,ku(4,4,ag.bind(null,o,i),l)}function dh(){}function ug(i,o){var l=Sn();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&sh(o,d[1])?d[0]:(l.memoizedState=[i,o],i)}function cg(i,o){var l=Sn();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&sh(o,d[1])?d[0]:(i=i(),l.memoizedState=[i,o],i)}function dg(i,o,l){return(ds&21)===0?(i.baseState&&(i.baseState=!1,Zt=!0),i.memoizedState=l):(Mn(l,o)||(l=es(),nt.lanes|=l,hs|=l,i.baseState=!0),o)}function GE(i,o){var l=Oe;Oe=l!==0&&4>l?l:4,i(!0);var d=ih.transition;ih.transition={};try{i(!1),o()}finally{Oe=l,ih.transition=d}}function hg(){return Sn().memoizedState}function KE(i,o,l){var d=mi(i);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},fg(i))pg(o,l);else if(l=Hm(i,o,l,d),l!==null){var m=qt();zn(l,i,d,m),mg(l,o,d)}}function QE(i,o,l){var d=mi(i),m={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(fg(i))pg(o,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var T=o.lastRenderedState,V=y(T,l);if(m.hasEagerState=!0,m.eagerState=V,Mn(V,T)){var U=o.interleaved;U===null?(m.next=m,Jd(o)):(m.next=U.next,U.next=m),o.interleaved=m;return}}catch{}finally{}l=Hm(i,o,m,d),l!==null&&(m=qt(),zn(l,i,d,m),mg(l,o,d))}}function fg(i){var o=i.alternate;return i===nt||o!==null&&o===nt}function pg(i,o){Ua=Au=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function mg(i,o,l){if((l&4194240)!==0){var d=o.lanes;d&=i.pendingLanes,l|=d,o.lanes=l,ei(i,l)}}var bu={readContext:Tn,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},YE={readContext:Tn,useCallback:function(i,o){return rr().memoizedState=[i,o===void 0?null:o],i},useContext:Tn,useEffect:ig,useImperativeHandle:function(i,o,l){return l=l!=null?l.concat([i]):null,Ru(4194308,4,ag.bind(null,o,i),l)},useLayoutEffect:function(i,o){return Ru(4194308,4,i,o)},useInsertionEffect:function(i,o){return Ru(4,2,i,o)},useMemo:function(i,o){var l=rr();return o=o===void 0?null:o,i=i(),l.memoizedState=[i,o],i},useReducer:function(i,o,l){var d=rr();return o=l!==void 0?l(o):o,d.memoizedState=d.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},d.queue=i,i=i.dispatch=KE.bind(null,nt,i),[d.memoizedState,i]},useRef:function(i){var o=rr();return i={current:i},o.memoizedState=i},useState:ng,useDebugValue:dh,useDeferredValue:function(i){return rr().memoizedState=i},useTransition:function(){var i=ng(!1),o=i[0];return i=GE.bind(null,i[1]),rr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,l){var d=nt,m=rr();if(Ze){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),It===null)throw Error(t(349));(ds&30)!==0||Xm(d,o,l)}m.memoizedState=l;var y={value:l,getSnapshot:o};return m.queue=y,ig(Zm.bind(null,d,y,i),[i]),d.flags|=2048,$a(9,Jm.bind(null,d,y,l,o),void 0,null),l},useId:function(){var i=rr(),o=It.identifierPrefix;if(Ze){var l=Pr,d=Cr;l=(d&~(1<<32-$t(d)-1)).toString(32)+l,o=":"+o+"R"+l,l=za++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=qE++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},XE={readContext:Tn,useCallback:ug,useContext:Tn,useEffect:ch,useImperativeHandle:lg,useInsertionEffect:sg,useLayoutEffect:og,useMemo:cg,useReducer:lh,useRef:rg,useState:function(){return lh(Ba)},useDebugValue:dh,useDeferredValue:function(i){var o=Sn();return dg(o,mt.memoizedState,i)},useTransition:function(){var i=lh(Ba)[0],o=Sn().memoizedState;return[i,o]},useMutableSource:Qm,useSyncExternalStore:Ym,useId:hg,unstable_isNewReconciler:!1},JE={readContext:Tn,useCallback:ug,useContext:Tn,useEffect:ch,useImperativeHandle:lg,useInsertionEffect:sg,useLayoutEffect:og,useMemo:cg,useReducer:uh,useRef:rg,useState:function(){return uh(Ba)},useDebugValue:dh,useDeferredValue:function(i){var o=Sn();return mt===null?o.memoizedState=i:dg(o,mt.memoizedState,i)},useTransition:function(){var i=uh(Ba)[0],o=Sn().memoizedState;return[i,o]},useMutableSource:Qm,useSyncExternalStore:Ym,useId:hg,unstable_isNewReconciler:!1};function Fn(i,o){if(i&&i.defaultProps){o=ae({},o),i=i.defaultProps;for(var l in i)o[l]===void 0&&(o[l]=i[l]);return o}return o}function hh(i,o,l,d){o=i.memoizedState,l=l(d,o),l=l==null?o:ae({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Nu={isMounted:function(i){return(i=i._reactInternals)?Rn(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var d=qt(),m=mi(i),y=Rr(d,m);y.payload=o,l!=null&&(y.callback=l),o=di(i,y,m),o!==null&&(zn(o,i,m,d),Iu(o,i,m))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var d=qt(),m=mi(i),y=Rr(d,m);y.tag=1,y.payload=o,l!=null&&(y.callback=l),o=di(i,y,m),o!==null&&(zn(o,i,m,d),Iu(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=qt(),d=mi(i),m=Rr(l,d);m.tag=2,o!=null&&(m.callback=o),o=di(i,m,d),o!==null&&(zn(o,i,d,l),Iu(o,i,d))}};function gg(i,o,l,d,m,y,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,y,T):o.prototype&&o.prototype.isPureReactComponent?!Ra(l,d)||!Ra(m,y):!0}function vg(i,o,l){var d=!1,m=li,y=o.contextType;return typeof y=="object"&&y!==null?y=Tn(y):(m=Jt(o)?os:Ot.current,d=o.contextTypes,y=(d=d!=null)?co(i,m):li),o=new o(l,y),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Nu,i.stateNode=o,o._reactInternals=i,d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=y),o}function yg(i,o,l,d){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,d),o.state!==i&&Nu.enqueueReplaceState(o,o.state,null)}function fh(i,o,l,d){var m=i.stateNode;m.props=l,m.state=i.memoizedState,m.refs={},Zd(i);var y=o.contextType;typeof y=="object"&&y!==null?m.context=Tn(y):(y=Jt(o)?os:Ot.current,m.context=co(i,y)),m.state=i.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(hh(i,o,y,l),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Nu.enqueueReplaceState(m,m.state,null),xu(i,l,m,d),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function _o(i,o){try{var l="",d=o;do l+=be(d),d=d.return;while(d);var m=l}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:o,stack:m,digest:null}}function ph(i,o,l){return{value:i,source:null,stack:l??null,digest:o??null}}function mh(i,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var ZE=typeof WeakMap=="function"?WeakMap:Map;function _g(i,o,l){l=Rr(-1,l),l.tag=3,l.payload={element:null};var d=o.value;return l.callback=function(){ju||(ju=!0,kh=d),mh(i,o)},l}function wg(i,o,l){l=Rr(-1,l),l.tag=3;var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;l.payload=function(){return d(m)},l.callback=function(){mh(i,o)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){mh(i,o),typeof d!="function"&&(fi===null?fi=new Set([this]):fi.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),l}function Eg(i,o,l){var d=i.pingCache;if(d===null){d=i.pingCache=new ZE;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(l)||(m.add(l),i=fT.bind(null,i,o,l),o.then(i,i))}function Tg(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Sg(i,o,l,d,m){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=Rr(-1,1),o.tag=2,di(l,o,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var eT=H.ReactCurrentOwner,Zt=!1;function Wt(i,o,l,d){o.child=i===null?$m(o,null,l,d):mo(o,i.child,l,d)}function Ig(i,o,l,d,m){l=l.render;var y=o.ref;return vo(o,m),d=oh(i,o,l,d,y,m),l=ah(),i!==null&&!Zt?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,kr(i,o,m)):(Ze&&l&&$d(o),o.flags|=1,Wt(i,o,d,m),o.child)}function xg(i,o,l,d,m){if(i===null){var y=l.type;return typeof y=="function"&&!Vh(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=y,Cg(i,o,y,d,m)):(i=Wu(l.type,null,d,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(y=i.child,(i.lanes&m)===0){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:Ra,l(T,d)&&i.ref===o.ref)return kr(i,o,m)}return o.flags|=1,i=vi(y,d),i.ref=o.ref,i.return=o,o.child=i}function Cg(i,o,l,d,m){if(i!==null){var y=i.memoizedProps;if(Ra(y,d)&&i.ref===o.ref)if(Zt=!1,o.pendingProps=d=y,(i.lanes&m)!==0)(i.flags&131072)!==0&&(Zt=!0);else return o.lanes=i.lanes,kr(i,o,m)}return gh(i,o,l,d,m)}function Pg(i,o,l){var d=o.pendingProps,m=d.children,y=i!==null?i.memoizedState:null;if(d.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(Eo,hn),hn|=l;else{if((l&1073741824)===0)return i=y!==null?y.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Ke(Eo,hn),hn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:l,Ke(Eo,hn),hn|=d}else y!==null?(d=y.baseLanes|l,o.memoizedState=null):d=l,Ke(Eo,hn),hn|=d;return Wt(i,o,m,l),o.child}function Ag(i,o){var l=o.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function gh(i,o,l,d,m){var y=Jt(l)?os:Ot.current;return y=co(o,y),vo(o,m),l=oh(i,o,l,d,y,m),d=ah(),i!==null&&!Zt?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,kr(i,o,m)):(Ze&&d&&$d(o),o.flags|=1,Wt(i,o,l,m),o.child)}function Rg(i,o,l,d,m){if(Jt(l)){var y=!0;gu(o)}else y=!1;if(vo(o,m),o.stateNode===null)Lu(i,o),vg(o,l,d),fh(o,l,d,m),d=!0;else if(i===null){var T=o.stateNode,V=o.memoizedProps;T.props=V;var U=T.context,K=l.contextType;typeof K=="object"&&K!==null?K=Tn(K):(K=Jt(l)?os:Ot.current,K=co(o,K));var ne=l.getDerivedStateFromProps,re=typeof ne=="function"||typeof T.getSnapshotBeforeUpdate=="function";re||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(V!==d||U!==K)&&yg(o,T,d,K),ci=!1;var te=o.memoizedState;T.state=te,xu(o,d,T,m),U=o.memoizedState,V!==d||te!==U||Xt.current||ci?(typeof ne=="function"&&(hh(o,l,ne,d),U=o.memoizedState),(V=ci||gg(o,l,V,d,te,U,K))?(re||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=U),T.props=d,T.state=U,T.context=K,d=V):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{T=o.stateNode,Wm(i,o),V=o.memoizedProps,K=o.type===o.elementType?V:Fn(o.type,V),T.props=K,re=o.pendingProps,te=T.context,U=l.contextType,typeof U=="object"&&U!==null?U=Tn(U):(U=Jt(l)?os:Ot.current,U=co(o,U));var ce=l.getDerivedStateFromProps;(ne=typeof ce=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(V!==re||te!==U)&&yg(o,T,d,U),ci=!1,te=o.memoizedState,T.state=te,xu(o,d,T,m);var fe=o.memoizedState;V!==re||te!==fe||Xt.current||ci?(typeof ce=="function"&&(hh(o,l,ce,d),fe=o.memoizedState),(K=ci||gg(o,l,K,d,te,fe,U)||!1)?(ne||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(d,fe,U),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(d,fe,U)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||V===i.memoizedProps&&te===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||V===i.memoizedProps&&te===i.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=fe),T.props=d,T.state=fe,T.context=U,d=K):(typeof T.componentDidUpdate!="function"||V===i.memoizedProps&&te===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||V===i.memoizedProps&&te===i.memoizedState||(o.flags|=1024),d=!1)}return vh(i,o,l,d,y,m)}function vh(i,o,l,d,m,y){Ag(i,o);var T=(o.flags&128)!==0;if(!d&&!T)return m&&Lm(o,l,!1),kr(i,o,y);d=o.stateNode,eT.current=o;var V=T&&typeof l.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,i!==null&&T?(o.child=mo(o,i.child,null,y),o.child=mo(o,null,V,y)):Wt(i,o,V,y),o.memoizedState=d.state,m&&Lm(o,l,!0),o.child}function kg(i){var o=i.stateNode;o.pendingContext?Nm(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Nm(i,o.context,!1),eh(i,o.containerInfo)}function bg(i,o,l,d,m){return po(),Gd(m),o.flags|=256,Wt(i,o,l,d),o.child}var yh={dehydrated:null,treeContext:null,retryLane:0};function _h(i){return{baseLanes:i,cachePool:null,transitions:null}}function Ng(i,o,l){var d=o.pendingProps,m=tt.current,y=!1,T=(o.flags&128)!==0,V;if((V=T)||(V=i!==null&&i.memoizedState===null?!1:(m&2)!==0),V?(y=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),Ke(tt,m&1),i===null)return qd(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(T=d.children,i=d.fallback,y?(d=o.mode,y=o.child,T={mode:"hidden",children:T},(d&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=T):y=qu(T,d,0,null),i=gs(i,d,l,null),y.return=o,i.return=o,y.sibling=i,o.child=y,o.child.memoizedState=_h(l),o.memoizedState=yh,i):wh(o,T));if(m=i.memoizedState,m!==null&&(V=m.dehydrated,V!==null))return tT(i,o,T,d,V,m,l);if(y){y=d.fallback,T=o.mode,m=i.child,V=m.sibling;var U={mode:"hidden",children:d.children};return(T&1)===0&&o.child!==m?(d=o.child,d.childLanes=0,d.pendingProps=U,o.deletions=null):(d=vi(m,U),d.subtreeFlags=m.subtreeFlags&14680064),V!==null?y=vi(V,y):(y=gs(y,T,l,null),y.flags|=2),y.return=o,d.return=o,d.sibling=y,o.child=d,d=y,y=o.child,T=i.child.memoizedState,T=T===null?_h(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},y.memoizedState=T,y.childLanes=i.childLanes&~l,o.memoizedState=yh,d}return y=i.child,i=y.sibling,d=vi(y,{mode:"visible",children:d.children}),(o.mode&1)===0&&(d.lanes=l),d.return=o,d.sibling=null,i!==null&&(l=o.deletions,l===null?(o.deletions=[i],o.flags|=16):l.push(i)),o.child=d,o.memoizedState=null,d}function wh(i,o){return o=qu({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Du(i,o,l,d){return d!==null&&Gd(d),mo(o,i.child,null,l),i=wh(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function tT(i,o,l,d,m,y,T){if(l)return o.flags&256?(o.flags&=-257,d=ph(Error(t(422))),Du(i,o,T,d)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(y=d.fallback,m=o.mode,d=qu({mode:"visible",children:d.children},m,0,null),y=gs(y,m,T,null),y.flags|=2,d.return=o,y.return=o,d.sibling=y,o.child=d,(o.mode&1)!==0&&mo(o,i.child,null,T),o.child.memoizedState=_h(T),o.memoizedState=yh,y);if((o.mode&1)===0)return Du(i,o,T,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var V=d.dgst;return d=V,y=Error(t(419)),d=ph(y,d,void 0),Du(i,o,T,d)}if(V=(T&i.childLanes)!==0,Zt||V){if(d=It,d!==null){switch(T&-T){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|T))!==0?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,Ar(i,m),zn(d,i,m,-1))}return Mh(),d=ph(Error(t(421))),Du(i,o,T,d)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=pT.bind(null,i),m._reactRetry=o,null):(i=y.treeContext,dn=oi(m.nextSibling),cn=o,Ze=!0,Vn=null,i!==null&&(wn[En++]=Cr,wn[En++]=Pr,wn[En++]=as,Cr=i.id,Pr=i.overflow,as=o),o=wh(o,d.children),o.flags|=4096,o)}function Dg(i,o,l){i.lanes|=o;var d=i.alternate;d!==null&&(d.lanes|=o),Xd(i.return,o,l)}function Eh(i,o,l,d,m){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:m}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=m)}function Lg(i,o,l){var d=o.pendingProps,m=d.revealOrder,y=d.tail;if(Wt(i,o,d.children,l),d=tt.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Dg(i,l,o);else if(i.tag===19)Dg(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}if(Ke(tt,d),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(l=o.child,m=null;l!==null;)i=l.alternate,i!==null&&Cu(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),Eh(o,!1,m,l,y);break;case"backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&Cu(i)===null){o.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}Eh(o,!0,l,null,y);break;case"together":Eh(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Lu(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function kr(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),hs|=o.lanes,(l&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,l=vi(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=vi(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function nT(i,o,l){switch(o.tag){case 3:kg(o),po();break;case 5:Km(o);break;case 1:Jt(o.type)&&gu(o);break;case 4:eh(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,m=o.memoizedProps.value;Ke(Tu,d._currentValue),d._currentValue=m;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(Ke(tt,tt.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?Ng(i,o,l):(Ke(tt,tt.current&1),i=kr(i,o,l),i!==null?i.sibling:null);Ke(tt,tt.current&1);break;case 19:if(d=(l&o.childLanes)!==0,(i.flags&128)!==0){if(d)return Lg(i,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ke(tt,tt.current),d)break;return null;case 22:case 23:return o.lanes=0,Pg(i,o,l)}return kr(i,o,l)}var Og,Th,Mg,Vg;Og=function(i,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Th=function(){},Mg=function(i,o,l,d){var m=i.memoizedProps;if(m!==d){i=o.stateNode,cs(nr.current);var y=null;switch(l){case"input":m=$i(i,m),d=$i(i,d),y=[];break;case"select":m=ae({},m,{value:void 0}),d=ae({},d,{value:void 0}),y=[];break;case"textarea":m=ia(i,m),d=ia(i,d),y=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(i.onclick=fu)}ca(l,d);var T;l=null;for(K in m)if(!d.hasOwnProperty(K)&&m.hasOwnProperty(K)&&m[K]!=null)if(K==="style"){var V=m[K];for(T in V)V.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(s.hasOwnProperty(K)?y||(y=[]):(y=y||[]).push(K,null));for(K in d){var U=d[K];if(V=m!=null?m[K]:void 0,d.hasOwnProperty(K)&&U!==V&&(U!=null||V!=null))if(K==="style")if(V){for(T in V)!V.hasOwnProperty(T)||U&&U.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in U)U.hasOwnProperty(T)&&V[T]!==U[T]&&(l||(l={}),l[T]=U[T])}else l||(y||(y=[]),y.push(K,l)),l=U;else K==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,V=V?V.__html:void 0,U!=null&&V!==U&&(y=y||[]).push(K,U)):K==="children"?typeof U!="string"&&typeof U!="number"||(y=y||[]).push(K,""+U):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(s.hasOwnProperty(K)?(U!=null&&K==="onScroll"&&Ye("scroll",i),y||V===U||(y=[])):(y=y||[]).push(K,U))}l&&(y=y||[]).push("style",l);var K=y;(o.updateQueue=K)&&(o.flags|=4)}},Vg=function(i,o,l,d){l!==d&&(o.flags|=4)};function Ha(i,o){if(!Ze)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function Vt(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,d=0;if(o)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=d,i.childLanes=l,o}function rT(i,o,l){var d=o.pendingProps;switch(Hd(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(o),null;case 1:return Jt(o.type)&&mu(),Vt(o),null;case 3:return d=o.stateNode,yo(),Xe(Xt),Xe(Ot),rh(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(wu(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Vn!==null&&(Dh(Vn),Vn=null))),Th(i,o),Vt(o),null;case 5:th(o);var m=cs(ja.current);if(l=o.type,i!==null&&o.stateNode!=null)Mg(i,o,l,d,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(t(166));return Vt(o),null}if(i=cs(nr.current),wu(o)){d=o.stateNode,l=o.type;var y=o.memoizedProps;switch(d[tr]=o,d[La]=y,i=(o.mode&1)!==0,l){case"dialog":Ye("cancel",d),Ye("close",d);break;case"iframe":case"object":case"embed":Ye("load",d);break;case"video":case"audio":for(m=0;m<ba.length;m++)Ye(ba[m],d);break;case"source":Ye("error",d);break;case"img":case"image":case"link":Ye("error",d),Ye("load",d);break;case"details":Ye("toggle",d);break;case"input":Ns(d,y),Ye("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},Ye("invalid",d);break;case"textarea":Ls(d,y),Ye("invalid",d)}ca(l,y),m=null;for(var T in y)if(y.hasOwnProperty(T)){var V=y[T];T==="children"?typeof V=="string"?d.textContent!==V&&(y.suppressHydrationWarning!==!0&&hu(d.textContent,V,i),m=["children",V]):typeof V=="number"&&d.textContent!==""+V&&(y.suppressHydrationWarning!==!0&&hu(d.textContent,V,i),m=["children",""+V]):s.hasOwnProperty(T)&&V!=null&&T==="onScroll"&&Ye("scroll",d)}switch(l){case"input":pr(d),Fl(d,y,!0);break;case"textarea":pr(d),sa(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=fu)}d=m,o.updateQueue=d,d!==null&&(o.flags|=4)}else{T=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=ht(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof d.is=="string"?i=T.createElement(l,{is:d.is}):(i=T.createElement(l),l==="select"&&(T=i,d.multiple?T.multiple=!0:d.size&&(T.size=d.size))):i=T.createElementNS(i,l),i[tr]=o,i[La]=d,Og(i,o,!1,!1),o.stateNode=i;e:{switch(T=da(l,d),l){case"dialog":Ye("cancel",i),Ye("close",i),m=d;break;case"iframe":case"object":case"embed":Ye("load",i),m=d;break;case"video":case"audio":for(m=0;m<ba.length;m++)Ye(ba[m],i);m=d;break;case"source":Ye("error",i),m=d;break;case"img":case"image":case"link":Ye("error",i),Ye("load",i),m=d;break;case"details":Ye("toggle",i),m=d;break;case"input":Ns(i,d),m=$i(i,d),Ye("invalid",i);break;case"option":m=d;break;case"select":i._wrapperState={wasMultiple:!!d.multiple},m=ae({},d,{value:void 0}),Ye("invalid",i);break;case"textarea":Ls(i,d),m=ia(i,d),Ye("invalid",i);break;default:m=d}ca(l,m),V=m;for(y in V)if(V.hasOwnProperty(y)){var U=V[y];y==="style"?la(i,U):y==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,U!=null&&oa(i,U)):y==="children"?typeof U=="string"?(l!=="textarea"||U!=="")&&Qr(i,U):typeof U=="number"&&Qr(i,""+U):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(s.hasOwnProperty(y)?U!=null&&y==="onScroll"&&Ye("scroll",i):U!=null&&F(i,y,U,T))}switch(l){case"input":pr(i),Fl(i,d,!1);break;case"textarea":pr(i),sa(i);break;case"option":d.value!=null&&i.setAttribute("value",""+Be(d.value));break;case"select":i.multiple=!!d.multiple,y=d.value,y!=null?gr(i,!!d.multiple,y,!1):d.defaultValue!=null&&gr(i,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=fu)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Vt(o),null;case 6:if(i&&o.stateNode!=null)Vg(i,o,i.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(t(166));if(l=cs(ja.current),cs(nr.current),wu(o)){if(d=o.stateNode,l=o.memoizedProps,d[tr]=o,(y=d.nodeValue!==l)&&(i=cn,i!==null))switch(i.tag){case 3:hu(d.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&hu(d.nodeValue,l,(i.mode&1)!==0)}y&&(o.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[tr]=o,o.stateNode=d}return Vt(o),null;case 13:if(Xe(tt),d=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Ze&&dn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Um(),po(),o.flags|=98560,y=!1;else if(y=wu(o),d!==null&&d.dehydrated!==null){if(i===null){if(!y)throw Error(t(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[tr]=o}else po(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Vt(o),y=!1}else Vn!==null&&(Dh(Vn),Vn=null),y=!0;if(!y)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(d=d!==null,d!==(i!==null&&i.memoizedState!==null)&&d&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(tt.current&1)!==0?gt===0&&(gt=3):Mh())),o.updateQueue!==null&&(o.flags|=4),Vt(o),null);case 4:return yo(),Th(i,o),i===null&&Na(o.stateNode.containerInfo),Vt(o),null;case 10:return Yd(o.type._context),Vt(o),null;case 17:return Jt(o.type)&&mu(),Vt(o),null;case 19:if(Xe(tt),y=o.memoizedState,y===null)return Vt(o),null;if(d=(o.flags&128)!==0,T=y.rendering,T===null)if(d)Ha(y,!1);else{if(gt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(T=Cu(i),T!==null){for(o.flags|=128,Ha(y,!1),d=T.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=l,l=o.child;l!==null;)y=l,i=d,y.flags&=14680066,T=y.alternate,T===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=T.childLanes,y.lanes=T.lanes,y.child=T.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=T.memoizedProps,y.memoizedState=T.memoizedState,y.updateQueue=T.updateQueue,y.type=T.type,i=T.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return Ke(tt,tt.current&1|2),o.child}i=i.sibling}y.tail!==null&&Ge()>To&&(o.flags|=128,d=!0,Ha(y,!1),o.lanes=4194304)}else{if(!d)if(i=Cu(T),i!==null){if(o.flags|=128,d=!0,l=i.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),Ha(y,!0),y.tail===null&&y.tailMode==="hidden"&&!T.alternate&&!Ze)return Vt(o),null}else 2*Ge()-y.renderingStartTime>To&&l!==1073741824&&(o.flags|=128,d=!0,Ha(y,!1),o.lanes=4194304);y.isBackwards?(T.sibling=o.child,o.child=T):(l=y.last,l!==null?l.sibling=T:o.child=T,y.last=T)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=Ge(),o.sibling=null,l=tt.current,Ke(tt,d?l&1|2:l&1),o):(Vt(o),null);case 22:case 23:return Oh(),d=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==d&&(o.flags|=8192),d&&(o.mode&1)!==0?(hn&1073741824)!==0&&(Vt(o),o.subtreeFlags&6&&(o.flags|=8192)):Vt(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function iT(i,o){switch(Hd(o),o.tag){case 1:return Jt(o.type)&&mu(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return yo(),Xe(Xt),Xe(Ot),rh(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return th(o),null;case 13:if(Xe(tt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));po()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Xe(tt),null;case 4:return yo(),null;case 10:return Yd(o.type._context),null;case 22:case 23:return Oh(),null;case 24:return null;default:return null}}var Ou=!1,Ft=!1,sT=typeof WeakSet=="function"?WeakSet:Set,he=null;function wo(i,o){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){it(i,o,d)}else l.current=null}function Sh(i,o,l){try{l()}catch(d){it(i,o,d)}}var Fg=!1;function oT(i,o){if(Od=ri,i=gm(),Pd(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var m=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,V=-1,U=-1,K=0,ne=0,re=i,te=null;t:for(;;){for(var ce;re!==l||m!==0&&re.nodeType!==3||(V=T+m),re!==y||d!==0&&re.nodeType!==3||(U=T+d),re.nodeType===3&&(T+=re.nodeValue.length),(ce=re.firstChild)!==null;)te=re,re=ce;for(;;){if(re===i)break t;if(te===l&&++K===m&&(V=T),te===y&&++ne===d&&(U=T),(ce=re.nextSibling)!==null)break;re=te,te=re.parentNode}re=ce}l=V===-1||U===-1?null:{start:V,end:U}}else l=null}l=l||{start:0,end:0}}else l=null;for(Md={focusedElem:i,selectionRange:l},ri=!1,he=o;he!==null;)if(o=he,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,he=i;else for(;he!==null;){o=he;try{var fe=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var pe=fe.memoizedProps,ot=fe.memoizedState,q=o.stateNode,z=q.getSnapshotBeforeUpdate(o.elementType===o.type?pe:Fn(o.type,pe),ot);q.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var G=o.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(se){it(o,o.return,se)}if(i=o.sibling,i!==null){i.return=o.return,he=i;break}he=o.return}return fe=Fg,Fg=!1,fe}function Wa(i,o,l){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&i)===i){var y=m.destroy;m.destroy=void 0,y!==void 0&&Sh(o,l,y)}m=m.next}while(m!==d)}}function Mu(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&i)===i){var d=l.create;l.destroy=d()}l=l.next}while(l!==o)}}function Ih(i){var o=i.ref;if(o!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof o=="function"?o(i):o.current=i}}function jg(i){var o=i.alternate;o!==null&&(i.alternate=null,jg(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[tr],delete o[La],delete o[Ud],delete o[BE],delete o[$E])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Ug(i){return i.tag===5||i.tag===3||i.tag===4}function zg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Ug(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function xh(i,o,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=fu));else if(d!==4&&(i=i.child,i!==null))for(xh(i,o,l),i=i.sibling;i!==null;)xh(i,o,l),i=i.sibling}function Ch(i,o,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(d!==4&&(i=i.child,i!==null))for(Ch(i,o,l),i=i.sibling;i!==null;)Ch(i,o,l),i=i.sibling}var kt=null,jn=!1;function hi(i,o,l){for(l=l.child;l!==null;)Bg(i,o,l),l=l.sibling}function Bg(i,o,l){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(Ji,l)}catch{}switch(l.tag){case 5:Ft||wo(l,o);case 6:var d=kt,m=jn;kt=null,hi(i,o,l),kt=d,jn=m,kt!==null&&(jn?(i=kt,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):kt.removeChild(l.stateNode));break;case 18:kt!==null&&(jn?(i=kt,l=l.stateNode,i.nodeType===8?jd(i.parentNode,l):i.nodeType===1&&jd(i,l),Ln(i)):jd(kt,l.stateNode));break;case 4:d=kt,m=jn,kt=l.stateNode.containerInfo,jn=!0,hi(i,o,l),kt=d,jn=m;break;case 0:case 11:case 14:case 15:if(!Ft&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var y=m,T=y.destroy;y=y.tag,T!==void 0&&((y&2)!==0||(y&4)!==0)&&Sh(l,o,T),m=m.next}while(m!==d)}hi(i,o,l);break;case 1:if(!Ft&&(wo(l,o),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(V){it(l,o,V)}hi(i,o,l);break;case 21:hi(i,o,l);break;case 22:l.mode&1?(Ft=(d=Ft)||l.memoizedState!==null,hi(i,o,l),Ft=d):hi(i,o,l);break;default:hi(i,o,l)}}function $g(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new sT),o.forEach(function(d){var m=mT.bind(null,i,d);l.has(d)||(l.add(d),d.then(m,m))})}}function Un(i,o){var l=o.deletions;if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];try{var y=i,T=o,V=T;e:for(;V!==null;){switch(V.tag){case 5:kt=V.stateNode,jn=!1;break e;case 3:kt=V.stateNode.containerInfo,jn=!0;break e;case 4:kt=V.stateNode.containerInfo,jn=!0;break e}V=V.return}if(kt===null)throw Error(t(160));Bg(y,T,m),kt=null,jn=!1;var U=m.alternate;U!==null&&(U.return=null),m.return=null}catch(K){it(m,o,K)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Hg(o,i),o=o.sibling}function Hg(i,o){var l=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Un(o,i),ir(i),d&4){try{Wa(3,i,i.return),Mu(3,i)}catch(pe){it(i,i.return,pe)}try{Wa(5,i,i.return)}catch(pe){it(i,i.return,pe)}}break;case 1:Un(o,i),ir(i),d&512&&l!==null&&wo(l,l.return);break;case 5:if(Un(o,i),ir(i),d&512&&l!==null&&wo(l,l.return),i.flags&32){var m=i.stateNode;try{Qr(m,"")}catch(pe){it(i,i.return,pe)}}if(d&4&&(m=i.stateNode,m!=null)){var y=i.memoizedProps,T=l!==null?l.memoizedProps:y,V=i.type,U=i.updateQueue;if(i.updateQueue=null,U!==null)try{V==="input"&&y.type==="radio"&&y.name!=null&&na(m,y),da(V,T);var K=da(V,y);for(T=0;T<U.length;T+=2){var ne=U[T],re=U[T+1];ne==="style"?la(m,re):ne==="dangerouslySetInnerHTML"?oa(m,re):ne==="children"?Qr(m,re):F(m,ne,re,K)}switch(V){case"input":ra(m,y);break;case"textarea":Os(m,y);break;case"select":var te=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var ce=y.value;ce!=null?gr(m,!!y.multiple,ce,!1):te!==!!y.multiple&&(y.defaultValue!=null?gr(m,!!y.multiple,y.defaultValue,!0):gr(m,!!y.multiple,y.multiple?[]:"",!1))}m[La]=y}catch(pe){it(i,i.return,pe)}}break;case 6:if(Un(o,i),ir(i),d&4){if(i.stateNode===null)throw Error(t(162));m=i.stateNode,y=i.memoizedProps;try{m.nodeValue=y}catch(pe){it(i,i.return,pe)}}break;case 3:if(Un(o,i),ir(i),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Ln(o.containerInfo)}catch(pe){it(i,i.return,pe)}break;case 4:Un(o,i),ir(i);break;case 13:Un(o,i),ir(i),m=i.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(Rh=Ge())),d&4&&$g(i);break;case 22:if(ne=l!==null&&l.memoizedState!==null,i.mode&1?(Ft=(K=Ft)||ne,Un(o,i),Ft=K):Un(o,i),ir(i),d&8192){if(K=i.memoizedState!==null,(i.stateNode.isHidden=K)&&!ne&&(i.mode&1)!==0)for(he=i,ne=i.child;ne!==null;){for(re=he=ne;he!==null;){switch(te=he,ce=te.child,te.tag){case 0:case 11:case 14:case 15:Wa(4,te,te.return);break;case 1:wo(te,te.return);var fe=te.stateNode;if(typeof fe.componentWillUnmount=="function"){d=te,l=te.return;try{o=d,fe.props=o.memoizedProps,fe.state=o.memoizedState,fe.componentWillUnmount()}catch(pe){it(d,l,pe)}}break;case 5:wo(te,te.return);break;case 22:if(te.memoizedState!==null){Gg(re);continue}}ce!==null?(ce.return=te,he=ce):Gg(re)}ne=ne.sibling}e:for(ne=null,re=i;;){if(re.tag===5){if(ne===null){ne=re;try{m=re.stateNode,K?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(V=re.stateNode,U=re.memoizedProps.style,T=U!=null&&U.hasOwnProperty("display")?U.display:null,V.style.display=aa("display",T))}catch(pe){it(i,i.return,pe)}}}else if(re.tag===6){if(ne===null)try{re.stateNode.nodeValue=K?"":re.memoizedProps}catch(pe){it(i,i.return,pe)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===i)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===i)break e;for(;re.sibling===null;){if(re.return===null||re.return===i)break e;ne===re&&(ne=null),re=re.return}ne===re&&(ne=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:Un(o,i),ir(i),d&4&&$g(i);break;case 21:break;default:Un(o,i),ir(i)}}function ir(i){var o=i.flags;if(o&2){try{e:{for(var l=i.return;l!==null;){if(Ug(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(Qr(m,""),d.flags&=-33);var y=zg(i);Ch(i,y,m);break;case 3:case 4:var T=d.stateNode.containerInfo,V=zg(i);xh(i,V,T);break;default:throw Error(t(161))}}catch(U){it(i,i.return,U)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function aT(i,o,l){he=i,Wg(i)}function Wg(i,o,l){for(var d=(i.mode&1)!==0;he!==null;){var m=he,y=m.child;if(m.tag===22&&d){var T=m.memoizedState!==null||Ou;if(!T){var V=m.alternate,U=V!==null&&V.memoizedState!==null||Ft;V=Ou;var K=Ft;if(Ou=T,(Ft=U)&&!K)for(he=m;he!==null;)T=he,U=T.child,T.tag===22&&T.memoizedState!==null?Kg(m):U!==null?(U.return=T,he=U):Kg(m);for(;y!==null;)he=y,Wg(y),y=y.sibling;he=m,Ou=V,Ft=K}qg(i)}else(m.subtreeFlags&8772)!==0&&y!==null?(y.return=m,he=y):qg(i)}}function qg(i){for(;he!==null;){var o=he;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Ft||Mu(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!Ft)if(l===null)d.componentDidMount();else{var m=o.elementType===o.type?l.memoizedProps:Fn(o.type,l.memoizedProps);d.componentDidUpdate(m,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&Gm(o,y,d);break;case 3:var T=o.updateQueue;if(T!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}Gm(o,T,l)}break;case 5:var V=o.stateNode;if(l===null&&o.flags&4){l=V;var U=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":U.autoFocus&&l.focus();break;case"img":U.src&&(l.src=U.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var K=o.alternate;if(K!==null){var ne=K.memoizedState;if(ne!==null){var re=ne.dehydrated;re!==null&&Ln(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ft||o.flags&512&&Ih(o)}catch(te){it(o,o.return,te)}}if(o===i){he=null;break}if(l=o.sibling,l!==null){l.return=o.return,he=l;break}he=o.return}}function Gg(i){for(;he!==null;){var o=he;if(o===i){he=null;break}var l=o.sibling;if(l!==null){l.return=o.return,he=l;break}he=o.return}}function Kg(i){for(;he!==null;){var o=he;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{Mu(4,o)}catch(U){it(o,l,U)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var m=o.return;try{d.componentDidMount()}catch(U){it(o,m,U)}}var y=o.return;try{Ih(o)}catch(U){it(o,y,U)}break;case 5:var T=o.return;try{Ih(o)}catch(U){it(o,T,U)}}}catch(U){it(o,o.return,U)}if(o===i){he=null;break}var V=o.sibling;if(V!==null){V.return=o.return,he=V;break}he=o.return}}var lT=Math.ceil,Vu=H.ReactCurrentDispatcher,Ph=H.ReactCurrentOwner,In=H.ReactCurrentBatchConfig,je=0,It=null,ut=null,bt=0,hn=0,Eo=ai(0),gt=0,qa=null,hs=0,Fu=0,Ah=0,Ga=null,en=null,Rh=0,To=1/0,br=null,ju=!1,kh=null,fi=null,Uu=!1,pi=null,zu=0,Ka=0,bh=null,Bu=-1,$u=0;function qt(){return(je&6)!==0?Ge():Bu!==-1?Bu:Bu=Ge()}function mi(i){return(i.mode&1)===0?1:(je&2)!==0&&bt!==0?bt&-bt:WE.transition!==null?($u===0&&($u=es()),$u):(i=Oe,i!==0||(i=window.event,i=i===void 0?16:Ta(i.type)),i)}function zn(i,o,l,d){if(50<Ka)throw Ka=0,bh=null,Error(t(185));Zr(i,l,d),((je&2)===0||i!==It)&&(i===It&&((je&2)===0&&(Fu|=l),gt===4&&gi(i,bt)),tn(i,d),l===1&&je===0&&(o.mode&1)===0&&(To=Ge()+500,vu&&ui()))}function tn(i,o){var l=i.callbackNode;_r(i,o);var d=Zi(i,i===It?bt:0);if(d===0)l!==null&&va(l),i.callbackNode=null,i.callbackPriority=0;else if(o=d&-d,i.callbackPriority!==o){if(l!=null&&va(l),o===1)i.tag===0?HE(Yg.bind(null,i)):Om(Yg.bind(null,i)),UE(function(){(je&6)===0&&ui()}),l=null;else{switch(ti(d)){case 1:l=Xi;break;case 4:l=Yr;break;case 16:l=vn;break;case 536870912:l=$l;break;default:l=vn}l=iv(l,Qg.bind(null,i))}i.callbackPriority=o,i.callbackNode=l}}function Qg(i,o){if(Bu=-1,$u=0,(je&6)!==0)throw Error(t(327));var l=i.callbackNode;if(So()&&i.callbackNode!==l)return null;var d=Zi(i,i===It?bt:0);if(d===0)return null;if((d&30)!==0||(d&i.expiredLanes)!==0||o)o=Hu(i,d);else{o=d;var m=je;je|=2;var y=Jg();(It!==i||bt!==o)&&(br=null,To=Ge()+500,ps(i,o));do try{dT();break}catch(V){Xg(i,V)}while(!0);Qd(),Vu.current=y,je=m,ut!==null?o=0:(It=null,bt=0,o=gt)}if(o!==0){if(o===2&&(m=an(i),m!==0&&(d=m,o=Nh(i,m))),o===1)throw l=qa,ps(i,0),gi(i,d),tn(i,Ge()),l;if(o===6)gi(i,d);else{if(m=i.current.alternate,(d&30)===0&&!uT(m)&&(o=Hu(i,d),o===2&&(y=an(i),y!==0&&(d=y,o=Nh(i,y))),o===1))throw l=qa,ps(i,0),gi(i,d),tn(i,Ge()),l;switch(i.finishedWork=m,i.finishedLanes=d,o){case 0:case 1:throw Error(t(345));case 2:ms(i,en,br);break;case 3:if(gi(i,d),(d&130023424)===d&&(o=Rh+500-Ge(),10<o)){if(Zi(i,0)!==0)break;if(m=i.suspendedLanes,(m&d)!==d){qt(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=Fd(ms.bind(null,i,en,br),o);break}ms(i,en,br);break;case 4:if(gi(i,d),(d&4194240)===d)break;for(o=i.eventTimes,m=-1;0<d;){var T=31-$t(d);y=1<<T,T=o[T],T>m&&(m=T),d&=~y}if(d=m,d=Ge()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*lT(d/1960))-d,10<d){i.timeoutHandle=Fd(ms.bind(null,i,en,br),d);break}ms(i,en,br);break;case 5:ms(i,en,br);break;default:throw Error(t(329))}}}return tn(i,Ge()),i.callbackNode===l?Qg.bind(null,i):null}function Nh(i,o){var l=Ga;return i.current.memoizedState.isDehydrated&&(ps(i,o).flags|=256),i=Hu(i,o),i!==2&&(o=en,en=l,o!==null&&Dh(o)),i}function Dh(i){en===null?en=i:en.push.apply(en,i)}function uT(i){for(var o=i;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var m=l[d],y=m.getSnapshot;m=m.value;try{if(!Mn(y(),m))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function gi(i,o){for(o&=~Ah,o&=~Fu,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var l=31-$t(o),d=1<<l;i[l]=-1,o&=~d}}function Yg(i){if((je&6)!==0)throw Error(t(327));So();var o=Zi(i,0);if((o&1)===0)return tn(i,Ge()),null;var l=Hu(i,o);if(i.tag!==0&&l===2){var d=an(i);d!==0&&(o=d,l=Nh(i,d))}if(l===1)throw l=qa,ps(i,0),gi(i,o),tn(i,Ge()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,ms(i,en,br),tn(i,Ge()),null}function Lh(i,o){var l=je;je|=1;try{return i(o)}finally{je=l,je===0&&(To=Ge()+500,vu&&ui())}}function fs(i){pi!==null&&pi.tag===0&&(je&6)===0&&So();var o=je;je|=1;var l=In.transition,d=Oe;try{if(In.transition=null,Oe=1,i)return i()}finally{Oe=d,In.transition=l,je=o,(je&6)===0&&ui()}}function Oh(){hn=Eo.current,Xe(Eo)}function ps(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,jE(l)),ut!==null)for(l=ut.return;l!==null;){var d=l;switch(Hd(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&mu();break;case 3:yo(),Xe(Xt),Xe(Ot),rh();break;case 5:th(d);break;case 4:yo();break;case 13:Xe(tt);break;case 19:Xe(tt);break;case 10:Yd(d.type._context);break;case 22:case 23:Oh()}l=l.return}if(It=i,ut=i=vi(i.current,null),bt=hn=o,gt=0,qa=null,Ah=Fu=hs=0,en=Ga=null,us!==null){for(o=0;o<us.length;o++)if(l=us[o],d=l.interleaved,d!==null){l.interleaved=null;var m=d.next,y=l.pending;if(y!==null){var T=y.next;y.next=m,d.next=T}l.pending=d}us=null}return i}function Xg(i,o){do{var l=ut;try{if(Qd(),Pu.current=bu,Au){for(var d=nt.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}Au=!1}if(ds=0,St=mt=nt=null,Ua=!1,za=0,Ph.current=null,l===null||l.return===null){gt=1,qa=o,ut=null;break}e:{var y=i,T=l.return,V=l,U=o;if(o=bt,V.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){var K=U,ne=V,re=ne.tag;if((ne.mode&1)===0&&(re===0||re===11||re===15)){var te=ne.alternate;te?(ne.updateQueue=te.updateQueue,ne.memoizedState=te.memoizedState,ne.lanes=te.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var ce=Tg(T);if(ce!==null){ce.flags&=-257,Sg(ce,T,V,y,o),ce.mode&1&&Eg(y,K,o),o=ce,U=K;var fe=o.updateQueue;if(fe===null){var pe=new Set;pe.add(U),o.updateQueue=pe}else fe.add(U);break e}else{if((o&1)===0){Eg(y,K,o),Mh();break e}U=Error(t(426))}}else if(Ze&&V.mode&1){var ot=Tg(T);if(ot!==null){(ot.flags&65536)===0&&(ot.flags|=256),Sg(ot,T,V,y,o),Gd(_o(U,V));break e}}y=U=_o(U,V),gt!==4&&(gt=2),Ga===null?Ga=[y]:Ga.push(y),y=T;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var q=_g(y,U,o);qm(y,q);break e;case 1:V=U;var z=y.type,G=y.stateNode;if((y.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(fi===null||!fi.has(G)))){y.flags|=65536,o&=-o,y.lanes|=o;var se=wg(y,V,o);qm(y,se);break e}}y=y.return}while(y!==null)}ev(l)}catch(ge){o=ge,ut===l&&l!==null&&(ut=l=l.return);continue}break}while(!0)}function Jg(){var i=Vu.current;return Vu.current=bu,i===null?bu:i}function Mh(){(gt===0||gt===3||gt===2)&&(gt=4),It===null||(hs&268435455)===0&&(Fu&268435455)===0||gi(It,bt)}function Hu(i,o){var l=je;je|=2;var d=Jg();(It!==i||bt!==o)&&(br=null,ps(i,o));do try{cT();break}catch(m){Xg(i,m)}while(!0);if(Qd(),je=l,Vu.current=d,ut!==null)throw Error(t(261));return It=null,bt=0,gt}function cT(){for(;ut!==null;)Zg(ut)}function dT(){for(;ut!==null&&!zl();)Zg(ut)}function Zg(i){var o=rv(i.alternate,i,hn);i.memoizedProps=i.pendingProps,o===null?ev(i):ut=o,Ph.current=null}function ev(i){var o=i;do{var l=o.alternate;if(i=o.return,(o.flags&32768)===0){if(l=rT(l,o,hn),l!==null){ut=l;return}}else{if(l=iT(l,o),l!==null){l.flags&=32767,ut=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{gt=6,ut=null;return}}if(o=o.sibling,o!==null){ut=o;return}ut=o=i}while(o!==null);gt===0&&(gt=5)}function ms(i,o,l){var d=Oe,m=In.transition;try{In.transition=null,Oe=1,hT(i,o,l,d)}finally{In.transition=m,Oe=d}return null}function hT(i,o,l,d){do So();while(pi!==null);if((je&6)!==0)throw Error(t(327));l=i.finishedWork;var m=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var y=l.lanes|l.childLanes;if(We(i,y),i===It&&(ut=It=null,bt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Uu||(Uu=!0,iv(vn,function(){return So(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=In.transition,In.transition=null;var T=Oe;Oe=1;var V=je;je|=4,Ph.current=null,oT(i,l),Hg(l,i),NE(Md),ri=!!Od,Md=Od=null,i.current=l,aT(l),_d(),je=V,Oe=T,In.transition=y}else i.current=l;if(Uu&&(Uu=!1,pi=i,zu=m),y=i.pendingLanes,y===0&&(fi=null),Hl(l.stateNode),tn(i,Ge()),o!==null)for(d=i.onRecoverableError,l=0;l<o.length;l++)m=o[l],d(m.value,{componentStack:m.stack,digest:m.digest});if(ju)throw ju=!1,i=kh,kh=null,i;return(zu&1)!==0&&i.tag!==0&&So(),y=i.pendingLanes,(y&1)!==0?i===bh?Ka++:(Ka=0,bh=i):Ka=0,ui(),null}function So(){if(pi!==null){var i=ti(zu),o=In.transition,l=Oe;try{if(In.transition=null,Oe=16>i?16:i,pi===null)var d=!1;else{if(i=pi,pi=null,zu=0,(je&6)!==0)throw Error(t(331));var m=je;for(je|=4,he=i.current;he!==null;){var y=he,T=y.child;if((he.flags&16)!==0){var V=y.deletions;if(V!==null){for(var U=0;U<V.length;U++){var K=V[U];for(he=K;he!==null;){var ne=he;switch(ne.tag){case 0:case 11:case 15:Wa(8,ne,y)}var re=ne.child;if(re!==null)re.return=ne,he=re;else for(;he!==null;){ne=he;var te=ne.sibling,ce=ne.return;if(jg(ne),ne===K){he=null;break}if(te!==null){te.return=ce,he=te;break}he=ce}}}var fe=y.alternate;if(fe!==null){var pe=fe.child;if(pe!==null){fe.child=null;do{var ot=pe.sibling;pe.sibling=null,pe=ot}while(pe!==null)}}he=y}}if((y.subtreeFlags&2064)!==0&&T!==null)T.return=y,he=T;else e:for(;he!==null;){if(y=he,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Wa(9,y,y.return)}var q=y.sibling;if(q!==null){q.return=y.return,he=q;break e}he=y.return}}var z=i.current;for(he=z;he!==null;){T=he;var G=T.child;if((T.subtreeFlags&2064)!==0&&G!==null)G.return=T,he=G;else e:for(T=z;he!==null;){if(V=he,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:Mu(9,V)}}catch(ge){it(V,V.return,ge)}if(V===T){he=null;break e}var se=V.sibling;if(se!==null){se.return=V.return,he=se;break e}he=V.return}}if(je=m,ui(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(Ji,i)}catch{}d=!0}return d}finally{Oe=l,In.transition=o}}return!1}function tv(i,o,l){o=_o(l,o),o=_g(i,o,1),i=di(i,o,1),o=qt(),i!==null&&(Zr(i,1,o),tn(i,o))}function it(i,o,l){if(i.tag===3)tv(i,i,l);else for(;o!==null;){if(o.tag===3){tv(o,i,l);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(fi===null||!fi.has(d))){i=_o(l,i),i=wg(o,i,1),o=di(o,i,1),i=qt(),o!==null&&(Zr(o,1,i),tn(o,i));break}}o=o.return}}function fT(i,o,l){var d=i.pingCache;d!==null&&d.delete(o),o=qt(),i.pingedLanes|=i.suspendedLanes&l,It===i&&(bt&l)===l&&(gt===4||gt===3&&(bt&130023424)===bt&&500>Ge()-Rh?ps(i,0):Ah|=l),tn(i,o)}function nv(i,o){o===0&&((i.mode&1)===0?o=1:(o=Ws,Ws<<=1,(Ws&130023424)===0&&(Ws=4194304)));var l=qt();i=Ar(i,o),i!==null&&(Zr(i,o,l),tn(i,l))}function pT(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),nv(i,l)}function mT(i,o){var l=0;switch(i.tag){case 13:var d=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:d=i.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(o),nv(i,l)}var rv;rv=function(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps||Xt.current)Zt=!0;else{if((i.lanes&l)===0&&(o.flags&128)===0)return Zt=!1,nT(i,o,l);Zt=(i.flags&131072)!==0}else Zt=!1,Ze&&(o.flags&1048576)!==0&&Mm(o,_u,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;Lu(i,o),i=o.pendingProps;var m=co(o,Ot.current);vo(o,l),m=oh(null,o,d,i,m,l);var y=ah();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Jt(d)?(y=!0,gu(o)):y=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Zd(o),m.updater=Nu,o.stateNode=m,m._reactInternals=o,fh(o,d,i,l),o=vh(null,o,d,!0,y,l)):(o.tag=0,Ze&&y&&$d(o),Wt(null,o,m,l),o=o.child),o;case 16:d=o.elementType;e:{switch(Lu(i,o),i=o.pendingProps,m=d._init,d=m(d._payload),o.type=d,m=o.tag=vT(d),i=Fn(d,i),m){case 0:o=gh(null,o,d,i,l);break e;case 1:o=Rg(null,o,d,i,l);break e;case 11:o=Ig(null,o,d,i,l);break e;case 14:o=xg(null,o,d,Fn(d.type,i),l);break e}throw Error(t(306,d,""))}return o;case 0:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Fn(d,m),gh(i,o,d,m,l);case 1:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Fn(d,m),Rg(i,o,d,m,l);case 3:e:{if(kg(o),i===null)throw Error(t(387));d=o.pendingProps,y=o.memoizedState,m=y.element,Wm(i,o),xu(o,d,null,l);var T=o.memoizedState;if(d=T.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){m=_o(Error(t(423)),o),o=bg(i,o,d,l,m);break e}else if(d!==m){m=_o(Error(t(424)),o),o=bg(i,o,d,l,m);break e}else for(dn=oi(o.stateNode.containerInfo.firstChild),cn=o,Ze=!0,Vn=null,l=$m(o,null,d,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(po(),d===m){o=kr(i,o,l);break e}Wt(i,o,d,l)}o=o.child}return o;case 5:return Km(o),i===null&&qd(o),d=o.type,m=o.pendingProps,y=i!==null?i.memoizedProps:null,T=m.children,Vd(d,m)?T=null:y!==null&&Vd(d,y)&&(o.flags|=32),Ag(i,o),Wt(i,o,T,l),o.child;case 6:return i===null&&qd(o),null;case 13:return Ng(i,o,l);case 4:return eh(o,o.stateNode.containerInfo),d=o.pendingProps,i===null?o.child=mo(o,null,d,l):Wt(i,o,d,l),o.child;case 11:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Fn(d,m),Ig(i,o,d,m,l);case 7:return Wt(i,o,o.pendingProps,l),o.child;case 8:return Wt(i,o,o.pendingProps.children,l),o.child;case 12:return Wt(i,o,o.pendingProps.children,l),o.child;case 10:e:{if(d=o.type._context,m=o.pendingProps,y=o.memoizedProps,T=m.value,Ke(Tu,d._currentValue),d._currentValue=T,y!==null)if(Mn(y.value,T)){if(y.children===m.children&&!Xt.current){o=kr(i,o,l);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var V=y.dependencies;if(V!==null){T=y.child;for(var U=V.firstContext;U!==null;){if(U.context===d){if(y.tag===1){U=Rr(-1,l&-l),U.tag=2;var K=y.updateQueue;if(K!==null){K=K.shared;var ne=K.pending;ne===null?U.next=U:(U.next=ne.next,ne.next=U),K.pending=U}}y.lanes|=l,U=y.alternate,U!==null&&(U.lanes|=l),Xd(y.return,l,o),V.lanes|=l;break}U=U.next}}else if(y.tag===10)T=y.type===o.type?null:y.child;else if(y.tag===18){if(T=y.return,T===null)throw Error(t(341));T.lanes|=l,V=T.alternate,V!==null&&(V.lanes|=l),Xd(T,l,o),T=y.sibling}else T=y.child;if(T!==null)T.return=y;else for(T=y;T!==null;){if(T===o){T=null;break}if(y=T.sibling,y!==null){y.return=T.return,T=y;break}T=T.return}y=T}Wt(i,o,m.children,l),o=o.child}return o;case 9:return m=o.type,d=o.pendingProps.children,vo(o,l),m=Tn(m),d=d(m),o.flags|=1,Wt(i,o,d,l),o.child;case 14:return d=o.type,m=Fn(d,o.pendingProps),m=Fn(d.type,m),xg(i,o,d,m,l);case 15:return Cg(i,o,o.type,o.pendingProps,l);case 17:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Fn(d,m),Lu(i,o),o.tag=1,Jt(d)?(i=!0,gu(o)):i=!1,vo(o,l),vg(o,d,m),fh(o,d,m,l),vh(null,o,d,!0,i,l);case 19:return Lg(i,o,l);case 22:return Pg(i,o,l)}throw Error(t(156,o.tag))};function iv(i,o){return $s(i,o)}function gT(i,o,l,d){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(i,o,l,d){return new gT(i,o,l,d)}function Vh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function vT(i){if(typeof i=="function")return Vh(i)?1:0;if(i!=null){if(i=i.$$typeof,i===j)return 11;if(i===Pe)return 14}return 2}function vi(i,o){var l=i.alternate;return l===null?(l=xn(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function Wu(i,o,l,d,m,y){var T=2;if(d=i,typeof i=="function")Vh(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case L:return gs(l.children,m,y,o);case C:T=8,m|=8;break;case x:return i=xn(12,l,o,m|2),i.elementType=x,i.lanes=y,i;case b:return i=xn(13,l,o,m),i.elementType=b,i.lanes=y,i;case Ee:return i=xn(19,l,o,m),i.elementType=Ee,i.lanes=y,i;case Ie:return qu(l,m,y,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case k:T=10;break e;case O:T=9;break e;case j:T=11;break e;case Pe:T=14;break e;case me:T=16,d=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=xn(T,l,o,m),o.elementType=i,o.type=d,o.lanes=y,o}function gs(i,o,l,d){return i=xn(7,i,d,o),i.lanes=l,i}function qu(i,o,l,d){return i=xn(22,i,d,o),i.elementType=Ie,i.lanes=l,i.stateNode={isHidden:!1},i}function Fh(i,o,l){return i=xn(6,i,null,o),i.lanes=l,i}function jh(i,o,l){return o=xn(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function yT(i,o,l,d,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jr(0),this.expirationTimes=Jr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jr(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Uh(i,o,l,d,m,y,T,V,U){return i=new yT(i,o,l,V,U),o===1?(o=1,y===!0&&(o|=8)):o=0,y=xn(3,null,null,o),i.current=y,y.stateNode=i,y.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zd(y),i}function _T(i,o,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ee,key:d==null?null:""+d,children:i,containerInfo:o,implementation:l}}function sv(i){if(!i)return li;i=i._reactInternals;e:{if(Rn(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Jt(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(Jt(l))return Dm(i,l,o)}return o}function ov(i,o,l,d,m,y,T,V,U){return i=Uh(l,d,!0,i,m,y,T,V,U),i.context=sv(null),l=i.current,d=qt(),m=mi(l),y=Rr(d,m),y.callback=o??null,di(l,y,m),i.current.lanes=m,Zr(i,m,d),tn(i,d),i}function Gu(i,o,l,d){var m=o.current,y=qt(),T=mi(m);return l=sv(l),o.context===null?o.context=l:o.pendingContext=l,o=Rr(y,T),o.payload={element:i},d=d===void 0?null:d,d!==null&&(o.callback=d),i=di(m,o,T),i!==null&&(zn(i,m,T,y),Iu(i,m,T)),T}function Ku(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function av(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function zh(i,o){av(i,o),(i=i.alternate)&&av(i,o)}function wT(){return null}var lv=typeof reportError=="function"?reportError:function(i){console.error(i)};function Bh(i){this._internalRoot=i}Qu.prototype.render=Bh.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));Gu(i,o,null,null)},Qu.prototype.unmount=Bh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;fs(function(){Gu(null,i,null,null)}),o[Ir]=null}};function Qu(i){this._internalRoot=i}Qu.prototype.unstable_scheduleHydration=function(i){if(i){var o=Ql();i={blockedOn:null,target:i,priority:o};for(var l=0;l<Xn.length&&o!==0&&o<Xn[l].priority;l++);Xn.splice(l,0,i),l===0&&Jl(i)}};function $h(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Yu(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function uv(){}function ET(i,o,l,d,m){if(m){if(typeof d=="function"){var y=d;d=function(){var K=Ku(T);y.call(K)}}var T=ov(o,d,i,0,null,!1,!1,"",uv);return i._reactRootContainer=T,i[Ir]=T.current,Na(i.nodeType===8?i.parentNode:i),fs(),T}for(;m=i.lastChild;)i.removeChild(m);if(typeof d=="function"){var V=d;d=function(){var K=Ku(U);V.call(K)}}var U=Uh(i,0,!1,null,null,!1,!1,"",uv);return i._reactRootContainer=U,i[Ir]=U.current,Na(i.nodeType===8?i.parentNode:i),fs(function(){Gu(o,U,l,d)}),U}function Xu(i,o,l,d,m){var y=l._reactRootContainer;if(y){var T=y;if(typeof m=="function"){var V=m;m=function(){var U=Ku(T);V.call(U)}}Gu(o,T,i,m)}else T=ET(l,o,i,m,d);return Ku(T)}Gl=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var l=Xr(o.pendingLanes);l!==0&&(ei(o,l|1),tn(o,Ge()),(je&6)===0&&(To=Ge()+500,ui()))}break;case 13:fs(function(){var d=Ar(i,1);if(d!==null){var m=qt();zn(d,i,1,m)}}),zh(i,1)}},qs=function(i){if(i.tag===13){var o=Ar(i,134217728);if(o!==null){var l=qt();zn(o,i,134217728,l)}zh(i,134217728)}},Kl=function(i){if(i.tag===13){var o=mi(i),l=Ar(i,o);if(l!==null){var d=qt();zn(l,i,o,d)}zh(i,o)}},Ql=function(){return Oe},Yl=function(i,o){var l=Oe;try{return Oe=i,o()}finally{Oe=l}},Vs=function(i,o,l){switch(o){case"input":if(ra(i,l),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var d=l[o];if(d!==i&&d.form===i.form){var m=pu(d);if(!m)throw Error(t(90));bs(d),ra(d,m)}}}break;case"textarea":Os(i,l);break;case"select":o=l.value,o!=null&&gr(i,!!l.multiple,o,!1)}},Gi=Lh,fa=fs;var TT={usingClientEntryPoint:!1,Events:[Oa,lo,pu,Qn,ha,Lh]},Qa={findFiberByHostInstance:ss,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ST={bundleType:Qa.bundleType,version:Qa.version,rendererPackageName:Qa.rendererPackageName,rendererConfig:Qa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=ga(i),i===null?null:i.stateNode},findFiberByHostInstance:Qa.findFiberByHostInstance||wT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ju.isDisabled&&Ju.supportsFiber)try{Ji=Ju.inject(ST),on=Ju}catch{}}return nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TT,nn.createPortal=function(i,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$h(o))throw Error(t(200));return _T(i,o,null,l)},nn.createRoot=function(i,o){if(!$h(i))throw Error(t(299));var l=!1,d="",m=lv;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Uh(i,1,!1,null,null,l,!1,d,m),i[Ir]=o.current,Na(i.nodeType===8?i.parentNode:i),new Bh(o)},nn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=ga(o),i=i===null?null:i.stateNode,i},nn.flushSync=function(i){return fs(i)},nn.hydrate=function(i,o,l){if(!Yu(o))throw Error(t(200));return Xu(null,i,o,!0,l)},nn.hydrateRoot=function(i,o,l){if(!$h(i))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,m=!1,y="",T=lv;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),o=ov(o,null,i,1,l??null,m,!1,y,T),i[Ir]=o.current,Na(i),d)for(i=0;i<d.length;i++)l=d[i],m=l._getVersion,m=m(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,m]:o.mutableSourceEagerHydrationData.push(l,m);return new Qu(o)},nn.render=function(i,o,l){if(!Yu(o))throw Error(t(200));return Xu(null,i,o,!1,l)},nn.unmountComponentAtNode=function(i){if(!Yu(i))throw Error(t(40));return i._reactRootContainer?(fs(function(){Xu(null,null,i,!1,function(){i._reactRootContainer=null,i[Ir]=null})}),!0):!1},nn.unstable_batchedUpdates=Lh,nn.unstable_renderSubtreeIntoContainer=function(i,o,l,d){if(!Yu(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Xu(i,o,l,!1,d)},nn.version="18.3.1-next-f1338f8080-20240426",nn}var vv;function NT(){if(vv)return qh.exports;vv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),qh.exports=bT(),qh.exports}var yv;function DT(){if(yv)return Zu;yv=1;var n=NT();return Zu.createRoot=n.createRoot,Zu.hydrateRoot=n.hydrateRoot,Zu}var LT=DT(),Xa={},_v;function OT(){if(_v)return Xa;_v=1,Object.defineProperty(Xa,"__esModule",{value:!0}),Xa.parse=u,Xa.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function u(E,P){const S=new a,R=E.length;if(R<2)return S;const N=(P==null?void 0:P.decode)||v;let D=0;do{const A=E.indexOf("=",D);if(A===-1)break;const F=E.indexOf(";",D),H=F===-1?R:F;if(A>H){D=E.lastIndexOf(";",A-1)+1;continue}const Y=h(E,D,A),ee=f(E,A,Y),L=E.slice(Y,ee);if(S[L]===void 0){let C=h(E,A+1,H),x=f(E,H,C);const k=N(E.slice(C,x));S[L]=k}D=H+1}while(D<R);return S}function h(E,P,S){do{const R=E.charCodeAt(P);if(R!==32&&R!==9)return P}while(++P<S);return S}function f(E,P,S){for(;P>S;){const R=E.charCodeAt(--P);if(R!==32&&R!==9)return P+1}return S}function p(E,P,S){const R=(S==null?void 0:S.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const N=R(P);if(!e.test(N))throw new TypeError(`argument val is invalid: ${P}`);let D=E+"="+N;if(!S)return D;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);D+="; Max-Age="+S.maxAge}if(S.domain){if(!t.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);D+="; Domain="+S.domain}if(S.path){if(!r.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);D+="; Path="+S.path}if(S.expires){if(!w(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);D+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(D+="; HttpOnly"),S.secure&&(D+="; Secure"),S.partitioned&&(D+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":D+="; Priority=Low";break;case"medium":D+="; Priority=Medium";break;case"high":D+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":D+="; SameSite=Strict";break;case"lax":D+="; SameSite=Lax";break;case"none":D+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return D}function v(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function w(E){return s.call(E)==="[object Date]"}return Xa}OT();var wv="popstate";function MT(n={}){function e(r,s){let{pathname:a,search:u,hash:h}=r.location;return vf("",{pathname:a,search:u,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:hl(s)}return FT(e,t,null,n)}function et(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Hn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VT(){return Math.random().toString(36).substring(2,10)}function Ev(n,e){return{usr:n.state,key:n.key,idx:e}}function vf(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Wo(e):e,state:t,key:e&&e.key||r||VT()}}function hl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Wo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function FT(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,u=s.history,h="POP",f=null,p=v();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function v(){return(u.state||{idx:null}).idx}function w(){h="POP";let N=v(),D=N==null?null:N-p;p=N,f&&f({action:h,location:R.location,delta:D})}function E(N,D){h="PUSH";let A=vf(R.location,N,D);p=v()+1;let F=Ev(A,p),H=R.createHref(A);try{u.pushState(F,"",H)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;s.location.assign(H)}a&&f&&f({action:h,location:R.location,delta:1})}function P(N,D){h="REPLACE";let A=vf(R.location,N,D);p=v();let F=Ev(A,p),H=R.createHref(A);u.replaceState(F,"",H),a&&f&&f({action:h,location:R.location,delta:0})}function S(N){return jT(N)}let R={get action(){return h},get location(){return n(s,u)},listen(N){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(wv,w),f=N,()=>{s.removeEventListener(wv,w),f=null}},createHref(N){return e(s,N)},createURL:S,encodeLocation(N){let D=S(N);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:E,replace:P,go(N){return u.go(N)}};return R}function jT(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),et(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:hl(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function u_(n,e,t="/"){return UT(n,e,t,!1)}function UT(n,e,t,r){let s=typeof e=="string"?Wo(e):e,a=jr(s.pathname||"/",t);if(a==null)return null;let u=c_(n);zT(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let p=JT(a);h=YT(u[f],p,r)}return h}function c_(n,e=[],t=[],r=""){let s=(a,u,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(et(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let p=Mr([r,f.relativePath]),v=t.concat(f);a.children&&a.children.length>0&&(et(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),c_(a.children,e,v,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:KT(p,a.index),routesMeta:v})};return n.forEach((a,u)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))s(a,u);else for(let f of d_(a.path))s(a,u,f)}),e}function d_(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let u=d_(r.join("/")),h=[];return h.push(...u.map(f=>f===""?a:[a,f].join("/"))),s&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function zT(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:QT(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var BT=/^:[\w-]+$/,$T=3,HT=2,WT=1,qT=10,GT=-2,Tv=n=>n==="*";function KT(n,e){let t=n.split("/"),r=t.length;return t.some(Tv)&&(r+=GT),e&&(r+=HT),t.filter(s=>!Tv(s)).reduce((s,a)=>s+(BT.test(a)?$T:a===""?WT:qT),r)}function QT(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function YT(n,e,t=!1){let{routesMeta:r}=n,s={},a="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],p=h===r.length-1,v=a==="/"?e:e.slice(a.length)||"/",w=Tc({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},v),E=f.route;if(!w&&p&&t&&!r[r.length-1].route.index&&(w=Tc({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!w)return null;Object.assign(s,w.params),u.push({params:s,pathname:Mr([a,w.pathname]),pathnameBase:nS(Mr([a,w.pathnameBase])),route:E}),w.pathnameBase!=="/"&&(a=Mr([a,w.pathnameBase]))}return u}function Tc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=XT(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:r.reduce((p,{paramName:v,isOptional:w},E)=>{if(v==="*"){let S=h[E]||"";u=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const P=h[E];return w&&!P?p[v]=void 0:p[v]=(P||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:n}}function XT(n,e=!1,t=!0){Hn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function JT(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function jr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function ZT(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Wo(n):n;return{pathname:t?t.startsWith("/")?t:eS(t,e):e,search:rS(r),hash:iS(s)}}function eS(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Qh(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function tS(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Xf(n){let e=tS(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Jf(n,e,t,r=!1){let s;typeof n=="string"?s=Wo(n):(s={...n},et(!s.pathname||!s.pathname.includes("?"),Qh("?","pathname","search",s)),et(!s.pathname||!s.pathname.includes("#"),Qh("#","pathname","hash",s)),et(!s.search||!s.search.includes("#"),Qh("#","search","hash",s)));let a=n===""||s.pathname==="",u=a?"/":s.pathname,h;if(u==null)h=t;else{let w=e.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),w-=1;s.pathname=E.join("/")}h=w>=0?e[w]:"/"}let f=ZT(s,h),p=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||v)&&(f.pathname+="/"),f}var Mr=n=>n.join("/").replace(/\/\/+/g,"/"),nS=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),rS=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,iS=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function sS(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var h_=["POST","PUT","PATCH","DELETE"];new Set(h_);var oS=["GET",...h_];new Set(oS);var qo=B.createContext(null);qo.displayName="DataRouter";var Qc=B.createContext(null);Qc.displayName="DataRouterState";var f_=B.createContext({isTransitioning:!1});f_.displayName="ViewTransition";var aS=B.createContext(new Map);aS.displayName="Fetchers";var lS=B.createContext(null);lS.displayName="Await";var qn=B.createContext(null);qn.displayName="Navigation";var Sl=B.createContext(null);Sl.displayName="Location";var Gn=B.createContext({outlet:null,matches:[],isDataRoute:!1});Gn.displayName="Route";var Zf=B.createContext(null);Zf.displayName="RouteError";function uS(n,{relative:e}={}){et(Go(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=B.useContext(qn),{hash:s,pathname:a,search:u}=Il(n,{relative:e}),h=a;return t!=="/"&&(h=a==="/"?t:Mr([t,a])),r.createHref({pathname:h,search:u,hash:s})}function Go(){return B.useContext(Sl)!=null}function Mi(){return et(Go(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(Sl).location}var p_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function m_(n){B.useContext(qn).static||B.useLayoutEffect(n)}function qr(){let{isDataRoute:n}=B.useContext(Gn);return n?SS():cS()}function cS(){et(Go(),"useNavigate() may be used only in the context of a <Router> component.");let n=B.useContext(qo),{basename:e,navigator:t}=B.useContext(qn),{matches:r}=B.useContext(Gn),{pathname:s}=Mi(),a=JSON.stringify(Xf(r)),u=B.useRef(!1);return m_(()=>{u.current=!0}),B.useCallback((f,p={})=>{if(Hn(u.current,p_),!u.current)return;if(typeof f=="number"){t.go(f);return}let v=Jf(f,JSON.parse(a),s,p.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Mr([e,v.pathname])),(p.replace?t.replace:t.push)(v,p.state,p)},[e,t,a,s,n])}B.createContext(null);function dS(){let{matches:n}=B.useContext(Gn),e=n[n.length-1];return e?e.params:{}}function Il(n,{relative:e}={}){let{matches:t}=B.useContext(Gn),{pathname:r}=Mi(),s=JSON.stringify(Xf(t));return B.useMemo(()=>Jf(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function hS(n,e){return g_(n,e)}function g_(n,e,t,r){var D;et(Go(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=B.useContext(qn),{matches:a}=B.useContext(Gn),u=a[a.length-1],h=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",v=u&&u.route;{let A=v&&v.path||"";v_(f,!v||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let w=Mi(),E;if(e){let A=typeof e=="string"?Wo(e):e;et(p==="/"||((D=A.pathname)==null?void 0:D.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${A.pathname}" was given in the \`location\` prop.`),E=A}else E=w;let P=E.pathname||"/",S=P;if(p!=="/"){let A=p.replace(/^\//,"").split("/");S="/"+P.replace(/^\//,"").split("/").slice(A.length).join("/")}let R=u_(n,{pathname:S});Hn(v||R!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Hn(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=vS(R&&R.map(A=>Object.assign({},A,{params:Object.assign({},h,A.params),pathname:Mr([p,s.encodeLocation?s.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?p:Mr([p,s.encodeLocation?s.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),a,t,r);return e&&N?B.createElement(Sl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},N):N}function fS(){let n=TS(),e=sS(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=B.createElement(B.Fragment,null,B.createElement("p",null,"💿 Hey developer 👋"),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:a},"ErrorBoundary")," or"," ",B.createElement("code",{style:a},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:s},t):null,u)}var pS=B.createElement(fS,null),mS=class extends B.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?B.createElement(Gn.Provider,{value:this.props.routeContext},B.createElement(Zf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function gS({routeContext:n,match:e,children:t}){let r=B.useContext(qo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Gn.Provider,{value:n},t)}function vS(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t==null?void 0:t.errors;if(a!=null){let f=s.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);et(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,h=-1;if(t)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=f),p.route.id){let{loaderData:v,errors:w}=t,E=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!w||w[p.route.id]===void 0);if(p.route.lazy||E){u=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((f,p,v)=>{let w,E=!1,P=null,S=null;t&&(w=a&&p.route.id?a[p.route.id]:void 0,P=p.route.errorElement||pS,u&&(h<0&&v===0?(v_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,S=null):h===v&&(E=!0,S=p.route.hydrateFallbackElement||null)));let R=e.concat(s.slice(0,v+1)),N=()=>{let D;return w?D=P:E?D=S:p.route.Component?D=B.createElement(p.route.Component,null):p.route.element?D=p.route.element:D=f,B.createElement(gS,{match:p,routeContext:{outlet:f,matches:R,isDataRoute:t!=null},children:D})};return t&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?B.createElement(mS,{location:t.location,revalidation:t.revalidation,component:P,error:w,children:N(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):N()},null)}function ep(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yS(n){let e=B.useContext(qo);return et(e,ep(n)),e}function _S(n){let e=B.useContext(Qc);return et(e,ep(n)),e}function wS(n){let e=B.useContext(Gn);return et(e,ep(n)),e}function tp(n){let e=wS(n),t=e.matches[e.matches.length-1];return et(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function ES(){return tp("useRouteId")}function TS(){var r;let n=B.useContext(Zf),e=_S("useRouteError"),t=tp("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function SS(){let{router:n}=yS("useNavigate"),e=tp("useNavigate"),t=B.useRef(!1);return m_(()=>{t.current=!0}),B.useCallback(async(s,a={})=>{Hn(t.current,p_),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...a}))},[n,e])}var Sv={};function v_(n,e,t){!e&&!Sv[n]&&(Sv[n]=!0,Hn(!1,t))}B.memo(IS);function IS({routes:n,future:e,state:t}){return g_(n,void 0,t,e)}function yf({to:n,replace:e,state:t,relative:r}){et(Go(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=B.useContext(qn);Hn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=B.useContext(Gn),{pathname:u}=Mi(),h=qr(),f=Jf(n,Xf(a),u,r==="path"),p=JSON.stringify(f);return B.useEffect(()=>{h(JSON.parse(p),{replace:e,state:t,relative:r})},[h,p,r,e,t]),null}function sr(n){et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xS({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:a=!1}){et(!Go(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=B.useMemo(()=>({basename:u,navigator:s,static:a,future:{}}),[u,s,a]);typeof t=="string"&&(t=Wo(t));let{pathname:f="/",search:p="",hash:v="",state:w=null,key:E="default"}=t,P=B.useMemo(()=>{let S=jr(f,u);return S==null?null:{location:{pathname:S,search:p,hash:v,state:w,key:E},navigationType:r}},[u,f,p,v,w,E,r]);return Hn(P!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:B.createElement(qn.Provider,{value:h},B.createElement(Sl.Provider,{children:e,value:P}))}function CS({children:n,location:e}){return hS(_f(n),e)}function _f(n,e=[]){let t=[];return B.Children.forEach(n,(r,s)=>{if(!B.isValidElement(r))return;let a=[...e,s];if(r.type===B.Fragment){t.push.apply(t,_f(r.props.children,a));return}et(r.type===sr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),et(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=_f(r.props.children,a)),t.push(u)}),t}var uc="get",cc="application/x-www-form-urlencoded";function Yc(n){return n!=null&&typeof n.tagName=="string"}function PS(n){return Yc(n)&&n.tagName.toLowerCase()==="button"}function AS(n){return Yc(n)&&n.tagName.toLowerCase()==="form"}function RS(n){return Yc(n)&&n.tagName.toLowerCase()==="input"}function kS(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function bS(n,e){return n.button===0&&(!e||e==="_self")&&!kS(n)}var ec=null;function NS(){if(ec===null)try{new FormData(document.createElement("form"),0),ec=!1}catch{ec=!0}return ec}var DS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yh(n){return n!=null&&!DS.has(n)?(Hn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cc}"`),null):n}function LS(n,e){let t,r,s,a,u;if(AS(n)){let h=n.getAttribute("action");r=h?jr(h,e):null,t=n.getAttribute("method")||uc,s=Yh(n.getAttribute("enctype"))||cc,a=new FormData(n)}else if(PS(n)||RS(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(r=f?jr(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||uc,s=Yh(n.getAttribute("formenctype"))||Yh(h.getAttribute("enctype"))||cc,a=new FormData(h,n),!NS()){let{name:p,type:v,value:w}=n;if(v==="image"){let E=p?`${p}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else p&&a.append(p,w)}}else{if(Yc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=uc,r=null,s=cc,u=n}return a&&s==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:a,body:u}}function np(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function OS(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function MS(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function VS(n,e,t){let r=await Promise.all(n.map(async s=>{let a=e.routes[s.route.id];if(a){let u=await OS(a,t);return u.links?u.links():[]}return[]}));return zS(r.flat(1).filter(MS).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Iv(n,e,t,r,s,a){let u=(f,p)=>t[p]?f.route.id!==t[p].route.id:!0,h=(f,p)=>{var v;return t[p].pathname!==f.pathname||((v=t[p].route.path)==null?void 0:v.endsWith("*"))&&t[p].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,p)=>u(f,p)||h(f,p)):a==="data"?e.filter((f,p)=>{var w;let v=r.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(u(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let E=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((w=t[0])==null?void 0:w.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function FS(n,e,{includeHydrateFallback:t}={}){return jS(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function jS(n){return[...new Set(n)]}function US(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function zS(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let a=JSON.stringify(US(s));return t.has(a)||(t.add(a),r.push({key:a,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var BS=new Set([100,101,204,205]);function $S(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&jr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function y_(){let n=B.useContext(qo);return np(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function HS(){let n=B.useContext(Qc);return np(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var rp=B.createContext(void 0);rp.displayName="FrameworkContext";function __(){let n=B.useContext(rp);return np(n,"You must render this element inside a <HydratedRouter> element"),n}function WS(n,e){let t=B.useContext(rp),[r,s]=B.useState(!1),[a,u]=B.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:v,onTouchStart:w}=e,E=B.useRef(null);B.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let R=D=>{D.forEach(A=>{u(A.isIntersecting)})},N=new IntersectionObserver(R,{threshold:.5});return E.current&&N.observe(E.current),()=>{N.disconnect()}}},[n]),B.useEffect(()=>{if(r){let R=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(R)}}},[r]);let P=()=>{s(!0)},S=()=>{s(!1),u(!1)};return t?n!=="intent"?[a,E,{}]:[a,E,{onFocus:Ja(h,P),onBlur:Ja(f,S),onMouseEnter:Ja(p,P),onMouseLeave:Ja(v,S),onTouchStart:Ja(w,P)}]:[!1,E,{}]}function Ja(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function qS({page:n,...e}){let{router:t}=y_(),r=B.useMemo(()=>u_(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?B.createElement(KS,{page:n,matches:r,...e}):null}function GS(n){let{manifest:e,routeModules:t}=__(),[r,s]=B.useState([]);return B.useEffect(()=>{let a=!1;return VS(n,e,t).then(u=>{a||s(u)}),()=>{a=!0}},[n,e,t]),r}function KS({page:n,matches:e,...t}){let r=Mi(),{manifest:s,routeModules:a}=__(),{basename:u}=y_(),{loaderData:h,matches:f}=HS(),p=B.useMemo(()=>Iv(n,e,f,s,r,"data"),[n,e,f,s,r]),v=B.useMemo(()=>Iv(n,e,f,s,r,"assets"),[n,e,f,s,r]),w=B.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let S=new Set,R=!1;if(e.forEach(D=>{var F;let A=s.routes[D.route.id];!A||!A.hasLoader||(!p.some(H=>H.route.id===D.route.id)&&D.route.id in h&&((F=a[D.route.id])!=null&&F.shouldRevalidate)||A.hasClientLoader?R=!0:S.add(D.route.id))}),S.size===0)return[];let N=$S(n,u);return R&&S.size>0&&N.searchParams.set("_routes",e.filter(D=>S.has(D.route.id)).map(D=>D.route.id).join(",")),[N.pathname+N.search]},[u,h,r,s,p,e,n,a]),E=B.useMemo(()=>FS(v,s),[v,s]),P=GS(v);return B.createElement(B.Fragment,null,w.map(S=>B.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),E.map(S=>B.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),P.map(({key:S,link:R})=>B.createElement("link",{key:S,...R})))}function QS(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var w_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{w_&&(window.__reactRouterVersion="7.6.2")}catch{}function YS({basename:n,children:e,window:t}){let r=B.useRef();r.current==null&&(r.current=MT({window:t,v5Compat:!0}));let s=r.current,[a,u]=B.useState({action:s.action,location:s.location}),h=B.useCallback(f=>{B.startTransition(()=>u(f))},[u]);return B.useLayoutEffect(()=>s.listen(h),[s,h]),B.createElement(xS,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:s})}var E_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ar=B.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:a,replace:u,state:h,target:f,to:p,preventScrollReset:v,viewTransition:w,...E},P){let{basename:S}=B.useContext(qn),R=typeof p=="string"&&E_.test(p),N,D=!1;if(typeof p=="string"&&R&&(N=p,w_))try{let x=new URL(window.location.href),k=p.startsWith("//")?new URL(x.protocol+p):new URL(p),O=jr(k.pathname,S);k.origin===x.origin&&O!=null?p=O+k.search+k.hash:D=!0}catch{Hn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=uS(p,{relative:s}),[F,H,Y]=WS(r,E),ee=eI(p,{replace:u,state:h,target:f,preventScrollReset:v,relative:s,viewTransition:w});function L(x){e&&e(x),x.defaultPrevented||ee(x)}let C=B.createElement("a",{...E,...Y,href:N||A,onClick:D||a?e:L,ref:QS(P,H),target:f,"data-discover":!R&&t==="render"?"true":void 0});return F&&!R?B.createElement(B.Fragment,null,C,B.createElement(qS,{page:A})):C});ar.displayName="Link";var XS=B.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:a,to:u,viewTransition:h,children:f,...p},v){let w=Il(u,{relative:p.relative}),E=Mi(),P=B.useContext(Qc),{navigator:S,basename:R}=B.useContext(qn),N=P!=null&&sI(w)&&h===!0,D=S.encodeLocation?S.encodeLocation(w).pathname:w.pathname,A=E.pathname,F=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;t||(A=A.toLowerCase(),F=F?F.toLowerCase():null,D=D.toLowerCase()),F&&R&&(F=jr(F,R)||F);const H=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let Y=A===D||!s&&A.startsWith(D)&&A.charAt(H)==="/",ee=F!=null&&(F===D||!s&&F.startsWith(D)&&F.charAt(D.length)==="/"),L={isActive:Y,isPending:ee,isTransitioning:N},C=Y?e:void 0,x;typeof r=="function"?x=r(L):x=[r,Y?"active":null,ee?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let k=typeof a=="function"?a(L):a;return B.createElement(ar,{...p,"aria-current":C,className:x,ref:v,style:k,to:u,viewTransition:h},typeof f=="function"?f(L):f)});XS.displayName="NavLink";var JS=B.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:a,method:u=uc,action:h,onSubmit:f,relative:p,preventScrollReset:v,viewTransition:w,...E},P)=>{let S=rI(),R=iI(h,{relative:p}),N=u.toLowerCase()==="get"?"get":"post",D=typeof h=="string"&&E_.test(h),A=F=>{if(f&&f(F),F.defaultPrevented)return;F.preventDefault();let H=F.nativeEvent.submitter,Y=(H==null?void 0:H.getAttribute("formmethod"))||u;S(H||F.currentTarget,{fetcherKey:e,method:Y,navigate:t,replace:s,state:a,relative:p,preventScrollReset:v,viewTransition:w})};return B.createElement("form",{ref:P,method:N,action:R,onSubmit:r?f:A,...E,"data-discover":!D&&n==="render"?"true":void 0})});JS.displayName="Form";function ZS(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function T_(n){let e=B.useContext(qo);return et(e,ZS(n)),e}function eI(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:a,viewTransition:u}={}){let h=qr(),f=Mi(),p=Il(n,{relative:a});return B.useCallback(v=>{if(bS(v,e)){v.preventDefault();let w=t!==void 0?t:hl(f)===hl(p);h(n,{replace:w,state:r,preventScrollReset:s,relative:a,viewTransition:u})}},[f,h,p,t,r,e,n,s,a,u])}var tI=0,nI=()=>`__${String(++tI)}__`;function rI(){let{router:n}=T_("useSubmit"),{basename:e}=B.useContext(qn),t=ES();return B.useCallback(async(r,s={})=>{let{action:a,method:u,encType:h,formData:f,body:p}=LS(r,e);if(s.navigate===!1){let v=s.fetcherKey||nI();await n.fetch(v,t,s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||u,formEncType:s.encType||h,flushSync:s.flushSync})}else await n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||u,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function iI(n,{relative:e}={}){let{basename:t}=B.useContext(qn),r=B.useContext(Gn);et(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Il(n||".",{relative:e})},u=Mi();if(n==null){a.search=u.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(v=>v==="")){h.delete("index"),f.filter(w=>w).forEach(w=>h.append("index",w));let v=h.toString();a.search=v?`?${v}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Mr([t,a.pathname])),hl(a)}function sI(n,e={}){let t=B.useContext(f_);et(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=T_("useViewTransitionState"),s=Il(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=jr(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=jr(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Tc(s.pathname,u)!=null||Tc(s.pathname,a)!=null}[...BS];const oI=()=>{};var xv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},aI=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],u=n[t++],h=n[t++],f=((s&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},I_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],u=s+1<n.length,h=u?n[s+1]:0,f=s+2<n.length,p=f?n[s+2]:0,v=a>>2,w=(a&3)<<4|h>>4;let E=(h&15)<<2|p>>6,P=p&63;f||(P=64,u||(E=64)),r.push(t[v],t[w],t[E],t[P])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(S_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):aI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],h=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const w=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||h==null||p==null||w==null)throw new lI;const E=a<<2|h>>4;if(r.push(E),p!==64){const P=h<<4&240|p>>2;if(r.push(P),w!==64){const S=p<<6&192|w;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class lI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uI=function(n){const e=S_(n);return I_.encodeByteArray(e,!0)},Sc=function(n){return uI(n).replace(/\./g,"")},x_=function(n){try{return I_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=()=>cI().__FIREBASE_DEFAULTS__,hI=()=>{if(typeof process>"u"||typeof xv>"u")return;const n=xv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},fI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&x_(n[1]);return e&&JSON.parse(e)},Xc=()=>{try{return oI()||dI()||hI()||fI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},C_=n=>{var e,t;return(t=(e=Xc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},pI=n=>{const e=C_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},P_=()=>{var n;return(n=Xc())===null||n===void 0?void 0:n.config},A_=n=>{var e;return(e=Xc())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Sc(JSON.stringify(t)),Sc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function yI(){var n;const e=(n=Xc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _I(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function EI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TI(){const n=Bt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function SI(){return!yI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function II(){try{return typeof indexedDB=="object"}catch{return!1}}function xI(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="FirebaseError";class Gr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=CI,Object.setPrototypeOf(this,Gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xl.prototype.create)}}class xl{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?PI(a,r):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new Gr(s,h,r)}}function PI(n,e){return n.replace(AI,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const AI=/\{\$([^}]+)}/g;function RI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ws(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],u=e[s];if(Cv(a)&&Cv(u)){if(!ws(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function Cv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function tl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function nl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function kI(n,e){const t=new bI(n,e);return t.subscribe.bind(t)}class bI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");NI(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Xh),s.error===void 0&&(s.error=Xh),s.complete===void 0&&(s.complete=Xh);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Xh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(n){return n&&n._delegate?n._delegate:n}class Es{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new mI;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OI(e))try{this.getOrInitializeService({instanceIdentifier:vs})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vs){return this.instances.has(e)}getOptions(e=vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&u.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LI(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vs){return this.component?this.component.multipleInstances?e:vs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LI(n){return n===vs?void 0:n}function OI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new DI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(De||(De={}));const VI={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},FI=De.INFO,jI={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},UI=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=jI[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ip{constructor(e){this.name=e,this._logLevel=FI,this._logHandler=UI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const zI=(n,e)=>e.some(t=>n instanceof t);let Pv,Av;function BI(){return Pv||(Pv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $I(){return Av||(Av=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const R_=new WeakMap,wf=new WeakMap,k_=new WeakMap,Jh=new WeakMap,sp=new WeakMap;function HI(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(xi(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&R_.set(t,n)}).catch(()=>{}),sp.set(e,n),e}function WI(n){if(wf.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});wf.set(n,e)}let Ef={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return wf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||k_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return xi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function qI(n){Ef=n(Ef)}function GI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Zh(this),e,...t);return k_.set(r,e.sort?e.sort():[e]),xi(r)}:$I().includes(n)?function(...e){return n.apply(Zh(this),e),xi(R_.get(this))}:function(...e){return xi(n.apply(Zh(this),e))}}function KI(n){return typeof n=="function"?GI(n):(n instanceof IDBTransaction&&WI(n),zI(n,BI())?new Proxy(n,Ef):n)}function xi(n){if(n instanceof IDBRequest)return HI(n);if(Jh.has(n))return Jh.get(n);const e=KI(n);return e!==n&&(Jh.set(n,e),sp.set(e,n)),e}const Zh=n=>sp.get(n);function QI(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(n,e),h=xi(u);return r&&u.addEventListener("upgradeneeded",f=>{r(xi(u.result),f.oldVersion,f.newVersion,xi(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const YI=["get","getKey","getAll","getAllKeys","count"],XI=["put","add","delete","clear"],ef=new Map;function Rv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ef.get(e))return ef.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=XI.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||YI.includes(t)))return;const a=async function(u,...h){const f=this.transaction(u,s?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[t](...h),s&&f.done]))[0]};return ef.set(e,a),a}qI(n=>({...n,get:(e,t,r)=>Rv(e,t)||n.get(e,t,r),has:(e,t)=>!!Rv(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(ZI(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function ZI(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tf="@firebase/app",kv="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur=new ip("@firebase/app"),ex="@firebase/app-compat",tx="@firebase/analytics-compat",nx="@firebase/analytics",rx="@firebase/app-check-compat",ix="@firebase/app-check",sx="@firebase/auth",ox="@firebase/auth-compat",ax="@firebase/database",lx="@firebase/data-connect",ux="@firebase/database-compat",cx="@firebase/functions",dx="@firebase/functions-compat",hx="@firebase/installations",fx="@firebase/installations-compat",px="@firebase/messaging",mx="@firebase/messaging-compat",gx="@firebase/performance",vx="@firebase/performance-compat",yx="@firebase/remote-config",_x="@firebase/remote-config-compat",wx="@firebase/storage",Ex="@firebase/storage-compat",Tx="@firebase/firestore",Sx="@firebase/vertexai",Ix="@firebase/firestore-compat",xx="firebase",Cx="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf="[DEFAULT]",Px={[Tf]:"fire-core",[ex]:"fire-core-compat",[nx]:"fire-analytics",[tx]:"fire-analytics-compat",[ix]:"fire-app-check",[rx]:"fire-app-check-compat",[sx]:"fire-auth",[ox]:"fire-auth-compat",[ax]:"fire-rtdb",[lx]:"fire-data-connect",[ux]:"fire-rtdb-compat",[cx]:"fire-fn",[dx]:"fire-fn-compat",[hx]:"fire-iid",[fx]:"fire-iid-compat",[px]:"fire-fcm",[mx]:"fire-fcm-compat",[gx]:"fire-perf",[vx]:"fire-perf-compat",[yx]:"fire-rc",[_x]:"fire-rc-compat",[wx]:"fire-gcs",[Ex]:"fire-gcs-compat",[Tx]:"fire-fst",[Ix]:"fire-fst-compat",[Sx]:"fire-vertex","fire-js":"fire-js",[xx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=new Map,Ax=new Map,If=new Map;function bv(n,e){try{n.container.addComponent(e)}catch(t){Ur.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Oo(n){const e=n.name;if(If.has(e))return Ur.debug(`There were multiple attempts to register component ${e}.`),!1;If.set(e,n);for(const t of Ic.values())bv(t,n);for(const t of Ax.values())bv(t,n);return!0}function op(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function pn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ci=new xl("app","Firebase",Rx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Es("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ci.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=Cx;function b_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Sf,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Ci.create("bad-app-name",{appName:String(s)});if(t||(t=P_()),!t)throw Ci.create("no-options");const a=Ic.get(s);if(a){if(ws(t,a.options)&&ws(r,a.config))return a;throw Ci.create("duplicate-app",{appName:s})}const u=new MI(s);for(const f of If.values())u.addComponent(f);const h=new kx(t,r,u);return Ic.set(s,h),h}function N_(n=Sf){const e=Ic.get(n);if(!e&&n===Sf&&P_())return b_();if(!e)throw Ci.create("no-app",{appName:n});return e}function Pi(n,e,t){var r;let s=(r=Px[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const h=[`Unable to register library "${s}" with version "${e}":`];a&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ur.warn(h.join(" "));return}Oo(new Es(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx="firebase-heartbeat-database",Nx=1,fl="firebase-heartbeat-store";let tf=null;function D_(){return tf||(tf=QI(bx,Nx,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(fl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ci.create("idb-open",{originalErrorMessage:n.message})})),tf}async function Dx(n){try{const t=(await D_()).transaction(fl),r=await t.objectStore(fl).get(L_(n));return await t.done,r}catch(e){if(e instanceof Gr)Ur.warn(e.message);else{const t=Ci.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ur.warn(t.message)}}}async function Nv(n,e){try{const r=(await D_()).transaction(fl,"readwrite");await r.objectStore(fl).put(e,L_(n)),await r.done}catch(t){if(t instanceof Gr)Ur.warn(t.message);else{const r=Ci.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ur.warn(r.message)}}}function L_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx=1024,Ox=30;class Mx{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Fx(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Dv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>Ox){const u=jx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ur.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Dv(),{heartbeatsToSend:r,unsentEntries:s}=Vx(this._heartbeatsCache.heartbeats),a=Sc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Ur.warn(t),""}}}function Dv(){return new Date().toISOString().substring(0,10)}function Vx(n,e=Lx){const t=[];let r=n.slice();for(const s of n){const a=t.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),Lv(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Lv(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class Fx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return II()?xI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Dx(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Nv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Nv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Lv(n){return Sc(JSON.stringify({version:2,heartbeats:n})).length}function jx(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(n){Oo(new Es("platform-logger",e=>new JI(e),"PRIVATE")),Oo(new Es("heartbeat",e=>new Mx(e),"PRIVATE")),Pi(Tf,kv,n),Pi(Tf,kv,"esm2017"),Pi("fire-js","")}Ux("");var Ov=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ai,O_;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,C){function x(){}x.prototype=C.prototype,L.D=C.prototype,L.prototype=new x,L.prototype.constructor=L,L.C=function(k,O,j){for(var b=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)b[Ee-2]=arguments[Ee];return C.prototype[O].apply(k,b)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(L,C,x){x||(x=0);var k=Array(16);if(typeof C=="string")for(var O=0;16>O;++O)k[O]=C.charCodeAt(x++)|C.charCodeAt(x++)<<8|C.charCodeAt(x++)<<16|C.charCodeAt(x++)<<24;else for(O=0;16>O;++O)k[O]=C[x++]|C[x++]<<8|C[x++]<<16|C[x++]<<24;C=L.g[0],x=L.g[1],O=L.g[2];var j=L.g[3],b=C+(j^x&(O^j))+k[0]+3614090360&4294967295;C=x+(b<<7&4294967295|b>>>25),b=j+(O^C&(x^O))+k[1]+3905402710&4294967295,j=C+(b<<12&4294967295|b>>>20),b=O+(x^j&(C^x))+k[2]+606105819&4294967295,O=j+(b<<17&4294967295|b>>>15),b=x+(C^O&(j^C))+k[3]+3250441966&4294967295,x=O+(b<<22&4294967295|b>>>10),b=C+(j^x&(O^j))+k[4]+4118548399&4294967295,C=x+(b<<7&4294967295|b>>>25),b=j+(O^C&(x^O))+k[5]+1200080426&4294967295,j=C+(b<<12&4294967295|b>>>20),b=O+(x^j&(C^x))+k[6]+2821735955&4294967295,O=j+(b<<17&4294967295|b>>>15),b=x+(C^O&(j^C))+k[7]+4249261313&4294967295,x=O+(b<<22&4294967295|b>>>10),b=C+(j^x&(O^j))+k[8]+1770035416&4294967295,C=x+(b<<7&4294967295|b>>>25),b=j+(O^C&(x^O))+k[9]+2336552879&4294967295,j=C+(b<<12&4294967295|b>>>20),b=O+(x^j&(C^x))+k[10]+4294925233&4294967295,O=j+(b<<17&4294967295|b>>>15),b=x+(C^O&(j^C))+k[11]+2304563134&4294967295,x=O+(b<<22&4294967295|b>>>10),b=C+(j^x&(O^j))+k[12]+1804603682&4294967295,C=x+(b<<7&4294967295|b>>>25),b=j+(O^C&(x^O))+k[13]+4254626195&4294967295,j=C+(b<<12&4294967295|b>>>20),b=O+(x^j&(C^x))+k[14]+2792965006&4294967295,O=j+(b<<17&4294967295|b>>>15),b=x+(C^O&(j^C))+k[15]+1236535329&4294967295,x=O+(b<<22&4294967295|b>>>10),b=C+(O^j&(x^O))+k[1]+4129170786&4294967295,C=x+(b<<5&4294967295|b>>>27),b=j+(x^O&(C^x))+k[6]+3225465664&4294967295,j=C+(b<<9&4294967295|b>>>23),b=O+(C^x&(j^C))+k[11]+643717713&4294967295,O=j+(b<<14&4294967295|b>>>18),b=x+(j^C&(O^j))+k[0]+3921069994&4294967295,x=O+(b<<20&4294967295|b>>>12),b=C+(O^j&(x^O))+k[5]+3593408605&4294967295,C=x+(b<<5&4294967295|b>>>27),b=j+(x^O&(C^x))+k[10]+38016083&4294967295,j=C+(b<<9&4294967295|b>>>23),b=O+(C^x&(j^C))+k[15]+3634488961&4294967295,O=j+(b<<14&4294967295|b>>>18),b=x+(j^C&(O^j))+k[4]+3889429448&4294967295,x=O+(b<<20&4294967295|b>>>12),b=C+(O^j&(x^O))+k[9]+568446438&4294967295,C=x+(b<<5&4294967295|b>>>27),b=j+(x^O&(C^x))+k[14]+3275163606&4294967295,j=C+(b<<9&4294967295|b>>>23),b=O+(C^x&(j^C))+k[3]+4107603335&4294967295,O=j+(b<<14&4294967295|b>>>18),b=x+(j^C&(O^j))+k[8]+1163531501&4294967295,x=O+(b<<20&4294967295|b>>>12),b=C+(O^j&(x^O))+k[13]+2850285829&4294967295,C=x+(b<<5&4294967295|b>>>27),b=j+(x^O&(C^x))+k[2]+4243563512&4294967295,j=C+(b<<9&4294967295|b>>>23),b=O+(C^x&(j^C))+k[7]+1735328473&4294967295,O=j+(b<<14&4294967295|b>>>18),b=x+(j^C&(O^j))+k[12]+2368359562&4294967295,x=O+(b<<20&4294967295|b>>>12),b=C+(x^O^j)+k[5]+4294588738&4294967295,C=x+(b<<4&4294967295|b>>>28),b=j+(C^x^O)+k[8]+2272392833&4294967295,j=C+(b<<11&4294967295|b>>>21),b=O+(j^C^x)+k[11]+1839030562&4294967295,O=j+(b<<16&4294967295|b>>>16),b=x+(O^j^C)+k[14]+4259657740&4294967295,x=O+(b<<23&4294967295|b>>>9),b=C+(x^O^j)+k[1]+2763975236&4294967295,C=x+(b<<4&4294967295|b>>>28),b=j+(C^x^O)+k[4]+1272893353&4294967295,j=C+(b<<11&4294967295|b>>>21),b=O+(j^C^x)+k[7]+4139469664&4294967295,O=j+(b<<16&4294967295|b>>>16),b=x+(O^j^C)+k[10]+3200236656&4294967295,x=O+(b<<23&4294967295|b>>>9),b=C+(x^O^j)+k[13]+681279174&4294967295,C=x+(b<<4&4294967295|b>>>28),b=j+(C^x^O)+k[0]+3936430074&4294967295,j=C+(b<<11&4294967295|b>>>21),b=O+(j^C^x)+k[3]+3572445317&4294967295,O=j+(b<<16&4294967295|b>>>16),b=x+(O^j^C)+k[6]+76029189&4294967295,x=O+(b<<23&4294967295|b>>>9),b=C+(x^O^j)+k[9]+3654602809&4294967295,C=x+(b<<4&4294967295|b>>>28),b=j+(C^x^O)+k[12]+3873151461&4294967295,j=C+(b<<11&4294967295|b>>>21),b=O+(j^C^x)+k[15]+530742520&4294967295,O=j+(b<<16&4294967295|b>>>16),b=x+(O^j^C)+k[2]+3299628645&4294967295,x=O+(b<<23&4294967295|b>>>9),b=C+(O^(x|~j))+k[0]+4096336452&4294967295,C=x+(b<<6&4294967295|b>>>26),b=j+(x^(C|~O))+k[7]+1126891415&4294967295,j=C+(b<<10&4294967295|b>>>22),b=O+(C^(j|~x))+k[14]+2878612391&4294967295,O=j+(b<<15&4294967295|b>>>17),b=x+(j^(O|~C))+k[5]+4237533241&4294967295,x=O+(b<<21&4294967295|b>>>11),b=C+(O^(x|~j))+k[12]+1700485571&4294967295,C=x+(b<<6&4294967295|b>>>26),b=j+(x^(C|~O))+k[3]+2399980690&4294967295,j=C+(b<<10&4294967295|b>>>22),b=O+(C^(j|~x))+k[10]+4293915773&4294967295,O=j+(b<<15&4294967295|b>>>17),b=x+(j^(O|~C))+k[1]+2240044497&4294967295,x=O+(b<<21&4294967295|b>>>11),b=C+(O^(x|~j))+k[8]+1873313359&4294967295,C=x+(b<<6&4294967295|b>>>26),b=j+(x^(C|~O))+k[15]+4264355552&4294967295,j=C+(b<<10&4294967295|b>>>22),b=O+(C^(j|~x))+k[6]+2734768916&4294967295,O=j+(b<<15&4294967295|b>>>17),b=x+(j^(O|~C))+k[13]+1309151649&4294967295,x=O+(b<<21&4294967295|b>>>11),b=C+(O^(x|~j))+k[4]+4149444226&4294967295,C=x+(b<<6&4294967295|b>>>26),b=j+(x^(C|~O))+k[11]+3174756917&4294967295,j=C+(b<<10&4294967295|b>>>22),b=O+(C^(j|~x))+k[2]+718787259&4294967295,O=j+(b<<15&4294967295|b>>>17),b=x+(j^(O|~C))+k[9]+3951481745&4294967295,L.g[0]=L.g[0]+C&4294967295,L.g[1]=L.g[1]+(O+(b<<21&4294967295|b>>>11))&4294967295,L.g[2]=L.g[2]+O&4294967295,L.g[3]=L.g[3]+j&4294967295}r.prototype.u=function(L,C){C===void 0&&(C=L.length);for(var x=C-this.blockSize,k=this.B,O=this.h,j=0;j<C;){if(O==0)for(;j<=x;)s(this,L,j),j+=this.blockSize;if(typeof L=="string"){for(;j<C;)if(k[O++]=L.charCodeAt(j++),O==this.blockSize){s(this,k),O=0;break}}else for(;j<C;)if(k[O++]=L[j++],O==this.blockSize){s(this,k),O=0;break}}this.h=O,this.o+=C},r.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var C=1;C<L.length-8;++C)L[C]=0;var x=8*this.o;for(C=L.length-8;C<L.length;++C)L[C]=x&255,x/=256;for(this.u(L),L=Array(16),C=x=0;4>C;++C)for(var k=0;32>k;k+=8)L[x++]=this.g[C]>>>k&255;return L};function a(L,C){var x=h;return Object.prototype.hasOwnProperty.call(x,L)?x[L]:x[L]=C(L)}function u(L,C){this.h=C;for(var x=[],k=!0,O=L.length-1;0<=O;O--){var j=L[O]|0;k&&j==C||(x[O]=j,k=!1)}this.g=x}var h={};function f(L){return-128<=L&&128>L?a(L,function(C){return new u([C|0],0>C?-1:0)}):new u([L|0],0>L?-1:0)}function p(L){if(isNaN(L)||!isFinite(L))return w;if(0>L)return N(p(-L));for(var C=[],x=1,k=0;L>=x;k++)C[k]=L/x|0,x*=4294967296;return new u(C,0)}function v(L,C){if(L.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(L.charAt(0)=="-")return N(v(L.substring(1),C));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=p(Math.pow(C,8)),k=w,O=0;O<L.length;O+=8){var j=Math.min(8,L.length-O),b=parseInt(L.substring(O,O+j),C);8>j?(j=p(Math.pow(C,j)),k=k.j(j).add(p(b))):(k=k.j(x),k=k.add(p(b)))}return k}var w=f(0),E=f(1),P=f(16777216);n=u.prototype,n.m=function(){if(R(this))return-N(this).m();for(var L=0,C=1,x=0;x<this.g.length;x++){var k=this.i(x);L+=(0<=k?k:4294967296+k)*C,C*=4294967296}return L},n.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(S(this))return"0";if(R(this))return"-"+N(this).toString(L);for(var C=p(Math.pow(L,6)),x=this,k="";;){var O=H(x,C).g;x=D(x,O.j(C));var j=((0<x.g.length?x.g[0]:x.h)>>>0).toString(L);if(x=O,S(x))return j+k;for(;6>j.length;)j="0"+j;k=j+k}},n.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function S(L){if(L.h!=0)return!1;for(var C=0;C<L.g.length;C++)if(L.g[C]!=0)return!1;return!0}function R(L){return L.h==-1}n.l=function(L){return L=D(this,L),R(L)?-1:S(L)?0:1};function N(L){for(var C=L.g.length,x=[],k=0;k<C;k++)x[k]=~L.g[k];return new u(x,~L.h).add(E)}n.abs=function(){return R(this)?N(this):this},n.add=function(L){for(var C=Math.max(this.g.length,L.g.length),x=[],k=0,O=0;O<=C;O++){var j=k+(this.i(O)&65535)+(L.i(O)&65535),b=(j>>>16)+(this.i(O)>>>16)+(L.i(O)>>>16);k=b>>>16,j&=65535,b&=65535,x[O]=b<<16|j}return new u(x,x[x.length-1]&-2147483648?-1:0)};function D(L,C){return L.add(N(C))}n.j=function(L){if(S(this)||S(L))return w;if(R(this))return R(L)?N(this).j(N(L)):N(N(this).j(L));if(R(L))return N(this.j(N(L)));if(0>this.l(P)&&0>L.l(P))return p(this.m()*L.m());for(var C=this.g.length+L.g.length,x=[],k=0;k<2*C;k++)x[k]=0;for(k=0;k<this.g.length;k++)for(var O=0;O<L.g.length;O++){var j=this.i(k)>>>16,b=this.i(k)&65535,Ee=L.i(O)>>>16,Pe=L.i(O)&65535;x[2*k+2*O]+=b*Pe,A(x,2*k+2*O),x[2*k+2*O+1]+=j*Pe,A(x,2*k+2*O+1),x[2*k+2*O+1]+=b*Ee,A(x,2*k+2*O+1),x[2*k+2*O+2]+=j*Ee,A(x,2*k+2*O+2)}for(k=0;k<C;k++)x[k]=x[2*k+1]<<16|x[2*k];for(k=C;k<2*C;k++)x[k]=0;return new u(x,0)};function A(L,C){for(;(L[C]&65535)!=L[C];)L[C+1]+=L[C]>>>16,L[C]&=65535,C++}function F(L,C){this.g=L,this.h=C}function H(L,C){if(S(C))throw Error("division by zero");if(S(L))return new F(w,w);if(R(L))return C=H(N(L),C),new F(N(C.g),N(C.h));if(R(C))return C=H(L,N(C)),new F(N(C.g),C.h);if(30<L.g.length){if(R(L)||R(C))throw Error("slowDivide_ only works with positive integers.");for(var x=E,k=C;0>=k.l(L);)x=Y(x),k=Y(k);var O=ee(x,1),j=ee(k,1);for(k=ee(k,2),x=ee(x,2);!S(k);){var b=j.add(k);0>=b.l(L)&&(O=O.add(x),j=b),k=ee(k,1),x=ee(x,1)}return C=D(L,O.j(C)),new F(O,C)}for(O=w;0<=L.l(C);){for(x=Math.max(1,Math.floor(L.m()/C.m())),k=Math.ceil(Math.log(x)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),j=p(x),b=j.j(C);R(b)||0<b.l(L);)x-=k,j=p(x),b=j.j(C);S(j)&&(j=E),O=O.add(j),L=D(L,b)}return new F(O,L)}n.A=function(L){return H(this,L).h},n.and=function(L){for(var C=Math.max(this.g.length,L.g.length),x=[],k=0;k<C;k++)x[k]=this.i(k)&L.i(k);return new u(x,this.h&L.h)},n.or=function(L){for(var C=Math.max(this.g.length,L.g.length),x=[],k=0;k<C;k++)x[k]=this.i(k)|L.i(k);return new u(x,this.h|L.h)},n.xor=function(L){for(var C=Math.max(this.g.length,L.g.length),x=[],k=0;k<C;k++)x[k]=this.i(k)^L.i(k);return new u(x,this.h^L.h)};function Y(L){for(var C=L.g.length+1,x=[],k=0;k<C;k++)x[k]=L.i(k)<<1|L.i(k-1)>>>31;return new u(x,L.h)}function ee(L,C){var x=C>>5;C%=32;for(var k=L.g.length-x,O=[],j=0;j<k;j++)O[j]=0<C?L.i(j+x)>>>C|L.i(j+x+1)<<32-C:L.i(j+x);return new u(O,L.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,O_=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=v,Ai=u}).apply(typeof Ov<"u"?Ov:typeof self<"u"?self:typeof window<"u"?window:{});var tc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var M_,rl,V_,dc,xf,F_,j_,U_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof tc=="object"&&tc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=t(this);function s(c,g){if(g)e:{var _=r;c=c.split(".");for(var I=0;I<c.length-1;I++){var W=c[I];if(!(W in _))break e;_=_[W]}c=c[c.length-1],I=_[c],g=g(I),g!=I&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var _=0,I=!1,W={next:function(){if(!I&&_<c.length){var Q=_++;return{value:g(Q,c[Q]),done:!1}}return I=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}s("Array.prototype.values",function(c){return c||function(){return a(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function p(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,_){return c.call.apply(c.bind,arguments)}function w(c,g,_){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,I),c.apply(g,W)}}return function(){return c.apply(g,arguments)}}function E(c,g,_){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,E.apply(null,arguments)}function P(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var I=_.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function S(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(I,W,Q){for(var oe=Array(arguments.length-2),He=2;He<arguments.length;He++)oe[He-2]=arguments[He];return g.prototype[W].apply(I,oe)}}function R(c){const g=c.length;if(0<g){const _=Array(g);for(let I=0;I<g;I++)_[I]=c[I];return _}return[]}function N(c,g){for(let _=1;_<arguments.length;_++){const I=arguments[_];if(f(I)){const W=c.length||0,Q=I.length||0;c.length=W+Q;for(let oe=0;oe<Q;oe++)c[W+oe]=I[oe]}else c.push(I)}}class D{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function A(c){return/^[\s\xa0]*$/.test(c)}function F(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function H(c){return H[" "](c),c}H[" "]=function(){};var Y=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function ee(c,g,_){for(const I in c)g.call(_,c[I],I,c)}function L(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function C(c){const g={};for(const _ in c)g[_]=c[_];return g}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(c,g){let _,I;for(let W=1;W<arguments.length;W++){I=arguments[W];for(_ in I)c[_]=I[_];for(let Q=0;Q<x.length;Q++)_=x[Q],Object.prototype.hasOwnProperty.call(I,_)&&(c[_]=I[_])}}function O(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function j(c){h.setTimeout(()=>{throw c},0)}function b(){var c=le;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Ee{constructor(){this.h=this.g=null}add(g,_){const I=Pe.get();I.set(g,_),this.h?this.h.next=I:this.g=I,this.h=I}}var Pe=new D(()=>new me,c=>c.reset());class me{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ie,ie=!1,le=new Ee,ae=()=>{const c=h.Promise.resolve(void 0);Ie=()=>{c.then($)}};var $=()=>{for(var c;c=b();){try{c.h.call(c.g)}catch(_){j(_)}var g=Pe;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}ie=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ve(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ve.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};h.addEventListener("test",_,g),h.removeEventListener("test",_,g)}catch{}return c}();function be(c,g){if(ve.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(Y){e:{try{H(g.nodeName);var W=!0;break e}catch{}W=!1}W||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Me[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&be.aa.h.call(this)}}S(be,ve);var Me={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ze="closure_listenable_"+(1e6*Math.random()|0),Be=0;function qe(c,g,_,I,W){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!I,this.ha=W,this.key=++Be,this.da=this.fa=!1}function Et(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function pr(c){this.src=c,this.g={},this.h=0}pr.prototype.add=function(c,g,_,I,W){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var oe=Kr(c,g,I,W);return-1<oe?(g=c[oe],_||(g.fa=!1)):(g=new qe(g,this.src,Q,!!I,W),g.fa=_,c.push(g)),g};function bs(c,g){var _=g.type;if(_ in c.g){var I=c.g[_],W=Array.prototype.indexOf.call(I,g,void 0),Q;(Q=0<=W)&&Array.prototype.splice.call(I,W,1),Q&&(Et(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Kr(c,g,_,I){for(var W=0;W<c.length;++W){var Q=c[W];if(!Q.da&&Q.listener==g&&Q.capture==!!_&&Q.ha==I)return W}return-1}var $i="closure_lm_"+(1e6*Math.random()|0),Ns={};function na(c,g,_,I,W){if(Array.isArray(g)){for(var Q=0;Q<g.length;Q++)na(c,g[Q],_,I,W);return null}return _=sa(_),c&&c[ze]?c.K(g,_,p(I)?!!I.capture:!1,W):ra(c,g,_,!1,I,W)}function ra(c,g,_,I,W,Q){if(!g)throw Error("Invalid event type");var oe=p(W)?!!W.capture:!!W,He=Ls(c);if(He||(c[$i]=He=new pr(c)),_=He.add(g,_,I,oe,Q),_.proxy)return _;if(I=Fl(),_.proxy=I,I.src=c,I.listener=_,c.addEventListener)Re||(W=oe),W===void 0&&(W=!1),c.addEventListener(g.toString(),I,W);else if(c.attachEvent)c.attachEvent(gr(g.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Fl(){function c(_){return g.call(c.src,c.listener,_)}const g=ia;return c}function Ds(c,g,_,I,W){if(Array.isArray(g))for(var Q=0;Q<g.length;Q++)Ds(c,g[Q],_,I,W);else I=p(I)?!!I.capture:!!I,_=sa(_),c&&c[ze]?(c=c.i,g=String(g).toString(),g in c.g&&(Q=c.g[g],_=Kr(Q,_,I,W),-1<_&&(Et(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete c.g[g],c.h--)))):c&&(c=Ls(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Kr(g,_,I,W)),(_=-1<c?g[c]:null)&&mr(_))}function mr(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[ze])bs(g.i,c);else{var _=c.type,I=c.proxy;g.removeEventListener?g.removeEventListener(_,I,c.capture):g.detachEvent?g.detachEvent(gr(_),I):g.addListener&&g.removeListener&&g.removeListener(I),(_=Ls(g))?(bs(_,c),_.h==0&&(_.src=null,g[$i]=null)):Et(c)}}}function gr(c){return c in Ns?Ns[c]:Ns[c]="on"+c}function ia(c,g){if(c.da)c=!0;else{g=new be(g,this);var _=c.listener,I=c.ha||c.src;c.fa&&mr(c),c=_.call(I,g)}return c}function Ls(c){return c=c[$i],c instanceof pr?c:null}var Os="__closure_events_fn_"+(1e9*Math.random()>>>0);function sa(c){return typeof c=="function"?c:(c[Os]||(c[Os]=function(g){return c.handleEvent(g)}),c[Os])}function ht(){J.call(this),this.i=new pr(this),this.M=this,this.F=null}S(ht,J),ht.prototype[ze]=!0,ht.prototype.removeEventListener=function(c,g,_,I){Ds(this,c,g,_,I)};function ft(c,g){var _,I=c.F;if(I)for(_=[];I;I=I.F)_.push(I);if(c=c.M,I=g.type||g,typeof g=="string")g=new ve(g,c);else if(g instanceof ve)g.target=g.target||c;else{var W=g;g=new ve(I,c),k(g,W)}if(W=!0,_)for(var Q=_.length-1;0<=Q;Q--){var oe=g.g=_[Q];W=vr(oe,I,!0,g)&&W}if(oe=g.g=c,W=vr(oe,I,!0,g)&&W,W=vr(oe,I,!1,g)&&W,_)for(Q=0;Q<_.length;Q++)oe=g.g=_[Q],W=vr(oe,I,!1,g)&&W}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],I=0;I<_.length;I++)Et(_[I]);delete c.g[g],c.h--}}this.F=null},ht.prototype.K=function(c,g,_,I){return this.i.add(String(c),g,!1,_,I)},ht.prototype.L=function(c,g,_,I){return this.i.add(String(c),g,!0,_,I)};function vr(c,g,_,I){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var W=!0,Q=0;Q<g.length;++Q){var oe=g[Q];if(oe&&!oe.da&&oe.capture==_){var He=oe.listener,pt=oe.ha||oe.src;oe.fa&&bs(c.i,oe),W=He.call(pt,I)!==!1&&W}}return W&&!I.defaultPrevented}function oa(c,g,_){if(typeof c=="function")_&&(c=E(c,_));else if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:h.setTimeout(c,g||0)}function Qr(c){c.g=oa(()=>{c.g=null,c.i&&(c.i=!1,Qr(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Hi extends J{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Qr(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wi(c){J.call(this),this.h=c,this.g={}}S(Wi,J);var aa=[];function la(c){ee(c.g,function(g,_){this.g.hasOwnProperty(_)&&mr(g)},c),c.g={}}Wi.prototype.N=function(){Wi.aa.N.call(this),la(this)},Wi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ua=h.JSON.stringify,ca=h.JSON.parse,da=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function qi(){}qi.prototype.h=null;function Ms(c){return c.h||(c.h=c.i())}function Vs(){}var gn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kn(){ve.call(this,"d")}S(Kn,ve);function Fs(){ve.call(this,"c")}S(Fs,ve);var Qn={},ha=null;function Gi(){return ha=ha||new ht}Qn.La="serverreachability";function fa(c){ve.call(this,Qn.La,c)}S(fa,ve);function yr(c){const g=Gi();ft(g,new fa(g))}Qn.STAT_EVENT="statevent";function pa(c,g){ve.call(this,Qn.STAT_EVENT,c),this.stat=g}S(pa,ve);function st(c){const g=Gi();ft(g,new pa(g,c))}Qn.Ma="timingevent";function js(c,g){ve.call(this,Qn.Ma,c),this.size=g}S(js,ve);function Pn(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},g)}function Ki(){this.g=!0}Ki.prototype.xa=function(){this.g=!1};function Qi(c,g,_,I,W,Q){c.info(function(){if(c.g)if(Q)for(var oe="",He=Q.split("&"),pt=0;pt<He.length;pt++){var Ve=He[pt].split("=");if(1<Ve.length){var Tt=Ve[0];Ve=Ve[1];var lt=Tt.split("_");oe=2<=lt.length&&lt[1]=="type"?oe+(Tt+"="+Ve+"&"):oe+(Tt+"=redacted&")}}else oe=null;else oe=Q;return"XMLHTTP REQ ("+I+") [attempt "+W+"]: "+g+`
`+_+`
`+oe})}function Us(c,g,_,I,W,Q,oe){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+W+"]: "+g+`
`+_+`
`+Q+" "+oe})}function An(c,g,_,I){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+yd(c,_)+(I?" "+I:"")})}function ma(c,g){c.info(function(){return"TIMEOUT: "+g})}Ki.prototype.info=function(){};function yd(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var I=_[c];if(!(2>I.length)){var W=I[1];if(Array.isArray(W)&&!(1>W.length)){var Q=W[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var oe=1;oe<W.length;oe++)W[oe]=""}}}}return ua(_)}catch{return g}}var zs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Rn;function Yi(){}S(Yi,qi),Yi.prototype.g=function(){return new XMLHttpRequest},Yi.prototype.i=function(){return{}},Rn=new Yi;function kn(c,g,_,I){this.j=c,this.i=g,this.l=_,this.R=I||1,this.U=new Wi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ul}function Ul(){this.i=null,this.g="",this.h=!1}var ga={},Bs={};function $s(c,g,_){c.L=1,c.v=ei(an(g)),c.m=_,c.P=!0,va(c,null)}function va(c,g){c.F=Date.now(),Ge(c),c.A=an(c.v);var _=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),ni(_.i,"t",I),c.C=0,_=c.j.J,c.h=new Ul,c.g=iu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new Hi(E(c.Y,c,c.g),c.O)),g=c.U,_=c.g,I=c.ca;var W="readystatechange";Array.isArray(W)||(W&&(aa[0]=W.toString()),W=aa);for(var Q=0;Q<W.length;Q++){var oe=na(_,W[Q],I||g.handleEvent,!1,g.h||g);if(!oe)break;g.g[oe.key]=oe}g=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),yr(),Qi(c.i,c.u,c.A,c.l,c.R,c.m)}kn.prototype.ca=function(c){c=c.target;const g=this.M;g&&Yt(c)==3?g.j():this.Y(c)},kn.prototype.Y=function(c){try{if(c==this.g)e:{const lt=Yt(this.g);var g=this.g.Ba();const _n=this.g.Z();if(!(3>lt)&&(lt!=3||this.g&&(this.h.h||this.g.oa()||Sa(this.g)))){this.J||lt!=4||g==7||(g==8||0>=_n?yr(3):yr(2)),Xi(this);var _=this.g.Z();this.X=_;t:if(zl(this)){var I=Sa(this.g);c="";var W=I.length,Q=Yt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vn(this),Yr(this);var oe="";break t}this.h.i=new h.TextDecoder}for(g=0;g<W;g++)this.h.h=!0,c+=this.h.i.decode(I[g],{stream:!(Q&&g==W-1)});I.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=_==200,Us(this.i,this.u,this.A,this.l,this.R,lt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var He,pt=this.g;if((He=pt.g?pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(He)){var Ve=He;break t}}Ve=null}if(_=Ve)An(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ya(this,_);else{this.o=!1,this.s=3,st(12),vn(this),Yr(this);break e}}if(this.P){_=!0;let un;for(;!this.J&&this.C<oe.length;)if(un=_d(this,oe),un==Bs){lt==4&&(this.s=4,st(14),_=!1),An(this.i,this.l,null,"[Incomplete Response]");break}else if(un==ga){this.s=4,st(15),An(this.i,this.l,oe,"[Invalid Chunk]"),_=!1;break}else An(this.i,this.l,un,null),ya(this,un);if(zl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),lt!=4||oe.length!=0||this.h.h||(this.s=1,st(16),_=!1),this.o=this.o&&_,!_)An(this.i,this.l,oe,"[Invalid Chunked Response]"),vn(this),Yr(this);else if(0<oe.length&&!this.W){this.W=!0;var Tt=this.j;Tt.g==this&&Tt.ba&&!Tt.M&&(Tt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),xa(Tt),Tt.M=!0,st(11))}}else An(this.i,this.l,oe,null),ya(this,oe);lt==4&&vn(this),this.o&&!this.J&&(lt==4?eo(this.j,this):(this.o=!1,Ge(this)))}else Qs(this.g),_==400&&0<oe.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),vn(this),Yr(this)}}}catch{}finally{}};function zl(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function _d(c,g){var _=c.C,I=g.indexOf(`
`,_);return I==-1?Bs:(_=Number(g.substring(_,I)),isNaN(_)?ga:(I+=1,I+_>g.length?Bs:(g=g.slice(I,I+_),c.C=I+_,g)))}kn.prototype.cancel=function(){this.J=!0,vn(this)};function Ge(c){c.S=Date.now()+c.I,Bl(c,c.I)}function Bl(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Pn(E(c.ba,c),g)}function Xi(c){c.B&&(h.clearTimeout(c.B),c.B=null)}kn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ma(this.i,this.A),this.L!=2&&(yr(),st(17)),vn(this),this.s=2,Yr(this)):Bl(this,this.S-c)};function Yr(c){c.j.G==0||c.J||eo(c.j,c)}function vn(c){Xi(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,la(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function ya(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||$t(_.h,c))){if(!c.K&&$t(_.h,c)&&_.G==3){try{var I=_.Da.g.parse(g)}catch{I=null}if(Array.isArray(I)&&I.length==3){var W=I;if(W[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Zs(_),On(_);else break e;Js(_),st(18)}}else _.za=W[1],0<_.za-_.T&&37500>W[2]&&_.F&&_.v==0&&!_.C&&(_.C=Pn(E(_.Za,_),6e3));if(1>=Hl(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Sr(_,11)}else if((c.K||_.g==c)&&Zs(_),!A(g))for(W=_.Da.g.parse(g),g=0;g<W.length;g++){let Ve=W[g];if(_.T=Ve[0],Ve=Ve[1],_.G==2)if(Ve[0]=="c"){_.K=Ve[1],_.ia=Ve[2];const Tt=Ve[3];Tt!=null&&(_.la=Tt,_.j.info("VER="+_.la));const lt=Ve[4];lt!=null&&(_.Aa=lt,_.j.info("SVER="+_.Aa));const _n=Ve[5];_n!=null&&typeof _n=="number"&&0<_n&&(I=1.5*_n,_.L=I,_.j.info("backChannelRequestTimeoutMs_="+I)),I=_;const un=c.g;if(un){const is=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(is){var Q=I.h;Q.g||is.indexOf("spdy")==-1&&is.indexOf("quic")==-1&&is.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(_a(Q,Q.h),Q.h=null))}if(I.D){const no=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;no&&(I.ya=no,We(I.I,I.D,no))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),I=_;var oe=c;if(I.qa=ru(I,I.J?I.ia:null,I.W),oe.K){Wl(I.h,oe);var He=oe,pt=I.L;pt&&(He.I=pt),He.B&&(Xi(He),Ge(He)),I.g=oe}else rs(I);0<_.i.length&&Zn(_)}else Ve[0]!="stop"&&Ve[0]!="close"||Sr(_,7);else _.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?Sr(_,7):Rt(_):Ve[0]!="noop"&&_.l&&_.l.ta(Ve),_.v=0)}}yr(4)}catch{}}var $l=class{constructor(c,g){this.g=c,this.map=g}};function Ji(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function on(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Hl(c){return c.h?1:c.g?c.g.size:0}function $t(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function _a(c,g){c.g?c.g.add(g):c.h=g}function Wl(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Ji.prototype.cancel=function(){if(this.i=ql(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ql(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return R(c.i)}function Hs(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],_=c.length,I=0;I<_;I++)g.push(c[I]);return g}g=[],_=0;for(I in c)g[_++]=c[I];return g}function Ws(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const I in c)g[_++]=I;return g}}}function Xr(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=Ws(c),I=Hs(c),W=I.length,Q=0;Q<W;Q++)g.call(void 0,I[Q],_&&_[Q],c)}var Zi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wd(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var I=c[_].indexOf("="),W=null;if(0<=I){var Q=c[_].substring(0,I);W=c[_].substring(I+1)}else Q=c[_];g(Q,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function _r(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof _r){this.h=c.h,es(this,c.j),this.o=c.o,this.g=c.g,Jr(this,c.s),this.l=c.l;var g=c.i,_=new Yn;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Zr(this,_),this.m=c.m}else c&&(g=String(c).match(Zi))?(this.h=!1,es(this,g[1]||"",!0),this.o=Oe(g[2]||""),this.g=Oe(g[3]||"",!0),Jr(this,g[4]),this.l=Oe(g[5]||"",!0),Zr(this,g[6]||"",!0),this.m=Oe(g[7]||"")):(this.h=!1,this.i=new Yn(null,this.h))}_r.prototype.toString=function(){var c=[],g=this.j;g&&c.push(ti(g,qs,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(ti(g,qs,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(ti(_,_.charAt(0)=="/"?Ql:Kl,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",ti(_,wa)),c.join("")};function an(c){return new _r(c)}function es(c,g,_){c.j=_?Oe(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Jr(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Zr(c,g,_){g instanceof Yn?(c.i=g,Xn(c.i,c.h)):(_||(g=ti(g,Yl)),c.i=new Yn(g,c.h))}function We(c,g,_){c.i.set(g,_)}function ei(c){return We(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Oe(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ti(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,Gl),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Gl(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var qs=/[#\/\?@]/g,Kl=/[#\?:]/g,Ql=/[#\?]/g,Yl=/[#\?@]/g,wa=/#/g;function Yn(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function At(c){c.g||(c.g=new Map,c.h=0,c.i&&wd(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=Yn.prototype,n.add=function(c,g){At(this),this.i=null,c=yn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function bn(c,g){At(c),g=yn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Nn(c,g){return At(c),g=yn(c,g),c.g.has(g)}n.forEach=function(c,g){At(this),this.g.forEach(function(_,I){_.forEach(function(W){c.call(g,W,I,this)},this)},this)},n.na=function(){At(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let I=0;I<g.length;I++){const W=c[I];for(let Q=0;Q<W.length;Q++)_.push(g[I])}return _},n.V=function(c){At(this);let g=[];if(typeof c=="string")Nn(this,c)&&(g=g.concat(this.g.get(yn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},n.set=function(c,g){return At(this),this.i=null,c=yn(this,c),Nn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function ni(c,g,_){bn(c,g),0<_.length&&(c.i=null,c.g.set(yn(c,g),R(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var I=g[_];const Q=encodeURIComponent(String(I)),oe=this.V(I);for(I=0;I<oe.length;I++){var W=Q;oe[I]!==""&&(W+="="+encodeURIComponent(String(oe[I]))),c.push(W)}}return this.i=c.join("&")};function yn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Xn(c,g){g&&!c.j&&(At(c),c.i=null,c.g.forEach(function(_,I){var W=I.toLowerCase();I!=W&&(bn(this,I),ni(this,W,_))},c)),c.j=g}function Ed(c,g){const _=new Ki;if(h.Image){const I=new Image;I.onload=P(Qt,_,"TestLoadImage: loaded",!0,g,I),I.onerror=P(Qt,_,"TestLoadImage: error",!1,g,I),I.onabort=P(Qt,_,"TestLoadImage: abort",!1,g,I),I.ontimeout=P(Qt,_,"TestLoadImage: timeout",!1,g,I),h.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else g(!1)}function Xl(c,g){const _=new Ki,I=new AbortController,W=setTimeout(()=>{I.abort(),Qt(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:I.signal}).then(Q=>{clearTimeout(W),Q.ok?Qt(_,"TestPingServer: ok",!0,g):Qt(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(W),Qt(_,"TestPingServer: error",!1,g)})}function Qt(c,g,_,I,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),I(_)}catch{}}function Td(){this.g=new da}function Jl(c,g,_){const I=_||"";try{Xr(c,function(W,Q){let oe=W;p(W)&&(oe=ua(W)),g.push(I+Q+"="+encodeURIComponent(oe))})}catch(W){throw g.push(I+"type="+encodeURIComponent("_badmap")),W}}function wr(c){this.l=c.Ub||null,this.j=c.eb||!1}S(wr,qi),wr.prototype.g=function(){return new ts(this.l,this.j)},wr.prototype.i=function(c){return function(){return c}}({});function ts(c,g){ht.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(ts,ht),n=ts.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Ln(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||h).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Dn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ln(this)),this.g&&(this.readyState=3,Ln(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Dn(this):Ln(this),this.readyState==3&&Zl(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Dn(this))},n.Qa=function(c){this.g&&(this.response=c,Dn(this))},n.ga=function(){this.g&&Dn(this)};function Dn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ln(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function Ln(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ts.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Er(c){let g="";return ee(c,function(_,I){g+=I,g+=":",g+=_,g+=`\r
`}),g}function ri(c,g,_){e:{for(I in _){var I=!1;break e}I=!0}I||(_=Er(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):We(c,g,_))}function Je(c){ht.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Je,ht);var Sd=/^https?$/i,Ea=["POST","PUT"];n=Je.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,_,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rn.g(),this.v=this.o?Ms(this.o):Ms(Rn),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Q){ns(this,Q);return}if(c=_||"",_=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var W in I)_.set(W,I[W]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const Q of I.keys())_.set(Q,I.get(Q));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),W=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Ea,g,void 0))||I||W||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,oe]of _)this.g.setRequestHeader(Q,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ks(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){ns(this,Q)}};function ns(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Gs(c),ln(c)}function Gs(c){c.A||(c.A=!0,ft(c,"complete"),ft(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ft(this,"complete"),ft(this,"abort"),ln(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ln(this,!0)),Je.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ta(this):this.bb())},n.bb=function(){Ta(this)};function Ta(c){if(c.h&&typeof u<"u"&&(!c.v[1]||Yt(c)!=4||c.Z()!=2)){if(c.u&&Yt(c)==4)oa(c.Ea,0,c);else if(ft(c,"readystatechange"),Yt(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var I;if(I=oe===0){var W=String(c.D).match(Zi)[1]||null;!W&&h.self&&h.self.location&&(W=h.self.location.protocol.slice(0,-1)),I=!Sd.test(W?W.toLowerCase():"")}_=I}if(_)ft(c,"complete"),ft(c,"success");else{c.m=6;try{var Q=2<Yt(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",Gs(c)}}finally{ln(c)}}}}function ln(c,g){if(c.g){Ks(c);const _=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||ft(c,"ready");try{_.onreadystatechange=I}catch{}}}function Ks(c){c.I&&(h.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Yt(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Yt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),ca(g)}};function Sa(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Qs(c){const g={};c=(c.g&&2<=Yt(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(A(c[I]))continue;var _=O(c[I]);const W=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=g[W]||[];g[W]=Q,Q.push(_)}L(g,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Jn(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function Ia(c){this.Aa=0,this.i=[],this.j=new Ki,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Jn("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Jn("baseRetryDelayMs",5e3,c),this.cb=Jn("retryDelaySeedMs",1e4,c),this.Wa=Jn("forwardChannelMaxRetries",2,c),this.wa=Jn("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ji(c&&c.concurrentRequestLimit),this.Da=new Td,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ia.prototype,n.la=8,n.G=1,n.connect=function(c,g,_,I){st(0),this.W=c,this.H=g||{},_&&I!==void 0&&(this.H.OSID=_,this.H.OAID=I),this.F=this.X,this.I=ru(this,null,this.W),Zn(this)};function Rt(c){if(Ys(c),c.G==3){var g=c.U++,_=an(c.I);if(We(_,"SID",c.K),We(_,"RID",g),We(_,"TYPE","terminate"),Tr(c,_),g=new kn(c,c.j,g),g.L=2,g.v=ei(an(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&h.Image&&(new Image().src=g.v,_=!0),_||(g.g=iu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Ge(g)}nu(c)}function On(c){c.g&&(xa(c),c.g.cancel(),c.g=null)}function Ys(c){On(c),c.u&&(h.clearTimeout(c.u),c.u=null),Zs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function Zn(c){if(!on(c.h)&&!c.s){c.s=!0;var g=c.Ga;Ie||ae(),ie||(Ie(),ie=!0),le.add(g,c),c.B=0}}function Id(c,g){return Hl(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Pn(E(c.Ga,c,g),tu(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const W=new kn(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=C(Q),k(Q,this.S)):Q=this.S),this.m!==null||this.O||(W.H=Q,Q=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var I=this.i[_];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(g+=I,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=ii(this,W,g),_=an(this.I),We(_,"RID",c),We(_,"CVER",22),this.D&&We(_,"X-HTTP-Session-Id",this.D),Tr(this,_),Q&&(this.O?g="headers="+encodeURIComponent(String(Er(Q)))+"&"+g:this.m&&ri(_,this.m,Q)),_a(this.h,W),this.Ua&&We(_,"TYPE","init"),this.P?(We(_,"$req",g),We(_,"SID","null"),W.T=!0,$s(W,_,null)):$s(W,_,g),this.G=2}}else this.G==3&&(c?Xs(this,c):this.i.length==0||on(this.h)||Xs(this))};function Xs(c,g){var _;g?_=g.l:_=c.U++;const I=an(c.I);We(I,"SID",c.K),We(I,"RID",_),We(I,"AID",c.T),Tr(c,I),c.m&&c.o&&ri(I,c.m,c.o),_=new kn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=ii(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),_a(c.h,_),$s(_,I,g)}function Tr(c,g){c.H&&ee(c.H,function(_,I){We(g,I,_)}),c.l&&Xr({},function(_,I){We(g,I,_)})}function ii(c,g,_){_=Math.min(c.i.length,_);var I=c.l?E(c.l.Na,c.l,c):null;e:{var W=c.i;let Q=-1;for(;;){const oe=["count="+_];Q==-1?0<_?(Q=W[0].g,oe.push("ofs="+Q)):Q=0:oe.push("ofs="+Q);let He=!0;for(let pt=0;pt<_;pt++){let Ve=W[pt].g;const Tt=W[pt].map;if(Ve-=Q,0>Ve)Q=Math.max(0,W[pt].g-100),He=!1;else try{Jl(Tt,oe,"req"+Ve+"_")}catch{I&&I(Tt)}}if(He){I=oe.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,I}function rs(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Ie||ae(),ie||(Ie(),ie=!0),le.add(g,c),c.v=0}}function Js(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Pn(E(c.Fa,c),tu(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,eu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Pn(E(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),On(this),eu(this))};function xa(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function eu(c){c.g=new kn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=an(c.qa);We(g,"RID","rpc"),We(g,"SID",c.K),We(g,"AID",c.T),We(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&We(g,"TO",c.ja),We(g,"TYPE","xmlhttp"),Tr(c,g),c.m&&c.o&&ri(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ei(an(g)),_.m=null,_.P=!0,va(_,c)}n.Za=function(){this.C!=null&&(this.C=null,On(this),Js(this),st(19))};function Zs(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function eo(c,g){var _=null;if(c.g==g){Zs(c),xa(c),c.g=null;var I=2}else if($t(c.h,g))_=g.D,Wl(c.h,g),I=1;else return;if(c.G!=0){if(g.o)if(I==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var W=c.B;I=Gi(),ft(I,new js(I,_)),Zn(c)}else rs(c);else if(W=g.s,W==3||W==0&&0<g.X||!(I==1&&Id(c,g)||I==2&&Js(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),W){case 1:Sr(c,5);break;case 4:Sr(c,10);break;case 3:Sr(c,6);break;default:Sr(c,2)}}}function tu(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Sr(c,g){if(c.j.info("Error code "+g),g==2){var _=E(c.fb,c),I=c.Xa;const W=!I;I=new _r(I||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||es(I,"https"),ei(I),W?Ed(I.toString(),_):Xl(I.toString(),_)}else st(2);c.G=0,c.l&&c.l.sa(g),nu(c),Ys(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function nu(c){if(c.G=0,c.ka=[],c.l){const g=ql(c.h);(g.length!=0||c.i.length!=0)&&(N(c.ka,g),N(c.ka,c.i),c.h.i.length=0,R(c.i),c.i.length=0),c.l.ra()}}function ru(c,g,_){var I=_ instanceof _r?an(_):new _r(_);if(I.g!="")g&&(I.g=g+"."+I.g),Jr(I,I.s);else{var W=h.location;I=W.protocol,g=g?g+"."+W.hostname:W.hostname,W=+W.port;var Q=new _r(null);I&&es(Q,I),g&&(Q.g=g),W&&Jr(Q,W),_&&(Q.l=_),I=Q}return _=c.D,g=c.ya,_&&g&&We(I,_,g),We(I,"VER",c.la),Tr(c,I),I}function iu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Je(new wr({eb:_})):new Je(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ca(){}n=Ca.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function to(){}to.prototype.g=function(c,g){return new Ht(c,g)};function Ht(c,g){ht.call(this),this.g=new Ia(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!A(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!A(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new er(this)}S(Ht,ht),Ht.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ht.prototype.close=function(){Rt(this.g)},Ht.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=ua(c),c=_);g.i.push(new $l(g.Ya++,c)),g.G==3&&Zn(g)},Ht.prototype.N=function(){this.g.l=null,delete this.j,Rt(this.g),delete this.g,Ht.aa.N.call(this)};function su(c){Kn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}S(su,Kn);function ou(){Fs.call(this),this.status=1}S(ou,Fs);function er(c){this.g=c}S(er,Ca),er.prototype.ua=function(){ft(this.g,"a")},er.prototype.ta=function(c){ft(this.g,new su(c))},er.prototype.sa=function(c){ft(this.g,new ou)},er.prototype.ra=function(){ft(this.g,"b")},to.prototype.createWebChannel=to.prototype.g,Ht.prototype.send=Ht.prototype.o,Ht.prototype.open=Ht.prototype.m,Ht.prototype.close=Ht.prototype.close,U_=function(){return new to},j_=function(){return Gi()},F_=Qn,xf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zs.NO_ERROR=0,zs.TIMEOUT=8,zs.HTTP_ERROR=6,dc=zs,jl.COMPLETE="complete",V_=jl,Vs.EventType=gn,gn.OPEN="a",gn.CLOSE="b",gn.ERROR="c",gn.MESSAGE="d",ht.prototype.listen=ht.prototype.K,rl=Vs,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,M_=Je}).apply(typeof tc<"u"?tc:typeof self<"u"?self:typeof window<"u"?window:{});const Mv="@firebase/firestore",Vv="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=new ip("@firebase/firestore");function xo(){return Ts.logLevel}function de(n,...e){if(Ts.logLevel<=De.DEBUG){const t=e.map(ap);Ts.debug(`Firestore (${Qo}): ${n}`,...t)}}function zr(n,...e){if(Ts.logLevel<=De.ERROR){const t=e.map(ap);Ts.error(`Firestore (${Qo}): ${n}`,...t)}}function Mo(n,...e){if(Ts.logLevel<=De.WARN){const t=e.map(ap);Ts.warn(`Firestore (${Qo}): ${n}`,...t)}}function ap(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(n="Unexpected state"){const e=`FIRESTORE (${Qo}) INTERNAL ASSERTION FAILED: `+n;throw zr(e),new Error(e)}function $e(n,e){n||Se()}function Ae(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Gr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ut.UNAUTHENTICATED))}shutdown(){}}class Bx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class $x{constructor(e){this.t=e,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){$e(this.o===void 0);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new Vr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Vr,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},h=f=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Vr)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($e(typeof r.accessToken=="string"),new z_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string"),new Ut(e)}}class Hx{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Wx{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Hx(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qx{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,pn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){$e(this.o===void 0);const r=a=>{a.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,de("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Fv(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?($e(typeof t.token=="string"),this.R=t.token,new Fv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=Gx(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%62))}return r}}function ke(n,e){return n<e?-1:n>e?1:0}function Cf(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),s=e.codePointAt(t);if(r!==s){if(r<128&&s<128)return ke(r,s);{const a=B_(),u=Kx(a.encode(jv(n,t)),a.encode(jv(e,t)));return u!==0?u:ke(r,s)}}t+=r>65535?2:1}return ke(n.length,e.length)}function jv(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function Kx(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ke(n[t],e[t]);return ke(n.length,e.length)}function Vo(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv=-62135596800,zv=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*zv);return new yt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ue(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ue(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Uv)throw new ue(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zv}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Uv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new yt(0,0))}static max(){return new Ce(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="__name__";class or{constructor(e,t,r){t===void 0?t=0:t>e.length&&Se(),r===void 0?r=e.length-t:r>e.length-t&&Se(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return or.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof or?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=or.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return ke(e.length,t.length)}static compareSegments(e,t){const r=or.isNumericId(e),s=or.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?or.extractNumericId(e).compare(or.extractNumericId(t)):Cf(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ai.fromString(e.substring(4,e.length-2))}}class Qe extends or{construct(e,t,r){return new Qe(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Qe(t)}static emptyPath(){return new Qe([])}}const Qx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dt extends or{construct(e,t,r){return new Dt(e,t,r)}static isValidIdentifier(e){return Qx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Bv}static keyField(){return new Dt([Bv])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new ue(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new ue(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ue(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(r+=h,s++):(a(),s++)}if(a(),u)throw new ue(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dt(t)}static emptyPath(){return new Dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Qe.fromString(e))}static fromName(e){return new ye(Qe.fromString(e).popFirst(5))}static empty(){return new ye(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Qe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Qe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=-1;function Yx(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Ce.fromTimestamp(r===1e9?new yt(t+1,0):new yt(t,r));return new ki(s,ye.empty(),e)}function Xx(n){return new ki(n.readTime,n.key,pl)}class ki{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ki(Ce.min(),ye.empty(),pl)}static max(){return new ki(Ce.max(),ye.empty(),pl)}}function Jx(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(n.documentKey,e.documentKey),t!==0?t:ke(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(n){if(n.code!==X.FAILED_PRECONDITION||n.message!==Zx)throw n;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.reject(t)}static resolve(e){return new Z((t,r)=>{t(e)})}static reject(e){return new Z((t,r)=>{r(e)})}static waitFor(e){return new Z((t,r)=>{let s=0,a=0,u=!1;e.forEach(h=>{++s,h.next(()=>{++a,u&&a===s&&t()},f=>r(f))}),u=!0,a===s&&t()})}static or(e){let t=Z.resolve(!1);for(const r of e)t=t.next(s=>s?Z.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,a)=>{r.push(t.call(this,s,a))}),this.waitFor(r)}static mapArray(e,t){return new Z((r,s)=>{const a=e.length,u=new Array(a);let h=0;for(let f=0;f<a;f++){const p=f;t(e[p]).next(v=>{u[p]=v,++h,h===a&&r(u)},v=>s(v))}})}static doWhile(e,t){return new Z((r,s)=>{const a=()=>{e()===!0?t().next(()=>{a()},s):r()};a()})}}function tC(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Xo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Jc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp=-1;function Zc(n){return n==null}function xc(n){return n===0&&1/n==-1/0}function nC(n){return typeof n=="number"&&Number.isInteger(n)&&!xc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="";function rC(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=$v(e)),e=iC(n.get(t),e);return $v(e)}function iC(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case H_:t+="";break;default:t+=a}}return t}function $v(n){return n+H_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Vi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function W_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,t){this.comparator=e,this.root=t||Nt.EMPTY}insert(e,t){return new rt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Nt.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nc(this.root,e,this.comparator,!1)}getReverseIterator(){return new nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nc(this.root,e,this.comparator,!0)}}class nc{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nt{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??Nt.RED,this.left=s??Nt.EMPTY,this.right=a??Nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new Nt(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Nt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}Nt.EMPTY=null,Nt.RED=!0,Nt.BLACK=!1;Nt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,t,r,s,a){return this}insert(e,t,r){return new Nt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Wv(this.data.getIterator())}getIteratorFrom(e){return new Wv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof _t)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new _t(this.comparator);return t.data=e,t}}class Wv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(Dt.comparator)}static empty(){return new mn([])}unionWith(e){let t=new _t(Dt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new mn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Vo(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new q_("Invalid base64 string: "+a):a}}(e);return new Lt(t)}static fromUint8Array(e){const t=function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a}(e);return new Lt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lt.EMPTY_BYTE_STRING=new Lt("");const sC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bi(n){if($e(!!n),typeof n=="string"){let e=0;const t=sC.exec(n);if($e(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:at(n.seconds),nanos:at(n.nanos)}}function at(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ni(n){return typeof n=="string"?Lt.fromBase64String(n):Lt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="server_timestamp",K_="__type__",Q_="__previous_value__",Y_="__local_write_time__";function ed(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[K_])===null||t===void 0?void 0:t.stringValue)===G_}function td(n){const e=n.mapValue.fields[Q_];return ed(e)?td(e):e}function ml(n){const e=bi(n.mapValue.fields[Y_].timestampValue);return new yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,t,r,s,a,u,h,f,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p}}const Cc="(default)";class gl{constructor(e,t){this.projectId=e,this.database=t||Cc}static empty(){return new gl("","")}get isDefaultDatabase(){return this.database===Cc}isEqual(e){return e instanceof gl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="__type__",aC="__max__",rc={mapValue:{}},J_="__vector__",Pc="value";function Di(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ed(n)?4:uC(n)?9007199254740991:lC(n)?10:11:Se()}function fr(n,e){if(n===e)return!0;const t=Di(n);if(t!==Di(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ml(n).isEqual(ml(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=bi(s.timestampValue),h=bi(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,a){return Ni(s.bytesValue).isEqual(Ni(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return at(s.geoPointValue.latitude)===at(a.geoPointValue.latitude)&&at(s.geoPointValue.longitude)===at(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return at(s.integerValue)===at(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=at(s.doubleValue),h=at(a.doubleValue);return u===h?xc(u)===xc(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return Vo(n.arrayValue.values||[],e.arrayValue.values||[],fr);case 10:case 11:return function(s,a){const u=s.mapValue.fields||{},h=a.mapValue.fields||{};if(Hv(u)!==Hv(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!fr(u[f],h[f])))return!1;return!0}(n,e);default:return Se()}}function vl(n,e){return(n.values||[]).find(t=>fr(t,e))!==void 0}function Fo(n,e){if(n===e)return 0;const t=Di(n),r=Di(e);if(t!==r)return ke(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(n.booleanValue,e.booleanValue);case 2:return function(a,u){const h=at(a.integerValue||a.doubleValue),f=at(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,e);case 3:return qv(n.timestampValue,e.timestampValue);case 4:return qv(ml(n),ml(e));case 5:return Cf(n.stringValue,e.stringValue);case 6:return function(a,u){const h=Ni(a),f=Ni(u);return h.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const h=a.split("/"),f=u.split("/");for(let p=0;p<h.length&&p<f.length;p++){const v=ke(h[p],f[p]);if(v!==0)return v}return ke(h.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const h=ke(at(a.latitude),at(u.latitude));return h!==0?h:ke(at(a.longitude),at(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Gv(n.arrayValue,e.arrayValue);case 10:return function(a,u){var h,f,p,v;const w=a.fields||{},E=u.fields||{},P=(h=w[Pc])===null||h===void 0?void 0:h.arrayValue,S=(f=E[Pc])===null||f===void 0?void 0:f.arrayValue,R=ke(((p=P==null?void 0:P.values)===null||p===void 0?void 0:p.length)||0,((v=S==null?void 0:S.values)===null||v===void 0?void 0:v.length)||0);return R!==0?R:Gv(P,S)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===rc.mapValue&&u===rc.mapValue)return 0;if(a===rc.mapValue)return 1;if(u===rc.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),p=u.fields||{},v=Object.keys(p);f.sort(),v.sort();for(let w=0;w<f.length&&w<v.length;++w){const E=Cf(f[w],v[w]);if(E!==0)return E;const P=Fo(h[f[w]],p[v[w]]);if(P!==0)return P}return ke(f.length,v.length)}(n.mapValue,e.mapValue);default:throw Se()}}function qv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ke(n,e);const t=bi(n),r=bi(e),s=ke(t.seconds,r.seconds);return s!==0?s:ke(t.nanos,r.nanos)}function Gv(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=Fo(t[s],r[s]);if(a)return a}return ke(t.length,r.length)}function jo(n){return Pf(n)}function Pf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=bi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ni(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ye.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=Pf(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${Pf(t.fields[u])}`;return s+"}"}(n.mapValue):Se()}function hc(n){switch(Di(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=td(n);return e?16+hc(e):16;case 5:return 2*n.stringValue.length;case 6:return Ni(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+hc(a),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return Vi(r.fields,(a,u)=>{s+=a.length+hc(u)}),s}(n.mapValue);default:throw Se()}}function Ac(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Af(n){return!!n&&"integerValue"in n}function up(n){return!!n&&"arrayValue"in n}function Kv(n){return!!n&&"nullValue"in n}function Qv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function fc(n){return!!n&&"mapValue"in n}function lC(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[X_])===null||t===void 0?void 0:t.stringValue)===J_}function al(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Vi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=al(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=al(n.arrayValue.values[t]);return e}return Object.assign({},n)}function uC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===aC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.value=e}static empty(){return new sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!fc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=al(t)}setAll(e){let t=Dt.emptyPath(),r={},s=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=h.popLast()}u?r[h.lastSegment()]=al(u):s.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());fc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return fr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];fc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Vi(t,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new sn(al(this.value))}}function Z_(n){const e=[];return Vi(n.fields,(t,r)=>{const s=new Dt([t]);if(fc(r)){const a=Z_(r.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)}),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,t,r,s,a,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new zt(e,0,Ce.min(),Ce.min(),Ce.min(),sn.empty(),0)}static newFoundDocument(e,t,r,s){return new zt(e,1,t,Ce.min(),r,s,0)}static newNoDocument(e,t){return new zt(e,2,t,Ce.min(),Ce.min(),sn.empty(),0)}static newUnknownDocument(e,t){return new zt(e,3,t,Ce.min(),Ce.min(),sn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,t){this.position=e,this.inclusive=t}}function Yv(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],u=n.position[s];if(a.field.isKeyField()?r=ye.comparator(ye.fromName(u.referenceValue),t.key):r=Fo(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Xv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!fr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,t="asc"){this.field=e,this.dir=t}}function cC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{}class dt extends ew{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new hC(e,t,r):t==="array-contains"?new mC(e,r):t==="in"?new gC(e,r):t==="not-in"?new vC(e,r):t==="array-contains-any"?new yC(e,r):new dt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new fC(e,r):new pC(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Fo(t,this.value)):t!==null&&Di(this.value)===Di(t)&&this.matchesComparison(Fo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends ew{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Wn(e,t)}matches(e){return tw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function tw(n){return n.op==="and"}function nw(n){return dC(n)&&tw(n)}function dC(n){for(const e of n.filters)if(e instanceof Wn)return!1;return!0}function Rf(n){if(n instanceof dt)return n.field.canonicalString()+n.op.toString()+jo(n.value);if(nw(n))return n.filters.map(e=>Rf(e)).join(",");{const e=n.filters.map(t=>Rf(t)).join(",");return`${n.op}(${e})`}}function rw(n,e){return n instanceof dt?function(r,s){return s instanceof dt&&r.op===s.op&&r.field.isEqual(s.field)&&fr(r.value,s.value)}(n,e):n instanceof Wn?function(r,s){return s instanceof Wn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,u,h)=>a&&rw(u,s.filters[h]),!0):!1}(n,e):void Se()}function iw(n){return n instanceof dt?function(t){return`${t.field.canonicalString()} ${t.op} ${jo(t.value)}`}(n):n instanceof Wn?function(t){return t.op.toString()+" {"+t.getFilters().map(iw).join(" ,")+"}"}(n):"Filter"}class hC extends dt{constructor(e,t,r){super(e,t,r),this.key=ye.fromName(r.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class fC extends dt{constructor(e,t){super(e,"in",t),this.keys=sw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class pC extends dt{constructor(e,t){super(e,"not-in",t),this.keys=sw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function sw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ye.fromName(r.referenceValue))}class mC extends dt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return up(t)&&vl(t.arrayValue,this.value)}}class gC extends dt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&vl(this.value.arrayValue,t)}}class vC extends dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!vl(this.value.arrayValue,t)}}class yC extends dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!up(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>vl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e,t=null,r=[],s=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=h,this.le=null}}function Jv(n,e=null,t=[],r=[],s=null,a=null,u=null){return new _C(n,e,t,r,s,a,u)}function cp(n){const e=Ae(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Rf(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Zc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>jo(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>jo(r)).join(",")),e.le=t}return e.le}function dp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!cC(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!rw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Xv(n.startAt,e.startAt)&&Xv(n.endAt,e.endAt)}function kf(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,t=null,r=[],s=[],a=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function wC(n,e,t,r,s,a,u,h){return new Jo(n,e,t,r,s,a,u,h)}function hp(n){return new Jo(n)}function Zv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function fp(n){return n.collectionGroup!==null}function Ro(n){const e=Ae(n);if(e.he===null){e.he=[];const t=new Set;for(const a of e.explicitOrderBy)e.he.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new _t(Dt.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.he.push(new Rc(a,r))}),t.has(Dt.keyField().canonicalString())||e.he.push(new Rc(Dt.keyField(),r))}return e.he}function ur(n){const e=Ae(n);return e.Pe||(e.Pe=EC(e,Ro(n))),e.Pe}function EC(n,e){if(n.limitType==="F")return Jv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new Rc(s.field,a)});const t=n.endAt?new Uo(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Uo(n.startAt.position,n.startAt.inclusive):null;return Jv(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function bf(n,e){const t=n.filters.concat([e]);return new Jo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function kc(n,e,t){return new Jo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function nd(n,e){return dp(ur(n),ur(e))&&n.limitType===e.limitType}function ow(n){return`${cp(ur(n))}|lt:${n.limitType}`}function Co(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>iw(s)).join(", ")}]`),Zc(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>jo(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>jo(s)).join(",")),`Target(${r})`}(ur(n))}; limitType=${n.limitType})`}function rd(n,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ye.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,s){for(const a of Ro(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(u,h,f){const p=Yv(u,h,f);return u.inclusive?p<=0:p<0}(r.startAt,Ro(r),s)||r.endAt&&!function(u,h,f){const p=Yv(u,h,f);return u.inclusive?p>=0:p>0}(r.endAt,Ro(r),s))}(n,e)}function TC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function aw(n){return(e,t)=>{let r=!1;for(const s of Ro(n)){const a=SC(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function SC(n,e,t){const r=n.field.isKeyField()?ye.comparator(e.key,t.key):function(a,u,h){const f=u.data.field(a),p=h.data.field(a);return f!==null&&p!==null?Fo(f,p):Se()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Vi(this.inner,(t,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return W_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=new rt(ye.comparator);function Br(){return IC}const lw=new rt(ye.comparator);function il(...n){let e=lw;for(const t of n)e=e.insert(t.key,t);return e}function uw(n){let e=lw;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ys(){return ll()}function cw(){return ll()}function ll(){return new As(n=>n.toString(),(n,e)=>n.isEqual(e))}const xC=new rt(ye.comparator),CC=new _t(ye.comparator);function Le(...n){let e=CC;for(const t of n)e=e.add(t);return e}const PC=new _t(ke);function AC(){return PC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xc(e)?"-0":e}}function dw(n){return{integerValue:""+n}}function RC(n,e){return nC(e)?dw(e):pp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(){this._=void 0}}function kC(n,e,t){return n instanceof bc?function(s,a){const u={fields:{[K_]:{stringValue:G_},[Y_]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&ed(a)&&(a=td(a)),a&&(u.fields[Q_]=a),{mapValue:u}}(t,e):n instanceof yl?fw(n,e):n instanceof _l?pw(n,e):function(s,a){const u=hw(s,a),h=ey(u)+ey(s.Ie);return Af(u)&&Af(s.Ie)?dw(h):pp(s.serializer,h)}(n,e)}function bC(n,e,t){return n instanceof yl?fw(n,e):n instanceof _l?pw(n,e):t}function hw(n,e){return n instanceof Nc?function(r){return Af(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class bc extends id{}class yl extends id{constructor(e){super(),this.elements=e}}function fw(n,e){const t=mw(e);for(const r of n.elements)t.some(s=>fr(s,r))||t.push(r);return{arrayValue:{values:t}}}class _l extends id{constructor(e){super(),this.elements=e}}function pw(n,e){let t=mw(e);for(const r of n.elements)t=t.filter(s=>!fr(s,r));return{arrayValue:{values:t}}}class Nc extends id{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function ey(n){return at(n.integerValue||n.doubleValue)}function mw(n){return up(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function NC(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof yl&&s instanceof yl||r instanceof _l&&s instanceof _l?Vo(r.elements,s.elements,fr):r instanceof Nc&&s instanceof Nc?fr(r.Ie,s.Ie):r instanceof bc&&s instanceof bc}(n.transform,e.transform)}class DC{constructor(e,t){this.version=e,this.transformResults=t}}class cr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new cr}static exists(e){return new cr(void 0,e)}static updateTime(e){return new cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class sd{}function gw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new yw(n.key,cr.none()):new Pl(n.key,n.data,cr.none());{const t=n.data,r=sn.empty();let s=new _t(Dt.comparator);for(let a of e.fields)if(!s.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new Fi(n.key,r,new mn(s.toArray()),cr.none())}}function LC(n,e,t){n instanceof Pl?function(s,a,u){const h=s.value.clone(),f=ny(s.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Fi?function(s,a,u){if(!pc(s.precondition,a))return void a.convertToUnknownDocument(u.version);const h=ny(s.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(vw(s)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function ul(n,e,t,r){return n instanceof Pl?function(a,u,h,f){if(!pc(a.precondition,u))return h;const p=a.value.clone(),v=ry(a.fieldTransforms,f,u);return p.setAll(v),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof Fi?function(a,u,h,f){if(!pc(a.precondition,u))return h;const p=ry(a.fieldTransforms,f,u),v=u.data;return v.setAll(vw(a)),v.setAll(p),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(n,e,t,r):function(a,u,h){return pc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function OC(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=hw(r.transform,s||null);a!=null&&(t===null&&(t=sn.empty()),t.set(r.field,a))}return t||null}function ty(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Vo(r,s,(a,u)=>NC(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Pl extends sd{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Fi extends sd{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function vw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function ny(n,e,t){const r=new Map;$e(n.length===t.length);for(let s=0;s<t.length;s++){const a=n[s],u=a.transform,h=e.data.field(a.field);r.set(a.field,bC(u,h,t[s]))}return r}function ry(n,e,t){const r=new Map;for(const s of n){const a=s.transform,u=t.data.field(s.field);r.set(s.field,kC(a,u,e))}return r}class yw extends sd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MC extends sd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&LC(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=ul(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=ul(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=cw();return this.mutations.forEach(s=>{const a=e.get(s.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=t.has(s.key)?null:h;const f=gw(u,h);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(Ce.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Le())}isEqual(e){return this.batchId===e.batchId&&Vo(this.mutations,e.mutations,(t,r)=>ty(t,r))&&Vo(this.baseMutations,e.baseMutations,(t,r)=>ty(t,r))}}class mp{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){$e(e.mutations.length===r.length);let s=function(){return xC}();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new mp(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct,Fe;function UC(n){switch(n){case X.OK:return Se();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return Se()}}function _w(n){if(n===void 0)return zr("GRPC error has no .code"),X.UNKNOWN;switch(n){case ct.OK:return X.OK;case ct.CANCELLED:return X.CANCELLED;case ct.UNKNOWN:return X.UNKNOWN;case ct.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case ct.INTERNAL:return X.INTERNAL;case ct.UNAVAILABLE:return X.UNAVAILABLE;case ct.UNAUTHENTICATED:return X.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case ct.NOT_FOUND:return X.NOT_FOUND;case ct.ALREADY_EXISTS:return X.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return X.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case ct.ABORTED:return X.ABORTED;case ct.OUT_OF_RANGE:return X.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return X.UNIMPLEMENTED;case ct.DATA_LOSS:return X.DATA_LOSS;default:return Se()}}(Fe=ct||(ct={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=new Ai([4294967295,4294967295],0);function iy(n){const e=B_().encode(n),t=new O_;return t.update(e),new Uint8Array(t.digest())}function sy(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ai([t,r],0),new Ai([s,a],0)]}class gp{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new sl(`Invalid padding: ${t}`);if(r<0)throw new sl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new sl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new sl(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Ai.fromNumber(this.Ee)}Ae(e,t,r){let s=e.add(t.multiply(Ai.fromNumber(r)));return s.compare(zC)===1&&(s=new Ai([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=iy(e),[r,s]=sy(t);for(let a=0;a<this.hashCount;a++){const u=this.Ae(r,s,a);if(!this.Re(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new gp(a,s,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.Ee===0)return;const t=iy(e),[r,s]=sy(t);for(let a=0;a<this.hashCount;a++){const u=this.Ae(r,s,a);this.Ve(u)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Al.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new od(Ce.min(),s,new rt(ke),Br(),Le())}}class Al{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Al(r,t,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,t,r,s){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=s}}class ww{constructor(e,t){this.targetId=e,this.ge=t}}class Ew{constructor(e,t,r=Lt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class oy{constructor(){this.pe=0,this.ye=ay(),this.we=Lt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Le(),t=Le(),r=Le();return this.ye.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Se()}}),new Al(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=ay()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,$e(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class BC{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Br(),this.$e=ic(),this.Ue=ic(),this.Ke=new rt(ke)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Se()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,s)=>{this.Je(s)&&t(s)})}Ze(e){const t=e.targetId,r=e.ge.count,s=this.Xe(t);if(s){const a=s.target;if(kf(a))if(r===0){const u=new ye(a.path);this.ze(t,u,zt.newNoDocument(u,Ce.min()))}else $e(r===1);else{const u=this.et(t);if(u!==r){const h=this.tt(e),f=h?this.nt(h,e,u):1;if(f!==0){this.Ye(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,p)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let u,h;try{u=Ni(r).toUint8Array()}catch(f){if(f instanceof q_)return Mo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new gp(u,s,a)}catch(f){return Mo(f instanceof sl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.Ee===0?null:h}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let s=0;return r.forEach(a=>{const u=this.ke.it(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.ze(t,a,null),s++)}),s}ot(e){const t=new Map;this.qe.forEach((a,u)=>{const h=this.Xe(u);if(h){if(a.current&&kf(h.target)){const f=new ye(h.target.path);this._t(f).has(u)||this.ut(u,f)||this.ze(u,f,zt.newNoDocument(f,e))}a.ve&&(t.set(u,a.Fe()),a.Me())}});let r=Le();this.Ue.forEach((a,u)=>{let h=!0;u.forEachWhile(f=>{const p=this.Xe(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(a))}),this.Qe.forEach((a,u)=>u.setReadTime(e));const s=new od(e,t,this.Ke,this.Qe,r);return this.Qe=Br(),this.$e=ic(),this.Ue=ic(),this.Ke=new rt(ke),s}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,t)?s.xe(t,1):s.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new oy,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new _t(ke),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new _t(ke),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new oy),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function ic(){return new rt(ye.comparator)}function ay(){return new rt(ye.comparator)}const $C={asc:"ASCENDING",desc:"DESCENDING"},HC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WC={and:"AND",or:"OR"};class qC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Nf(n,e){return n.useProto3Json||Zc(e)?e:{value:e}}function Dc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Tw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function GC(n,e){return Dc(n,e.toTimestamp())}function dr(n){return $e(!!n),Ce.fromTimestamp(function(t){const r=bi(t);return new yt(r.seconds,r.nanos)}(n))}function vp(n,e){return Df(n,e).canonicalString()}function Df(n,e){const t=function(s){return new Qe(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Sw(n){const e=Qe.fromString(n);return $e(Aw(e)),e}function Lf(n,e){return vp(n.databaseId,e.path)}function nf(n,e){const t=Sw(e);if(t.get(1)!==n.databaseId.projectId)throw new ue(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ue(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(xw(t))}function Iw(n,e){return vp(n.databaseId,e)}function KC(n){const e=Sw(n);return e.length===4?Qe.emptyPath():xw(e)}function Of(n){return new Qe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function xw(n){return $e(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function ly(n,e,t){return{name:Lf(n,e),fields:t.value.mapValue.fields}}function QC(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,v){return p.useProto3Json?($e(v===void 0||typeof v=="string"),Lt.fromBase64String(v||"")):($e(v===void 0||v instanceof Buffer||v instanceof Uint8Array),Lt.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(p){const v=p.code===void 0?X.UNKNOWN:_w(p.code);return new ue(v,p.message||"")}(u);t=new Ew(r,s,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=nf(n,r.document.name),a=dr(r.document.updateTime),u=r.document.createTime?dr(r.document.createTime):Ce.min(),h=new sn({mapValue:{fields:r.document.fields}}),f=zt.newFoundDocument(s,a,u,h),p=r.targetIds||[],v=r.removedTargetIds||[];t=new mc(p,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=nf(n,r.document),a=r.readTime?dr(r.readTime):Ce.min(),u=zt.newNoDocument(s,a),h=r.removedTargetIds||[];t=new mc([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=nf(n,r.document),a=r.removedTargetIds||[];t=new mc([],a,s,null)}else{if(!("filter"in e))return Se();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,u=new jC(s,a),h=r.targetId;t=new ww(h,u)}}return t}function YC(n,e){let t;if(e instanceof Pl)t={update:ly(n,e.key,e.value)};else if(e instanceof yw)t={delete:Lf(n,e.key)};else if(e instanceof Fi)t={update:ly(n,e.key,e.data),updateMask:sP(e.fieldMask)};else{if(!(e instanceof MC))return Se();t={verify:Lf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const h=u.transform;if(h instanceof bc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof yl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof _l)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Nc)return{fieldPath:u.field.canonicalString(),increment:h.Ie};throw Se()}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:GC(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Se()}(n,e.precondition)),t}function XC(n,e){return n&&n.length>0?($e(e!==void 0),n.map(t=>function(s,a){let u=s.updateTime?dr(s.updateTime):dr(a);return u.isEqual(Ce.min())&&(u=dr(a)),new DC(u,s.transformResults||[])}(t,e))):[]}function JC(n,e){return{documents:[Iw(n,e.path)]}}function ZC(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Iw(n,s);const a=function(p){if(p.length!==0)return Pw(Wn.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(p){if(p.length!==0)return p.map(v=>function(E){return{field:Po(E.field),direction:nP(E.dir)}}(v))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=Nf(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:t,parent:s}}function eP(n){let e=KC(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){$e(r===1);const v=t.from[0];v.allDescendants?s=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=function(w){const E=Cw(w);return E instanceof Wn&&nw(E)?E.getFilters():[E]}(t.where));let u=[];t.orderBy&&(u=function(w){return w.map(E=>function(S){return new Rc(Ao(S.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(E))}(t.orderBy));let h=null;t.limit&&(h=function(w){let E;return E=typeof w=="object"?w.value:w,Zc(E)?null:E}(t.limit));let f=null;t.startAt&&(f=function(w){const E=!!w.before,P=w.values||[];return new Uo(P,E)}(t.startAt));let p=null;return t.endAt&&(p=function(w){const E=!w.before,P=w.values||[];return new Uo(P,E)}(t.endAt)),wC(e,s,u,a,h,"F",f,p)}function tP(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Cw(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ao(t.unaryFilter.field);return dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ao(t.unaryFilter.field);return dt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ao(t.unaryFilter.field);return dt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ao(t.unaryFilter.field);return dt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(n):n.fieldFilter!==void 0?function(t){return dt.create(Ao(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Wn.create(t.compositeFilter.filters.map(r=>Cw(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Se()}}(t.compositeFilter.op))}(n):Se()}function nP(n){return $C[n]}function rP(n){return HC[n]}function iP(n){return WC[n]}function Po(n){return{fieldPath:n.canonicalString()}}function Ao(n){return Dt.fromServerFormat(n.fieldPath)}function Pw(n){return n instanceof dt?function(t){if(t.op==="=="){if(Qv(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NAN"}};if(Kv(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Qv(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NOT_NAN"}};if(Kv(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Po(t.field),op:rP(t.op),value:t.value}}}(n):n instanceof Wn?function(t){const r=t.getFilters().map(s=>Pw(s));return r.length===1?r[0]:{compositeFilter:{op:iP(t.op),filters:r}}}(n):Se()}function sP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Aw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,t,r,s,a=Ce.min(),u=Ce.min(),h=Lt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Si(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e){this.Tt=e}}function aP(n){const e=eP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?kc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(){this.Tn=new uP}addToCollectionParentIndex(e,t){return this.Tn.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(ki.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(ki.min())}updateCollectionGroup(e,t,r){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class uP{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new _t(Qe.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new _t(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Rw=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(Rw,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new zo(0)}static Kn(){return new zo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy="LruGarbageCollector",cP=1048576;function dy([n,e],[t,r]){const s=ke(n,t);return s===0?ke(e,r):s}class dP{constructor(e){this.Hn=e,this.buffer=new _t(dy),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();dy(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class hP{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){de(cy,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Xo(t)?de(cy,"Ignoring IndexedDB error during garbage collection: ",t):await Yo(t)}await this.er(3e5)})}}class fP{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return Z.resolve(Jc.ae);const r=new dP(t);return this.tr.forEachTarget(e,s=>r.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>r.Zn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(uy)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uy):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,s,a,u,h,f,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),s=this.params.maximumSequenceNumbersToCollect):s=w,u=Date.now(),this.nthSequenceNumber(e,s))).next(w=>(r=w,h=Date.now(),this.removeTargets(e,r,t))).next(w=>(a=w,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(p=Date.now(),xo()<=De.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${s} in `+(h-u)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${w} documents in `+(p-f)+`ms
Total Duration: ${p-v}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:w})))}}function pP(n,e){return new fP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(){this.changes=new As(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Z.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&ul(r.mutation,s,mn.empty(),yt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Le()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Le()){const s=ys();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(a=>{let u=il();return a.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=ys();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Le()))}populateOverlays(e,t,r){const s=[];return r.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,s){let a=Br();const u=ll(),h=function(){return ll()}();return t.forEach((f,p)=>{const v=r.get(p.key);s.has(p.key)&&(v===void 0||v.mutation instanceof Fi)?a=a.insert(p.key,p):v!==void 0?(u.set(p.key,v.mutation.getFieldMask()),ul(v.mutation,p,v.mutation.getFieldMask(),yt.now())):u.set(p.key,mn.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,v)=>u.set(p,v)),t.forEach((p,v)=>{var w;return h.set(p,new gP(v,(w=u.get(p))!==null&&w!==void 0?w:null))}),h))}recalculateAndSaveOverlays(e,t){const r=ll();let s=new rt((u,h)=>u-h),a=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(f=>{const p=t.get(f);if(p===null)return;let v=r.get(f)||mn.empty();v=h.applyToLocalView(p,v),r.set(f,v);const w=(s.get(h.batchId)||Le()).add(f);s=s.insert(h.batchId,w)})}).next(()=>{const u=[],h=s.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,v=f.value,w=cw();v.forEach(E=>{if(!a.has(E)){const P=gw(t.get(E),r.get(E));P!==null&&w.set(E,P),a=a.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,w))}return Z.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(u){return ye.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):fp(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):Z.resolve(ys());let h=pl,f=a;return u.next(p=>Z.forEach(p,(v,w)=>(h<w.largestBatchId&&(h=w.largestBatchId),a.get(v)?Z.resolve():this.remoteDocumentCache.getEntry(e,v).next(E=>{f=f.insert(v,E)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,Le())).next(v=>({batchId:h,changes:uw(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(r=>{let s=il();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let u=il();return this.indexManager.getCollectionParents(e,a).next(h=>Z.forEach(h,f=>{const p=function(w,E){return new Jo(E,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(v=>{v.forEach((w,E)=>{u=u.insert(w,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s))).next(u=>{a.forEach((f,p)=>{const v=p.getKey();u.get(v)===null&&(u=u.insert(v,zt.newInvalidDocument(v)))});let h=il();return u.forEach((f,p)=>{const v=a.get(f);v!==void 0&&ul(v.mutation,p,mn.empty(),yt.now()),rd(t,p)&&(h=h.insert(f,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Z.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:dr(s.createTime)}}(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(s){return{name:s.name,query:aP(s.bundledQuery),readTime:dr(s.readTime)}}(t)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(){this.overlays=new rt(ye.comparator),this.Rr=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ys();return Z.forEach(t,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,a)=>{this.Et(e,t,a)}),Z.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(r)),Z.resolve()}getOverlaysForCollection(e,t,r){const s=ys(),a=t.length+1,u=new ye(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return Z.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new rt((p,v)=>p-v);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let v=a.get(p.largestBatchId);v===null&&(v=ys(),a=a.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const h=ys(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,v)=>h.set(p,v)),!(h.size()>=s)););return Z.resolve(h)}Et(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new FC(t,r));let a=this.Rr.get(t);a===void 0&&(a=Le(),this.Rr.set(t,a)),this.Rr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(){this.Vr=new _t(Ct.mr),this.gr=new _t(Ct.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Ct(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Ct(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new ye(new Qe([])),r=new Ct(t,e),s=new Ct(t,e+1),a=[];return this.gr.forEachInRange([r,s],u=>{this.wr(u),a.push(u.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new ye(new Qe([])),r=new Ct(t,e),s=new Ct(t,e+1);let a=Le();return this.gr.forEachInRange([r,s],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Ct(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Ct{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ye.comparator(e.key,t.key)||ke(e.Cr,t.Cr)}static pr(e,t){return ke(e.Cr,t.Cr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new _t(Ct.mr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new VC(a,t,r,s);this.mutationQueue.push(u);for(const h of s)this.Mr=this.Mr.add(new Ct(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Z.resolve(u)}lookupMutationBatch(e,t){return Z.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Nr(r),a=s<0?0:s;return Z.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?lp:this.Fr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ct(t,0),s=new Ct(t,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([r,s],u=>{const h=this.Or(u.Cr);a.push(h)}),Z.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new _t(ke);return t.forEach(s=>{const a=new Ct(s,0),u=new Ct(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,u],h=>{r=r.add(h.Cr)})}),Z.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;ye.isDocumentKey(a)||(a=a.child(""));const u=new Ct(new ye(a),0);let h=new _t(ke);return this.Mr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(h=h.add(f.Cr)),!0)},u),Z.resolve(this.Br(h))}Br(e){const t=[];return e.forEach(r=>{const s=this.Or(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){$e(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return Z.forEach(t.mutations,s=>{const a=new Ct(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new Ct(t,0),s=this.Mr.firstAfterOrEqual(r);return Z.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e){this.kr=e,this.docs=function(){return new rt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,u=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Z.resolve(r?r.document.mutableCopy():zt.newInvalidDocument(t))}getEntries(e,t){let r=Br();return t.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():zt.newInvalidDocument(s))}),Z.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=Br();const u=t.path,h=new ye(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:v}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||Jx(Xx(v),r)<=0||(s.has(v.key)||rd(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return Z.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Se()}qr(e,t){return Z.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new SP(this)}getSize(e){return Z.resolve(this.size)}}class SP extends mP{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)}),Z.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e){this.persistence=e,this.Qr=new As(t=>cp(t),dp),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.$r=0,this.Ur=new yp,this.targetCount=0,this.Kr=zo.Un()}forEachTarget(e,t){return this.Qr.forEach((r,s)=>t(s)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),Z.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new zo(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.zn(t),Z.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.Qr.forEach((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.Qr.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)}),Z.waitFor(a).next(()=>s)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return Z.resolve(r)}addMatchingKeys(e,t,r){return this.Ur.yr(t,r),Z.resolve()}removeMatchingKeys(e,t,r){this.Ur.Sr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(u=>{a.push(s.markPotentiallyOrphaned(e,u))}),Z.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ur.vr(t);return Z.resolve(r)}containsKey(e,t){return Z.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Jc(0),this.zr=!1,this.zr=!0,this.jr=new wP,this.referenceDelegate=e(this),this.Hr=new IP(this),this.indexManager=new lP,this.remoteDocumentCache=function(s){return new TP(s)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new oP(t),this.Yr=new yP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _P,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new EP(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){de("MemoryPersistence","Starting transaction:",e);const s=new xP(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next(a=>this.referenceDelegate.Xr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}ei(e,t){return Z.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class xP extends eC{constructor(e){super(),this.currentSequenceNumber=e}}class _p{constructor(e){this.persistence=e,this.ti=new yp,this.ni=null}static ri(e){return new _p(e)}get ii(){if(this.ni)return this.ni;throw Se()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),Z.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Z.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(s=>this.ii.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.ii.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ii,r=>{const s=ye.fromPath(r);return this.si(e,s).next(a=>{a||t.removeEntry(s,Ce.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return Z.or([()=>Z.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Lc{constructor(e,t){this.persistence=e,this.oi=new As(r=>rC(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=pP(this,t)}static ri(e,t){return new Lc(e,t)}Zr(){}Xr(e){return Z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return Z.forEach(this.oi,(r,s)=>this.ar(e,r,s).next(a=>a?Z.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.qr(e,u=>this.ar(e,u,t).next(h=>{h||(r++,a.removeEntry(u,Ce.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Z.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Z.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=hc(e.data.value)),t}ar(e,t,r){return Z.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.oi.get(t);return Z.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=s}static Yi(e,t){let r=Le(),s=Le();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new wp(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return SI()?8:tC(Bt())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.rs(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.ss(e,t,s,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new CP;return this._s(e,t,u).next(h=>{if(a.result=h,this.Xi)return this.us(e,t,u,h.size)})}).next(()=>a.result)}us(e,t,r,s){return r.documentReadCount<this.es?(xo()<=De.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Co(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Z.resolve()):(xo()<=De.DEBUG&&de("QueryEngine","Query:",Co(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?(xo()<=De.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Co(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ur(t))):Z.resolve())}rs(e,t){if(Zv(t))return Z.resolve(null);let r=ur(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=kc(t,null,"F"),r=ur(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=Le(...a);return this.ns.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.cs(t,h);return this.ls(t,p,u,f.readTime)?this.rs(e,kc(t,null,"F")):this.hs(e,p,t,f)}))})))}ss(e,t,r,s){return Zv(t)||s.isEqual(Ce.min())?Z.resolve(null):this.ns.getDocuments(e,r).next(a=>{const u=this.cs(t,a);return this.ls(t,u,r,s)?Z.resolve(null):(xo()<=De.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Co(t)),this.hs(e,u,t,Yx(s,pl)).next(h=>h))})}cs(e,t){let r=new _t(aw(e));return t.forEach((s,a)=>{rd(e,a)&&(r=r.add(a))}),r}ls(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}_s(e,t,r){return xo()<=De.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Co(t)),this.ns.getDocumentsMatchingQuery(e,t,ki.min(),r)}hs(e,t,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="LocalStore",AP=3e8;class RP{constructor(e,t,r,s){this.persistence=e,this.Ps=t,this.serializer=s,this.Ts=new rt(ke),this.Is=new As(a=>cp(a),dp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vP(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function kP(n,e,t,r){return new RP(n,e,t,r)}async function bw(n,e){const t=Ae(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],h=[];let f=Le();for(const p of s){u.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}for(const p of a){h.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(r,f).next(p=>({Rs:p,removedBatchIds:u,addedBatchIds:h}))})})}function bP(n,e){const t=Ae(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=t.ds.newChangeBuffer({trackRemovals:!0});return function(h,f,p,v){const w=p.batch,E=w.keys();let P=Z.resolve();return E.forEach(S=>{P=P.next(()=>v.getEntry(f,S)).next(R=>{const N=p.docVersions.get(S);$e(N!==null),R.version.compareTo(N)<0&&(w.applyToRemoteDocument(R,p),R.isValidDocument()&&(R.setReadTime(p.commitVersion),v.addEntry(R)))})}),P.next(()=>h.mutationQueue.removeMutationBatch(f,w))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let f=Le();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function Nw(n){const e=Ae(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function NP(n,e){const t=Ae(n),r=e.snapshotVersion;let s=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.ds.newChangeBuffer({trackRemovals:!0});s=t.Ts;const h=[];e.targetChanges.forEach((v,w)=>{const E=s.get(w);if(!E)return;h.push(t.Hr.removeMatchingKeys(a,v.removedDocuments,w).next(()=>t.Hr.addMatchingKeys(a,v.addedDocuments,w)));let P=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?P=P.withResumeToken(Lt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):v.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(v.resumeToken,r)),s=s.insert(w,P),function(R,N,D){return R.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=AP?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(E,P,v)&&h.push(t.Hr.updateTargetData(a,P))});let f=Br(),p=Le();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))}),h.push(DP(a,u,e.documentUpdates).next(v=>{f=v.Vs,p=v.fs})),!r.isEqual(Ce.min())){const v=t.Hr.getLastRemoteSnapshotVersion(a).next(w=>t.Hr.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(v)}return Z.waitFor(h).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(t.Ts=s,a))}function DP(n,e,t){let r=Le(),s=Le();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=Br();return t.forEach((h,f)=>{const p=a.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(h)),f.isNoDocument()&&f.version.isEqual(Ce.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):de(Ep,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)}),{Vs:u,fs:s}})}function LP(n,e){const t=Ae(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=lp),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function OP(n,e){const t=Ae(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Hr.getTargetData(r,e).next(a=>a?(s=a,Z.resolve(s)):t.Hr.allocateTargetId(r).next(u=>(s=new Si(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function Mf(n,e,t){const r=Ae(n),s=r.Ts.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!Xo(u))throw u;de(Ep,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function hy(n,e,t){const r=Ae(n);let s=Ce.min(),a=Le();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,p,v){const w=Ae(f),E=w.Is.get(v);return E!==void 0?Z.resolve(w.Ts.get(E)):w.Hr.getTargetData(p,v)}(r,u,ur(e)).next(h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(u,h.targetId).next(f=>{a=f})}).next(()=>r.Ps.getDocumentsMatchingQuery(u,e,t?s:Ce.min(),t?a:Le())).next(h=>(MP(r,TC(e),h),{documents:h,gs:a})))}function MP(n,e,t){let r=n.Es.get(e)||Ce.min();t.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Es.set(e,r)}class fy{constructor(){this.activeTargetIds=AC()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VP{constructor(){this.ho=new fy,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new fy,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py="ConnectivityMonitor";class my{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){de(py,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){de(py,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sc=null;function Vf(){return sc===null?sc=function(){return 268435456+Math.round(2147483648*Math.random())}():sc++,"0x"+sc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf="RestConnection",jP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class UP{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===Cc?`project_id=${r}`:`project_id=${r}&database_id=${s}`}So(e,t,r,s,a){const u=Vf(),h=this.bo(e,t.toUriEncodedString());de(rf,`Sending RPC '${e}' ${u}:`,h,r);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,s,a),this.vo(e,h,f,r).then(p=>(de(rf,`Received RPC '${e}' ${u}: `,p),p),p=>{throw Mo(rf,`RPC '${e}' ${u} failed with error: `,p,"url: ",h,"request:",r),p})}Co(e,t,r,s,a,u){return this.So(e,t,r,s,a)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}bo(e,t){const r=jP[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jt="WebChannelConnection";class BP extends UP{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,s){const a=Vf();return new Promise((u,h)=>{const f=new M_;f.setWithCredentials(!0),f.listenOnce(V_.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case dc.NO_ERROR:const v=f.getResponseJson();de(jt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(v)),u(v);break;case dc.TIMEOUT:de(jt,`RPC '${e}' ${a} timed out`),h(new ue(X.DEADLINE_EXCEEDED,"Request time out"));break;case dc.HTTP_ERROR:const w=f.getStatus();if(de(jt,`RPC '${e}' ${a} failed with status:`,w,"response text:",f.getResponseText()),w>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const P=E==null?void 0:E.error;if(P&&P.status&&P.message){const S=function(N){const D=N.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(D)>=0?D:X.UNKNOWN}(P.status);h(new ue(S,P.message))}else h(new ue(X.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new ue(X.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{de(jt,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(s);de(jt,`RPC '${e}' ${a} sending request:`,s),f.send(t,"POST",p,r,15)})}Wo(e,t,r){const s=Vf(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=U_(),h=j_(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const v=a.join("");de(jt,`Creating RPC '${e}' stream ${s}: ${v}`,f);const w=u.createWebChannel(v,f);let E=!1,P=!1;const S=new zP({Fo:N=>{P?de(jt,`Not sending because RPC '${e}' stream ${s} is closed:`,N):(E||(de(jt,`Opening RPC '${e}' stream ${s} transport.`),w.open(),E=!0),de(jt,`RPC '${e}' stream ${s} sending:`,N),w.send(N))},Mo:()=>w.close()}),R=(N,D,A)=>{N.listen(D,F=>{try{A(F)}catch(H){setTimeout(()=>{throw H},0)}})};return R(w,rl.EventType.OPEN,()=>{P||(de(jt,`RPC '${e}' stream ${s} transport opened.`),S.Qo())}),R(w,rl.EventType.CLOSE,()=>{P||(P=!0,de(jt,`RPC '${e}' stream ${s} transport closed`),S.Uo())}),R(w,rl.EventType.ERROR,N=>{P||(P=!0,Mo(jt,`RPC '${e}' stream ${s} transport errored:`,N),S.Uo(new ue(X.UNAVAILABLE,"The operation could not be completed")))}),R(w,rl.EventType.MESSAGE,N=>{var D;if(!P){const A=N.data[0];$e(!!A);const F=A,H=(F==null?void 0:F.error)||((D=F[0])===null||D===void 0?void 0:D.error);if(H){de(jt,`RPC '${e}' stream ${s} received error:`,H);const Y=H.status;let ee=function(x){const k=ct[x];if(k!==void 0)return _w(k)}(Y),L=H.message;ee===void 0&&(ee=X.INTERNAL,L="Unknown error status: "+Y+" with message "+H.message),P=!0,S.Uo(new ue(ee,L)),w.close()}else de(jt,`RPC '${e}' stream ${s} received:`,A),S.Ko(A)}}),R(h,F_.STAT_EVENT,N=>{N.stat===xf.PROXY?de(jt,`RPC '${e}' stream ${s} detected buffering proxy`):N.stat===xf.NOPROXY&&de(jt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.$o()},0),S}}function sf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(n){return new qC(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,t,r=1e3,s=1.5,a=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=s,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,t-r);s>0&&de("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy="PersistentStream";class Lw{constructor(e,t,r,s,a,u,h,f){this.Ti=e,this.n_=r,this.r_=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Dw(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===X.RESOURCE_EXHAUSTED?(zr(t.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.i_===t&&this.V_(r,s)},r=>{e(()=>{const s=new ue(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{r(()=>this.m_(s))}),this.stream.onMessage(s=>{r(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return de(gy,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(de(gy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $P extends Lw{constructor(e,t,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=QC(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ce.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ce.min():u.readTime?dr(u.readTime):Ce.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=Of(this.serializer),t.addTarget=function(a,u){let h;const f=u.target;if(h=kf(f)?{documents:JC(a,f)}:{query:ZC(a,f).ht},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=Tw(a,u.resumeToken);const p=Nf(a,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ce.min())>0){h.readTime=Dc(a,u.snapshotVersion.toTimestamp());const p=Nf(a,u.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const r=tP(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=Of(this.serializer),t.removeTarget=e,this.I_(t)}}class HP extends Lw{constructor(e,t,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return $e(!!e.streamToken),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){$e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=XC(e.writeResults,e.commitTime),r=dr(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=Of(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>YC(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{}class qP extends WP{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new ue(X.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.So(e,Df(t,r),s,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ue(X.UNKNOWN,a.toString())})}Co(e,t,r,s,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Co(e,Df(t,r),s,u,h,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(X.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class GP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(zr(t),this.N_=!1):de("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss="RemoteStore";class KP{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(u=>{r.enqueueAndForget(async()=>{Rs(this)&&(de(Ss,"Restarting streams for network reachability change."),await async function(f){const p=Ae(f);p.W_.add(4),await Rl(p),p.j_.set("Unknown"),p.W_.delete(4),await ld(p)}(this))})}),this.j_=new GP(r,s)}}async function ld(n){if(Rs(n))for(const e of n.G_)await e(!0)}async function Rl(n){for(const e of n.G_)await e(!1)}function Ow(n,e){const t=Ae(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),xp(t)?Ip(t):Zo(t).c_()&&Sp(t,e))}function Tp(n,e){const t=Ae(n),r=Zo(t);t.K_.delete(e),r.c_()&&Mw(t,e),t.K_.size===0&&(r.c_()?r.P_():Rs(t)&&t.j_.set("Unknown"))}function Sp(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Zo(n).y_(e)}function Mw(n,e){n.H_.Ne(e),Zo(n).w_(e)}function Ip(n){n.H_=new BC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Zo(n).start(),n.j_.B_()}function xp(n){return Rs(n)&&!Zo(n).u_()&&n.K_.size>0}function Rs(n){return Ae(n).W_.size===0}function Vw(n){n.H_=void 0}async function QP(n){n.j_.set("Online")}async function YP(n){n.K_.forEach((e,t)=>{Sp(n,e)})}async function XP(n,e){Vw(n),xp(n)?(n.j_.q_(e),Ip(n)):n.j_.set("Unknown")}async function JP(n,e,t){if(n.j_.set("Online"),e instanceof Ew&&e.state===2&&e.cause)try{await async function(s,a){const u=a.cause;for(const h of a.targetIds)s.K_.has(h)&&(await s.remoteSyncer.rejectListen(h,u),s.K_.delete(h),s.H_.removeTarget(h))}(n,e)}catch(r){de(Ss,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Oc(n,r)}else if(e instanceof mc?n.H_.We(e):e instanceof ww?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Ce.min()))try{const r=await Nw(n.localStore);t.compareTo(r)>=0&&await function(a,u){const h=a.H_.ot(u);return h.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.K_.get(p);v&&a.K_.set(p,v.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,p)=>{const v=a.K_.get(f);if(!v)return;a.K_.set(f,v.withResumeToken(Lt.EMPTY_BYTE_STRING,v.snapshotVersion)),Mw(a,f);const w=new Si(v.target,f,p,v.sequenceNumber);Sp(a,w)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){de(Ss,"Failed to raise snapshot:",r),await Oc(n,r)}}async function Oc(n,e,t){if(!Xo(e))throw e;n.W_.add(1),await Rl(n),n.j_.set("Offline"),t||(t=()=>Nw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{de(Ss,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await ld(n)})}function Fw(n,e){return e().catch(t=>Oc(n,t,e))}async function ud(n){const e=Ae(n),t=Li(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:lp;for(;ZP(e);)try{const s=await LP(e.localStore,r);if(s===null){e.U_.length===0&&t.P_();break}r=s.batchId,eA(e,s)}catch(s){await Oc(e,s)}jw(e)&&Uw(e)}function ZP(n){return Rs(n)&&n.U_.length<10}function eA(n,e){n.U_.push(e);const t=Li(n);t.c_()&&t.S_&&t.b_(e.mutations)}function jw(n){return Rs(n)&&!Li(n).u_()&&n.U_.length>0}function Uw(n){Li(n).start()}async function tA(n){Li(n).C_()}async function nA(n){const e=Li(n);for(const t of n.U_)e.b_(t.mutations)}async function rA(n,e,t){const r=n.U_.shift(),s=mp.from(r,e,t);await Fw(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await ud(n)}async function iA(n,e){e&&Li(n).S_&&await async function(r,s){if(function(u){return UC(u)&&u!==X.ABORTED}(s.code)){const a=r.U_.shift();Li(r).h_(),await Fw(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await ud(r)}}(n,e),jw(n)&&Uw(n)}async function vy(n,e){const t=Ae(n);t.asyncQueue.verifyOperationInProgress(),de(Ss,"RemoteStore received new credentials");const r=Rs(t);t.W_.add(3),await Rl(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await ld(t)}async function sA(n,e){const t=Ae(n);e?(t.W_.delete(2),await ld(t)):e||(t.W_.add(2),await Rl(t),t.j_.set("Unknown"))}function Zo(n){return n.J_||(n.J_=function(t,r,s){const a=Ae(t);return a.M_(),new $P(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{xo:QP.bind(null,n),No:YP.bind(null,n),Lo:XP.bind(null,n),p_:JP.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),xp(n)?Ip(n):n.j_.set("Unknown")):(await n.J_.stop(),Vw(n))})),n.J_}function Li(n){return n.Y_||(n.Y_=function(t,r,s){const a=Ae(t);return a.M_(),new HP(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:tA.bind(null,n),Lo:iA.bind(null,n),D_:nA.bind(null,n),v_:rA.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await ud(n)):(await n.Y_.stop(),n.U_.length>0&&(de(Ss,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const u=Date.now()+r,h=new Cp(e,t,u,s,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pp(n,e){if(zr("AsyncQueue",`${e}: ${n}`),Xo(n))return new ue(X.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{static emptySet(e){return new ko(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ye.comparator(t.key,r.key):(t,r)=>ye.comparator(t.key,r.key),this.keyedMap=il(),this.sortedSet=new rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ko)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new ko;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(){this.Z_=new rt(ye.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Se():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Bo{constructor(e,t,r,s,a,u,h,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,a){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new Bo(e,t,ko.emptySet(t),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class aA{constructor(){this.queries=_y(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const s=Ae(t),a=s.queries;s.queries=_y(),a.forEach((u,h)=>{for(const f of h.ta)f.onError(r)})})(this,new ue(X.ABORTED,"Firestore shutting down"))}}function _y(){return new As(n=>ow(n),nd)}async function zw(n,e){const t=Ae(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.na()&&e.ra()&&(r=2):(a=new oA,r=e.ra()?0:1);try{switch(r){case 0:a.ea=await t.onListen(s,!0);break;case 1:a.ea=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const h=Pp(u,`Initialization of query '${Co(e.query)}' failed`);return void e.onError(h)}t.queries.set(s,a),a.ta.push(e),e.sa(t.onlineState),a.ea&&e.oa(a.ea)&&Ap(t)}async function Bw(n,e){const t=Ae(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const u=a.ta.indexOf(e);u>=0&&(a.ta.splice(u,1),a.ta.length===0?s=e.ra()?0:1:!a.na()&&e.ra()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function lA(n,e){const t=Ae(n);let r=!1;for(const s of e){const a=s.query,u=t.queries.get(a);if(u){for(const h of u.ta)h.oa(s)&&(r=!0);u.ea=s}}r&&Ap(t)}function uA(n,e,t){const r=Ae(n),s=r.queries.get(e);if(s)for(const a of s.ta)a.onError(t);r.queries.delete(e)}function Ap(n){n.ia.forEach(e=>{e.next()})}var Ff,wy;(wy=Ff||(Ff={}))._a="default",wy.Cache="cache";class $w{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Bo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Ff.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e){this.key=e}}class Ww{constructor(e){this.key=e}}class cA{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Le(),this.mutatedKeys=Le(),this.ya=aw(e),this.wa=new ko(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new yy,s=t?t.wa:this.wa;let a=t?t.mutatedKeys:this.mutatedKeys,u=s,h=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((v,w)=>{const E=s.get(v),P=rd(this.query,w)?w:null,S=!!E&&this.mutatedKeys.has(E.key),R=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let N=!1;E&&P?E.data.isEqual(P.data)?S!==R&&(r.track({type:3,doc:P}),N=!0):this.va(E,P)||(r.track({type:2,doc:P}),N=!0,(f&&this.ya(P,f)>0||p&&this.ya(P,p)<0)&&(h=!0)):!E&&P?(r.track({type:0,doc:P}),N=!0):E&&!P&&(r.track({type:1,doc:E}),N=!0,(f||p)&&(h=!0)),N&&(P?(u=u.add(P),a=R?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{wa:u,Da:r,ls:h,mutatedKeys:a}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((v,w)=>function(P,S){const R=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return R(P)-R(S)}(v.type,w.type)||this.ya(v.doc,w.doc)),this.Ca(r),s=s!=null&&s;const h=t&&!s?this.Fa():[],f=this.pa.size===0&&this.current&&!s?1:0,p=f!==this.ga;return this.ga=f,u.length!==0||p?{snapshot:new Bo(this.query,e.wa,a,u,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new yy,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Le(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new Ww(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new Hw(r))}),t}Oa(e){this.fa=e.gs,this.pa=Le();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Bo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Rp="SyncEngine";class dA{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class hA{constructor(e){this.key=e,this.Ba=!1}}class fA{constructor(e,t,r,s,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new As(h=>ow(h),nd),this.qa=new Map,this.Qa=new Set,this.$a=new rt(ye.comparator),this.Ua=new Map,this.Ka=new yp,this.Wa={},this.Ga=new Map,this.za=zo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function pA(n,e,t=!0){const r=Xw(n);let s;const a=r.ka.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Na()):s=await qw(r,e,t,!0),s}async function mA(n,e){const t=Xw(n);await qw(t,e,!0,!1)}async function qw(n,e,t,r){const s=await OP(n.localStore,ur(e)),a=s.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let h;return r&&(h=await gA(n,e,a,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&Ow(n.remoteStore,s),h}async function gA(n,e,t,r,s){n.Ha=(w,E,P)=>async function(R,N,D,A){let F=N.view.ba(D);F.ls&&(F=await hy(R.localStore,N.query,!1).then(({documents:L})=>N.view.ba(L,F)));const H=A&&A.targetChanges.get(N.targetId),Y=A&&A.targetMismatches.get(N.targetId)!=null,ee=N.view.applyChanges(F,R.isPrimaryClient,H,Y);return Ty(R,N.targetId,ee.Ma),ee.snapshot}(n,w,E,P);const a=await hy(n.localStore,e,!0),u=new cA(e,a.gs),h=u.ba(a.documents),f=Al.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=u.applyChanges(h,n.isPrimaryClient,f);Ty(n,t,p.Ma);const v=new dA(e,t,u);return n.ka.set(e,v),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),p.snapshot}async function vA(n,e,t){const r=Ae(n),s=r.ka.get(e),a=r.qa.get(s.targetId);if(a.length>1)return r.qa.set(s.targetId,a.filter(u=>!nd(u,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Mf(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&Tp(r.remoteStore,s.targetId),jf(r,s.targetId)}).catch(Yo)):(jf(r,s.targetId),await Mf(r.localStore,s.targetId,!0))}async function yA(n,e){const t=Ae(n),r=t.ka.get(e),s=t.qa.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Tp(t.remoteStore,r.targetId))}async function _A(n,e,t){const r=CA(n);try{const s=await function(u,h){const f=Ae(u),p=yt.now(),v=h.reduce((P,S)=>P.add(S.key),Le());let w,E;return f.persistence.runTransaction("Locally write mutations","readwrite",P=>{let S=Br(),R=Le();return f.ds.getEntries(P,v).next(N=>{S=N,S.forEach((D,A)=>{A.isValidDocument()||(R=R.add(D))})}).next(()=>f.localDocuments.getOverlayedDocuments(P,S)).next(N=>{w=N;const D=[];for(const A of h){const F=OC(A,w.get(A.key).overlayedDocument);F!=null&&D.push(new Fi(A.key,F,Z_(F.value.mapValue),cr.exists(!0)))}return f.mutationQueue.addMutationBatch(P,p,D,h)}).next(N=>{E=N;const D=N.applyToLocalDocumentSet(w,R);return f.documentOverlayCache.saveOverlays(P,N.batchId,D)})}).then(()=>({batchId:E.batchId,changes:uw(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,h,f){let p=u.Wa[u.currentUser.toKey()];p||(p=new rt(ke)),p=p.insert(h,f),u.Wa[u.currentUser.toKey()]=p}(r,s.batchId,t),await kl(r,s.changes),await ud(r.remoteStore)}catch(s){const a=Pp(s,"Failed to persist write");t.reject(a)}}async function Gw(n,e){const t=Ae(n);try{const r=await NP(t.localStore,e);e.targetChanges.forEach((s,a)=>{const u=t.Ua.get(a);u&&($e(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?u.Ba=!0:s.modifiedDocuments.size>0?$e(u.Ba):s.removedDocuments.size>0&&($e(u.Ba),u.Ba=!1))}),await kl(t,r,e)}catch(r){await Yo(r)}}function Ey(n,e,t){const r=Ae(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.ka.forEach((a,u)=>{const h=u.view.sa(e);h.snapshot&&s.push(h.snapshot)}),function(u,h){const f=Ae(u);f.onlineState=h;let p=!1;f.queries.forEach((v,w)=>{for(const E of w.ta)E.sa(h)&&(p=!0)}),p&&Ap(f)}(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function wA(n,e,t){const r=Ae(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Ua.get(e),a=s&&s.key;if(a){let u=new rt(ye.comparator);u=u.insert(a,zt.newNoDocument(a,Ce.min()));const h=Le().add(a),f=new od(Ce.min(),new Map,new rt(ke),u,h);await Gw(r,f),r.$a=r.$a.remove(a),r.Ua.delete(e),kp(r)}else await Mf(r.localStore,e,!1).then(()=>jf(r,e,t)).catch(Yo)}async function EA(n,e){const t=Ae(n),r=e.batch.batchId;try{const s=await bP(t.localStore,e);Qw(t,r,null),Kw(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await kl(t,s)}catch(s){await Yo(s)}}async function TA(n,e,t){const r=Ae(n);try{const s=await function(u,h){const f=Ae(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return f.mutationQueue.lookupMutationBatch(p,h).next(w=>($e(w!==null),v=w.keys(),f.mutationQueue.removeMutationBatch(p,w))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,v,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>f.localDocuments.getDocuments(p,v))})}(r.localStore,e);Qw(r,e,t),Kw(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await kl(r,s)}catch(s){await Yo(s)}}function Kw(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function Qw(n,e,t){const r=Ae(n);let s=r.Wa[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function jf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(r=>{n.Ka.containsKey(r)||Yw(n,r)})}function Yw(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Tp(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),kp(n))}function Ty(n,e,t){for(const r of t)r instanceof Hw?(n.Ka.addReference(r.key,e),SA(n,r)):r instanceof Ww?(de(Rp,"Document no longer in limbo: "+r.key),n.Ka.removeReference(r.key,e),n.Ka.containsKey(r.key)||Yw(n,r.key)):Se()}function SA(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(de(Rp,"New document in limbo: "+t),n.Qa.add(r),kp(n))}function kp(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new ye(Qe.fromString(e)),r=n.za.next();n.Ua.set(r,new hA(t)),n.$a=n.$a.insert(t,r),Ow(n.remoteStore,new Si(ur(hp(t.path)),r,"TargetPurposeLimboResolution",Jc.ae))}}async function kl(n,e,t){const r=Ae(n),s=[],a=[],u=[];r.ka.isEmpty()||(r.ka.forEach((h,f)=>{u.push(r.Ha(f,e,t).then(p=>{var v;if((p||t)&&r.isPrimaryClient){const w=p?!p.fromCache:(v=t==null?void 0:t.targetChanges.get(f.targetId))===null||v===void 0?void 0:v.current;r.sharedClientState.updateQueryState(f.targetId,w?"current":"not-current")}if(p){s.push(p);const w=wp.Yi(f.targetId,p);a.push(w)}}))}),await Promise.all(u),r.La.p_(s),await async function(f,p){const v=Ae(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>Z.forEach(p,E=>Z.forEach(E.Hi,P=>v.persistence.referenceDelegate.addReference(w,E.targetId,P)).next(()=>Z.forEach(E.Ji,P=>v.persistence.referenceDelegate.removeReference(w,E.targetId,P)))))}catch(w){if(!Xo(w))throw w;de(Ep,"Failed to update sequence numbers: "+w)}for(const w of p){const E=w.targetId;if(!w.fromCache){const P=v.Ts.get(E),S=P.snapshotVersion,R=P.withLastLimboFreeSnapshotVersion(S);v.Ts=v.Ts.insert(E,R)}}}(r.localStore,a))}async function IA(n,e){const t=Ae(n);if(!t.currentUser.isEqual(e)){de(Rp,"User change. New user:",e.toKey());const r=await bw(t.localStore,e);t.currentUser=e,function(a,u){a.Ga.forEach(h=>{h.forEach(f=>{f.reject(new ue(X.CANCELLED,u))})}),a.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await kl(t,r.Rs)}}function xA(n,e){const t=Ae(n),r=t.Ua.get(e);if(r&&r.Ba)return Le().add(r.key);{let s=Le();const a=t.qa.get(e);if(!a)return s;for(const u of a){const h=t.ka.get(u);s=s.unionWith(h.view.Sa)}return s}}function Xw(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Gw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wA.bind(null,e),e.La.p_=lA.bind(null,e.eventManager),e.La.Ja=uA.bind(null,e.eventManager),e}function CA(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TA.bind(null,e),e}class Mc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ad(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return kP(this.persistence,new PP,e.initialUser,this.serializer)}Xa(e){return new kw(_p.ri,this.serializer)}Za(e){return new VP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mc.provider={build:()=>new Mc};class PA extends Mc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){$e(this.persistence.referenceDelegate instanceof Lc);const r=this.persistence.referenceDelegate.garbageCollector;return new hP(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new kw(r=>Lc.ri(r,t),this.serializer)}}class Uf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ey(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=IA.bind(null,this.syncEngine),await sA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new aA}()}createDatastore(e){const t=ad(e.databaseInfo.databaseId),r=function(a){return new BP(a)}(e.databaseInfo);return function(a,u,h,f){return new qP(a,u,h,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,a,u,h){return new KP(r,s,a,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>Ey(this.syncEngine,t,0),function(){return my.D()?new my:new FP}())}createSyncEngine(e,t){return function(s,a,u,h,f,p,v){const w=new fA(s,a,u,h,f,p);return v&&(w.ja=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const a=Ae(s);de(Ss,"RemoteStore shutting down."),a.W_.add(5),await Rl(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Uf.provider={build:()=>new Uf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):zr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi="FirestoreClient";class AA{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Ut.UNAUTHENTICATED,this.clientId=$_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{de(Oi,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(de(Oi,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Pp(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function of(n,e){n.asyncQueue.verifyOperationInProgress(),de(Oi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await bw(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Sy(n,e){n.asyncQueue.verifyOperationInProgress();const t=await RA(n);de(Oi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>vy(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>vy(e.remoteStore,s)),n._onlineComponents=e}async function RA(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){de(Oi,"Using user provided OfflineComponentProvider");try{await of(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===X.FAILED_PRECONDITION||s.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Mo("Error using user provided cache. Falling back to memory cache: "+t),await of(n,new Mc)}}else de(Oi,"Using default OfflineComponentProvider"),await of(n,new PA(void 0));return n._offlineComponents}async function Zw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(de(Oi,"Using user provided OnlineComponentProvider"),await Sy(n,n._uninitializedComponentsProvider._online)):(de(Oi,"Using default OnlineComponentProvider"),await Sy(n,new Uf))),n._onlineComponents}function kA(n){return Zw(n).then(e=>e.syncEngine)}async function e0(n){const e=await Zw(n),t=e.eventManager;return t.onListen=pA.bind(null,e.syncEngine),t.onUnlisten=vA.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=mA.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=yA.bind(null,e.syncEngine),t}function bA(n,e,t={}){const r=new Vr;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,h,f,p){const v=new Jw({next:E=>{v.su(),u.enqueueAndForget(()=>Bw(a,w));const P=E.docs.has(h);!P&&E.fromCache?p.reject(new ue(X.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&E.fromCache&&f&&f.source==="server"?p.reject(new ue(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),w=new $w(hp(h.path),v,{includeMetadataChanges:!0,Ta:!0});return zw(a,w)}(await e0(n),n.asyncQueue,e,t,r)),r.promise}function NA(n,e,t={}){const r=new Vr;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,h,f,p){const v=new Jw({next:E=>{v.su(),u.enqueueAndForget(()=>Bw(a,w)),E.fromCache&&f.source==="server"?p.reject(new ue(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),w=new $w(h,v,{includeMetadataChanges:!0,Ta:!0});return zw(a,w)}(await e0(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(n,e,t){if(!t)throw new ue(X.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function DA(n,e,t,r){if(e===!0&&r===!0)throw new ue(X.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function xy(n){if(!ye.isDocumentKey(n))throw new ue(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Cy(n){if(ye.isDocumentKey(n))throw new ue(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function cd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Se()}function $r(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ue(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=cd(n);throw new ue(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="firestore.googleapis.com",Py=!0;class Ay{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=r0,this.ssl=Py}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Py;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Rw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cP)throw new ue(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=t0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ue(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ue(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ue(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dd{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ay({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ay(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new zx;switch(r.type){case"firstParty":return new Wx(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Iy.get(t);r&&(de("ComponentProvider","Removing Datastore"),Iy.delete(t),r.terminate())}(this),Promise.resolve()}}function LA(n,e,t,r={}){var s;const a=(n=$r(n,dd))._getSettings(),u=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),h=`${e}:${t}`;a.host!==r0&&a.host!==h&&Mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},a),{host:h,ssl:!1,emulatorOptions:r});if(!ws(f,u)&&(n._setSettings(f),r.mockUserToken)){let p,v;if(typeof r.mockUserToken=="string")p=r.mockUserToken,v=Ut.MOCK_USER;else{p=gI(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new ue(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Ut(w)}n._authCredentials=new Bx(new z_(p,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ji(this.firestore,e,this._query)}}class Gt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ri(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gt(this.firestore,e,this._key)}}class Ri extends ji{constructor(e,t,r){super(e,t,hp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gt(this.firestore,null,new ye(e))}withConverter(e){return new Ri(this.firestore,e,this._path)}}function Ry(n,e,...t){if(n=wt(n),n0("collection","path",e),n instanceof dd){const r=Qe.fromString(e,...t);return Cy(r),new Ri(n,null,r)}{if(!(n instanceof Gt||n instanceof Ri))throw new ue(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Qe.fromString(e,...t));return Cy(r),new Ri(n.firestore,null,r)}}function Is(n,e,...t){if(n=wt(n),arguments.length===1&&(e=$_.newId()),n0("doc","path",e),n instanceof dd){const r=Qe.fromString(e,...t);return xy(r),new Gt(n,null,new ye(r))}{if(!(n instanceof Gt||n instanceof Ri))throw new ue(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Qe.fromString(e,...t));return xy(r),new Gt(n.firestore,n instanceof Ri?n.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="AsyncQueue";class by{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Dw(this,"async_queue_retry"),this.Su=()=>{const r=sf();r&&de(ky,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=sf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=sf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Vr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Xo(e))throw e;de(ky,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const s=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(r);throw zr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const s=Cp.createAndSchedule(this,e,t,r,a=>this.Fu(a));return this.fu.push(s),s}Du(){this.gu&&Se()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class bl extends dd{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new by,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new by(e),this._firestoreClient=void 0,await e}}}function OA(n,e){const t=typeof n=="object"?n:N_(),r=typeof n=="string"?n:Cc,s=op(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=pI("firestore");a&&LA(s,...a)}return s}function bp(n){if(n._terminated)throw new ue(X.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||MA(n),n._firestoreClient}function MA(n){var e,t,r;const s=n._freezeSettings(),a=function(h,f,p,v){return new oC(h,f,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,t0(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new AA(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $o(Lt.fromBase64String(e))}catch(t){throw new ue(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new $o(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ue(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ue(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ue(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=/^__.*__$/;class FA{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Fi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Pl(e,this.data,t,this.fieldTransforms)}}class i0{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Fi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function s0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class Op{constructor(e,t,r,s,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Op(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Uu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Vc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(s0(this.Lu)&&VA.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class jA{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ad(e)}ju(e,t,r,s=!1){return new Op({Lu:e,methodName:t,zu:r,path:Dt.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fd(n){const e=n._freezeSettings(),t=ad(n._databaseId);return new jA(n._databaseId,!!e.ignoreUndefinedProperties,t)}function UA(n,e,t,r,s,a={}){const u=n.ju(a.merge||a.mergeFields?2:0,e,t,s);Mp("Data must be an object, but it was:",u,r);const h=a0(r,u);let f,p;if(a.merge)f=new mn(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const w of a.mergeFields){const E=zf(e,w,t);if(!u.contains(E))throw new ue(X.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);u0(v,E)||v.push(E)}f=new mn(v),p=u.fieldTransforms.filter(w=>f.covers(w.field))}else f=null,p=u.fieldTransforms;return new FA(new sn(h),f,p)}class pd extends Np{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pd}}function zA(n,e,t,r){const s=n.ju(1,e,t);Mp("Data must be an object, but it was:",s,r);const a=[],u=sn.empty();Vi(r,(f,p)=>{const v=Vp(e,f,t);p=wt(p);const w=s.Uu(v);if(p instanceof pd)a.push(v);else{const E=Nl(p,w);E!=null&&(a.push(v),u.set(v,E))}});const h=new mn(a);return new i0(u,h,s.fieldTransforms)}function BA(n,e,t,r,s,a){const u=n.ju(1,e,t),h=[zf(e,r,t)],f=[s];if(a.length%2!=0)throw new ue(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)h.push(zf(e,a[E])),f.push(a[E+1]);const p=[],v=sn.empty();for(let E=h.length-1;E>=0;--E)if(!u0(p,h[E])){const P=h[E];let S=f[E];S=wt(S);const R=u.Uu(P);if(S instanceof pd)p.push(P);else{const N=Nl(S,R);N!=null&&(p.push(P),v.set(P,N))}}const w=new mn(p);return new i0(v,w,u.fieldTransforms)}function o0(n,e,t,r=!1){return Nl(t,n.ju(r?4:3,e))}function Nl(n,e){if(l0(n=wt(n)))return Mp("Unsupported field value:",e,n),a0(n,e);if(n instanceof Np)return function(r,s){if(!s0(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,s){const a=[];let u=0;for(const h of r){let f=Nl(h,s.Ku(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,s){if((r=wt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return RC(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=yt.fromDate(r);return{timestampValue:Dc(s.serializer,a)}}if(r instanceof yt){const a=new yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Dc(s.serializer,a)}}if(r instanceof Dp)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $o)return{bytesValue:Tw(s.serializer,r._byteString)};if(r instanceof Gt){const a=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw s.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:vp(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Lp)return function(u,h){return{mapValue:{fields:{[X_]:{stringValue:J_},[Pc]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw h.Wu("VectorValues must only contain numeric values.");return pp(h.serializer,p)})}}}}}}(r,s);throw s.Wu(`Unsupported field value: ${cd(r)}`)}(n,e)}function a0(n,e){const t={};return W_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vi(n,(r,s)=>{const a=Nl(s,e.qu(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function l0(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof yt||n instanceof Dp||n instanceof $o||n instanceof Gt||n instanceof Np||n instanceof Lp)}function Mp(n,e,t){if(!l0(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=cd(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function zf(n,e,t){if((e=wt(e))instanceof hd)return e._internalPath;if(typeof e=="string")return Vp(n,e);throw Vc("Field path arguments must be of type string or ",n,!1,void 0,t)}const $A=new RegExp("[~\\*/\\[\\]]");function Vp(n,e,t){if(e.search($A)>=0)throw Vc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new hd(...e.split("."))._internalPath}catch{throw Vc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Vc(n,e,t,r,s){const a=r&&!r.isEmpty(),u=s!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new ue(X.INVALID_ARGUMENT,h+n+f)}function u0(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(c0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class HA extends Fp{data(){return super.data()}}function c0(n,e){return typeof e=="string"?Vp(n,e):e instanceof hd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ue(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jp{}class Up extends jp{}function Ny(n,e,...t){let r=[];e instanceof jp&&r.push(e),r=r.concat(t),function(a){const u=a.filter(f=>f instanceof Bp).length,h=a.filter(f=>f instanceof zp).length;if(u>1||u>0&&h>0)throw new ue(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class zp extends Up{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new zp(e,t,r)}_apply(e){const t=this._parse(e);return d0(e._query,t),new ji(e.firestore,e.converter,bf(e._query,t))}_parse(e){const t=fd(e.firestore);return function(a,u,h,f,p,v,w){let E;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ue(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Oy(w,v);const S=[];for(const R of w)S.push(Ly(f,a,R));E={arrayValue:{values:S}}}else E=Ly(f,a,w)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Oy(w,v),E=o0(h,u,w,v==="in"||v==="not-in");return dt.create(p,v,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Bp extends jp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Bp(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Wn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,a){let u=s;const h=a.getFlattenedFilters();for(const f of h)d0(u,f),u=bf(u,f)}(e._query,t),new ji(e.firestore,e.converter,bf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $p extends Up{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new $p(e,t,r)}_apply(e){return new ji(e.firestore,e.converter,kc(e._query,this._limit,this._limitType))}}function Dy(n){return $p._create("limit",n,"F")}class Hp extends Up{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Hp(e,t,r)}_apply(e){const t=GA(e,this.type,this._docOrFields,this._inclusive);return new ji(e.firestore,e.converter,function(s,a){return new Jo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)}(e._query,t))}}function qA(...n){return Hp._create("startAfter",n,!1)}function GA(n,e,t,r){if(t[0]=wt(t[0]),t[0]instanceof Fp)return function(a,u,h,f,p){if(!f)throw new ue(X.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const v=[];for(const w of Ro(a))if(w.field.isKeyField())v.push(Ac(u,f.key));else{const E=f.data.field(w.field);if(ed(E))throw new ue(X.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+w.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(E===null){const P=w.field.canonicalString();throw new ue(X.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${P}' (used as the orderBy) does not exist.`)}v.push(E)}return new Uo(v,p)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const s=fd(n.firestore);return function(u,h,f,p,v,w){const E=u.explicitOrderBy;if(v.length>E.length)throw new ue(X.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const P=[];for(let S=0;S<v.length;S++){const R=v[S];if(E[S].field.isKeyField()){if(typeof R!="string")throw new ue(X.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof R}`);if(!fp(u)&&R.indexOf("/")!==-1)throw new ue(X.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${R}' contains a slash.`);const N=u.path.child(Qe.fromString(R));if(!ye.isDocumentKey(N))throw new ue(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${N}' is not because it contains an odd number of segments.`);const D=new ye(N);P.push(Ac(h,D))}else{const N=o0(f,p,R);P.push(N)}}return new Uo(P,w)}(n._query,n.firestore._databaseId,s,e,t,r)}}function Ly(n,e,t){if(typeof(t=wt(t))=="string"){if(t==="")throw new ue(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fp(e)&&t.indexOf("/")!==-1)throw new ue(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Qe.fromString(t));if(!ye.isDocumentKey(r))throw new ue(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ac(n,new ye(r))}if(t instanceof Gt)return Ac(n,t._key);throw new ue(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cd(t)}.`)}function Oy(n,e){if(!Array.isArray(n)||n.length===0)throw new ue(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function d0(n,e){const t=function(s,a){for(const u of s)for(const h of u.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ue(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class KA{convertValue(e,t="none"){switch(Di(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ni(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Vi(e,(s,a)=>{r[s]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,s;const a=(s=(r=(t=e.fields)===null||t===void 0?void 0:t[Pc].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>at(u.doubleValue));return new Lp(a)}convertGeoPoint(e){return new Dp(at(e.latitude),at(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=td(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ml(e));default:return null}}convertTimestamp(e){const t=bi(e);return new yt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Qe.fromString(e);$e(Aw(r));const s=new gl(r.get(1),r.get(3)),a=new ye(r.popFirst(5));return s.isEqual(t)||zr(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class h0 extends Fp{constructor(e,t,r,s,a,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(c0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class gc extends h0{data(e={}){return super.data(e)}}class YA{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new ol(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new gc(this._firestore,this._userDataWriter,r.key,r,new ol(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ue(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(h=>{const f=new gc(s._firestore,s._userDataWriter,h.doc.key,h.doc,new ol(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const f=new gc(s._firestore,s._userDataWriter,h.doc.key,h.doc,new ol(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,v=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),v=u.indexOf(h.doc.key)),{type:XA(h.type),doc:f,oldIndex:p,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function XA(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(n){n=$r(n,Gt);const e=$r(n.firestore,bl);return bA(bp(e),n._key).then(t=>ZA(e,n,t))}class f0 extends KA{constructor(e){super(),this.firestore=e}convertBytes(e){return new $o(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gt(this.firestore,null,t)}}function JA(n){n=$r(n,ji);const e=$r(n.firestore,bl),t=bp(e),r=new f0(e);return WA(n._query),NA(t,n._query).then(s=>new YA(e,r,n,s))}function p0(n,e,t){n=$r(n,Gt);const r=$r(n.firestore,bl),s=QA(n.converter,e,t);return g0(r,[UA(fd(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,cr.none())])}function m0(n,e,t,...r){n=$r(n,Gt);const s=$r(n.firestore,bl),a=fd(s);let u;return u=typeof(e=wt(e))=="string"||e instanceof hd?BA(a,"updateDoc",n._key,e,t,r):zA(a,"updateDoc",n._key,e),g0(s,[u.toMutation(n._key,cr.exists(!0))])}function g0(n,e){return function(r,s){const a=new Vr;return r.asyncQueue.enqueueAndForget(async()=>_A(await kA(r),s,a)),a.promise}(bp(n),e)}function ZA(n,e,t){const r=t.docs.get(e._key),s=new f0(n);return new h0(n,s,e._key,r,new ol(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){Qo=s})(Ko),Oo(new Es("firestore",(r,{instanceIdentifier:s,options:a})=>{const u=r.getProvider("app").getImmediate(),h=new bl(new $x(r.getProvider("auth-internal")),new qx(u,r.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ue(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gl(p.options.projectId,v)}(u,s),u);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),Pi(Mv,Vv,e),Pi(Mv,Vv,"esm2017")})();var eR="firebase",tR="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pi(eR,tR,"app");function Wp(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function v0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nR=v0,y0=new xl("auth","Firebase",v0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=new ip("@firebase/auth");function rR(n,...e){Fc.logLevel<=De.WARN&&Fc.warn(`Auth (${Ko}): ${n}`,...e)}function vc(n,...e){Fc.logLevel<=De.ERROR&&Fc.error(`Auth (${Ko}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(n,...e){throw Gp(n,...e)}function $n(n,...e){return Gp(n,...e)}function qp(n,e,t){const r=Object.assign(Object.assign({},nR()),{[e]:t});return new xl("auth","Firebase",r).create(e,{appName:n.name})}function Fr(n){return qp(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function iR(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Cn(n,"argument-error"),qp(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Gp(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return y0.create(n,...e)}function Te(n,e,...t){if(!n)throw Gp(e,...t)}function Lr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw vc(e),new Error(e)}function Hr(n,e){n||Lr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function sR(){return My()==="http:"||My()==="https:"}function My(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sR()||wI()||"connection"in navigator)?navigator.onLine:!0}function aR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Hr(t>e,"Short delay should be less than long delay!"),this.isMobile=vI()||EI()}get(){return oR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(n,e){Hr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cR=new Dl(3e4,6e4);function Ui(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function zi(n,e,t,r,s={}){return w0(n,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const h=Cl(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:f},a);return _I()||(p.referrerPolicy="no-referrer"),_0.fetch()(await E0(n,n.config.apiHost,t,h),p)})}async function w0(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},lR),e);try{const s=new hR(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw oc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw oc(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw oc(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw oc(n,"user-disabled",u);const v=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw qp(n,v,p);Cn(n,v)}}catch(s){if(s instanceof Gr)throw s;Cn(n,"network-request-failed",{message:String(s)})}}async function Ll(n,e,t,r,s={}){const a=await zi(n,e,t,r,s);return"mfaPendingCredential"in a&&Cn(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function E0(n,e,t,r){const s=`${e}${t}?${r}`,a=n,u=a.config.emulator?Kp(n.config,s):`${n.config.apiScheme}://${s}`;return uR.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function dR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r($n(this.auth,"network-request-failed")),cR.get())})}}function oc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=$n(n,e,r);return s.customData._tokenResponse=t,s}function Vy(n){return n!==void 0&&n.enterprise!==void 0}class fR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return dR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function pR(n,e){return zi(n,"GET","/v2/recaptchaConfig",Ui(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mR(n,e){return zi(n,"POST","/v1/accounts:delete",e)}async function jc(n,e){return zi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gR(n,e=!1){const t=wt(n),r=await t.getIdToken(e),s=Qp(r);Te(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:cl(af(s.auth_time)),issuedAtTime:cl(af(s.iat)),expirationTime:cl(af(s.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function af(n){return Number(n)*1e3}function Qp(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return vc("JWT malformed, contained fewer than 3 sections"),null;try{const s=x_(t);return s?JSON.parse(s):(vc("Failed to decode base64 JWT payload"),null)}catch(s){return vc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Fy(n){const e=Qp(n);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function El(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Gr&&vR(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function vR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=cl(this.lastLoginAt),this.creationTime=cl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uc(n){var e;const t=n.auth,r=await n.getIdToken(),s=await El(n,jc(t,{idToken:r}));Te(s==null?void 0:s.users.length,t,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?T0(a.providerUserInfo):[],h=wR(n.providerData,u),f=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(h!=null&&h.length),v=f?p:!1,w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new $f(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(n,w)}async function _R(n){const e=wt(n);await Uc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function wR(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function T0(n){return n.map(e=>{var{providerId:t}=e,r=Wp(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ER(n,e){const t=await w0(n,{},async()=>{const r=Cl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,u=await E0(n,s,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",_0.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function TR(n,e){return zi(n,"POST","/v2/accounts:revokeToken",Ui(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Fy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=Fy(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await ER(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,u=new bo;return r&&(Te(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Te(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(Te(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bo,this.toJSON())}_performRefresh(){return Lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(n,e){Te(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Bn{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,a=Wp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new $f(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await El(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return gR(this,e)}reload(){return _R(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Bn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Uc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pn(this.auth.app))return Promise.reject(Fr(this.auth));const e=await this.getIdToken();return await El(this,mR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,a,u,h,f,p,v;const w=(r=t.displayName)!==null&&r!==void 0?r:void 0,E=(s=t.email)!==null&&s!==void 0?s:void 0,P=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,S=(u=t.photoURL)!==null&&u!==void 0?u:void 0,R=(h=t.tenantId)!==null&&h!==void 0?h:void 0,N=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,D=(p=t.createdAt)!==null&&p!==void 0?p:void 0,A=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:F,emailVerified:H,isAnonymous:Y,providerData:ee,stsTokenManager:L}=t;Te(F&&L,e,"internal-error");const C=bo.fromJSON(this.name,L);Te(typeof F=="string",e,"internal-error"),_i(w,e.name),_i(E,e.name),Te(typeof H=="boolean",e,"internal-error"),Te(typeof Y=="boolean",e,"internal-error"),_i(P,e.name),_i(S,e.name),_i(R,e.name),_i(N,e.name),_i(D,e.name),_i(A,e.name);const x=new Bn({uid:F,auth:e,email:E,emailVerified:H,displayName:w,isAnonymous:Y,photoURL:S,phoneNumber:P,tenantId:R,stsTokenManager:C,createdAt:D,lastLoginAt:A});return ee&&Array.isArray(ee)&&(x.providerData=ee.map(k=>Object.assign({},k))),N&&(x._redirectEventId=N),x}static async _fromIdTokenResponse(e,t,r=!1){const s=new bo;s.updateFromServerResponse(t);const a=new Bn({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Uc(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Te(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?T0(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),h=new bo;h.updateFromIdToken(r);const f=new Bn({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new $f(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy=new Map;function Or(n){Hr(n instanceof Function,"Expected a class definition");let e=jy.get(n);return e?(Hr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,jy.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}S0.type="NONE";const Uy=S0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(n,e,t){return`firebase:${n}:${e}:${t}`}class No{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=yc(this.userKey,s.apiKey,a),this.fullPersistenceKey=yc("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await jc(this.auth,{idToken:e}).catch(()=>{});return t?Bn._fromGetAccountInfoResponse(this.auth,t,e):null}return Bn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new No(Or(Uy),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||Or(Uy);const u=yc(r,e.config.apiKey,e.name);let h=null;for(const p of t)try{const v=await p._get(u);if(v){let w;if(typeof v=="string"){const E=await jc(e,{idToken:v}).catch(()=>{});if(!E)break;w=await Bn._fromGetAccountInfoResponse(e,E,v)}else w=Bn._fromJSON(e,v);p!==a&&(h=w),a=p;break}}catch{}const f=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new No(a,e,r):(a=f[0],h&&await a._set(u,h.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(u)}catch{}})),new No(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(P0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(I0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(R0(e))return"Blackberry";if(k0(e))return"Webos";if(x0(e))return"Safari";if((e.includes("chrome/")||C0(e))&&!e.includes("edge/"))return"Chrome";if(A0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function I0(n=Bt()){return/firefox\//i.test(n)}function x0(n=Bt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function C0(n=Bt()){return/crios\//i.test(n)}function P0(n=Bt()){return/iemobile/i.test(n)}function A0(n=Bt()){return/android/i.test(n)}function R0(n=Bt()){return/blackberry/i.test(n)}function k0(n=Bt()){return/webos/i.test(n)}function Yp(n=Bt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function SR(n=Bt()){var e;return Yp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function IR(){return TI()&&document.documentMode===10}function b0(n=Bt()){return Yp(n)||A0(n)||k0(n)||R0(n)||/windows phone/i.test(n)||P0(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(n,e=[]){let t;switch(n){case"Browser":t=zy(Bt());break;case"Worker":t=`${zy(Bt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ko}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,h)=>{try{const f=e(a);u(f)}catch(f){h(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CR(n,e={}){return zi(n,"GET","/v2/passwordPolicy",Ui(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=6;class AR{constructor(e){var t,r,s,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:PR,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,a,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new By(this),this.idTokenSubscription=new By(this),this.beforeStateQueue=new xR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=y0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Or(t)),this._initializationPromise=this.queue(async()=>{var r,s,a;if(!this._deleted&&(this.persistenceManager=await No.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await jc(this,{idToken:e}),r=await Bn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(pn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Uc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pn(this.app))return Promise.reject(Fr(this));const t=e?wt(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pn(this.app)?Promise.reject(Fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pn(this.app)?Promise.reject(Fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Or(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await CR(this),t=new AR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new xl("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await TR(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Or(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await No.create(this,[Or(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=N0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&rR(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Bi(n){return wt(n)}class By{constructor(e){this.auth=e,this.observer=null,this.addObserver=kI(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let md={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kR(n){md=n}function D0(n){return md.loadJS(n)}function bR(){return md.recaptchaEnterpriseScript}function NR(){return md.gapiScript}function DR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class LR{constructor(){this.enterprise=new OR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class OR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const MR="recaptcha-enterprise",L0="NO_RECAPTCHA";class VR{constructor(e){this.type=MR,this.auth=Bi(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,h)=>{pR(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new fR(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,u(p.siteKey)}}).catch(f=>{h(f)})})}function s(a,u,h){const f=window.grecaptcha;Vy(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{u(p)}).catch(()=>{u(L0)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new LR().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(h=>{if(!t&&Vy(window.grecaptcha))s(h,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=bR();f.length!==0&&(f+=h),D0(f).then(()=>{s(h,a,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function $y(n,e,t,r=!1,s=!1){const a=new VR(n);let u;if(s)u=L0;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Hf(n,e,t,r,s){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await $y(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await $y(n,e,t,t==="getOobCode");return r(n,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(n,e){const t=op(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(ws(a,e??{}))return s;Cn(s,"already-initialized")}return t.initialize({options:e})}function jR(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Or);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function UR(n,e,t){const r=Bi(n);Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=O0(e),{host:u,port:h}=zR(e),f=h===null?"":`:${h}`,p={url:`${a}//${u}${f}/`},v=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Te(ws(p,r.config.emulator)&&ws(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,BR()}function O0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function zR(n){const e=O0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:Hy(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:Hy(u)}}}function Hy(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function BR(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Lr("not implemented")}_getIdTokenResponse(e){return Lr("not implemented")}_linkToIdToken(e,t){return Lr("not implemented")}_getReauthenticationResolver(e){return Lr("not implemented")}}async function $R(n,e){return zi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HR(n,e){return Ll(n,"POST","/v1/accounts:signInWithPassword",Ui(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WR(n,e){return Ll(n,"POST","/v1/accounts:signInWithEmailLink",Ui(n,e))}async function qR(n,e){return Ll(n,"POST","/v1/accounts:signInWithEmailLink",Ui(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl extends Xp{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Tl(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Tl(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hf(e,t,"signInWithPassword",HR);case"emailLink":return WR(e,{email:this._email,oobCode:this._password});default:Cn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hf(e,r,"signUpPassword",$R);case"emailLink":return qR(e,{idToken:t,email:this._email,oobCode:this._password});default:Cn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(n,e){return Ll(n,"POST","/v1/accounts:signInWithIdp",Ui(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="http://localhost";class xs extends Xp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new xs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Cn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,a=Wp(t,["providerId","signInMethod"]);if(!r||!s)return null;const u=new xs(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Do(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Do(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Do(e,t)}buildRequest(){const e={requestUri:GR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Cl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function QR(n){const e=tl(nl(n)).link,t=e?tl(nl(e)).deep_link_id:null,r=tl(nl(n)).deep_link_id;return(r?tl(nl(r)).link:null)||r||t||e||n}class Jp{constructor(e){var t,r,s,a,u,h;const f=tl(nl(e)),p=(t=f.apiKey)!==null&&t!==void 0?t:null,v=(r=f.oobCode)!==null&&r!==void 0?r:null,w=KR((s=f.mode)!==null&&s!==void 0?s:null);Te(p&&v&&w,"argument-error"),this.apiKey=p,this.operation=w,this.code=v,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=f.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=QR(e);try{return new Jp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(){this.providerId=ea.PROVIDER_ID}static credential(e,t){return Tl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Jp.parseLink(t);return Te(r,"argument-error"),Tl._fromEmailAndCode(e,r.code,r.tenantId)}}ea.PROVIDER_ID="password";ea.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ea.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol extends Zp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends Ol{constructor(){super("facebook.com")}static credential(e){return xs._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wi.credential(e.oauthAccessToken)}catch{return null}}}wi.FACEBOOK_SIGN_IN_METHOD="facebook.com";wi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends Ol{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return xs._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Dr.credential(t,r)}catch{return null}}}Dr.GOOGLE_SIGN_IN_METHOD="google.com";Dr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends Ol{constructor(){super("github.com")}static credential(e){return xs._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ei.credential(e.oauthAccessToken)}catch{return null}}}Ei.GITHUB_SIGN_IN_METHOD="github.com";Ei.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends Ol{constructor(){super("twitter.com")}static credential(e,t){return xs._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ti.credential(t,r)}catch{return null}}}Ti.TWITTER_SIGN_IN_METHOD="twitter.com";Ti.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YR(n,e){return Ll(n,"POST","/v1/accounts:signUp",Ui(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await Bn._fromIdTokenResponse(e,r,s),u=Wy(r);return new Cs({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=Wy(r);return new Cs({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function Wy(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends Gr{constructor(e,t,r,s){var a;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,zc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new zc(e,t,r,s)}}function M0(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?zc._fromErrorAndOperation(n,a,e,r):a})}async function XR(n,e,t=!1){const r=await El(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Cs._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JR(n,e,t=!1){const{auth:r}=n;if(pn(r.app))return Promise.reject(Fr(r));const s="reauthenticate";try{const a=await El(n,M0(r,s,e,n),t);Te(a.idToken,r,"internal-error");const u=Qp(a.idToken);Te(u,r,"internal-error");const{sub:h}=u;return Te(n.uid===h,r,"user-mismatch"),Cs._forOperation(n,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Cn(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V0(n,e,t=!1){if(pn(n.app))return Promise.reject(Fr(n));const r="signIn",s=await M0(n,r,e),a=await Cs._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}async function ZR(n,e){return V0(Bi(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F0(n){const e=Bi(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function e1(n,e,t){if(pn(n.app))return Promise.reject(Fr(n));const r=Bi(n),u=await Hf(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",YR).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&F0(n),f}),h=await Cs._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function t1(n,e,t){return pn(n.app)?Promise.reject(Fr(n)):ZR(wt(n),ea.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&F0(n),r})}function n1(n,e,t,r){return wt(n).onIdTokenChanged(e,t,r)}function r1(n,e,t){return wt(n).beforeAuthStateChanged(e,t)}function i1(n,e,t,r){return wt(n).onAuthStateChanged(e,t,r)}function s1(n){return wt(n).signOut()}const Bc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Bc,"1"),this.storage.removeItem(Bc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=1e3,a1=10;class U0 extends j0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=b0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);IR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,a1):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},o1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}U0.type="LOCAL";const l1=U0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0 extends j0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}z0.type="SESSION";const B0=z0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new gd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const h=Array.from(u).map(async p=>p(t.origin,a)),f=await u1(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((h,f)=>{const p=em("",20);s.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(w){const E=w;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(E.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(){return window}function d1(n){hr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(){return typeof hr().WorkerGlobalScope<"u"&&typeof hr().importScripts=="function"}async function h1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function f1(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function p1(){return $0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="firebaseLocalStorageDb",m1=1,$c="firebaseLocalStorage",W0="fbase_key";class Ml{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function vd(n,e){return n.transaction([$c],e?"readwrite":"readonly").objectStore($c)}function g1(){const n=indexedDB.deleteDatabase(H0);return new Ml(n).toPromise()}function Wf(){const n=indexedDB.open(H0,m1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore($c,{keyPath:W0})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains($c)?e(r):(r.close(),await g1(),e(await Wf()))})})}async function qy(n,e,t){const r=vd(n,!0).put({[W0]:e,value:t});return new Ml(r).toPromise()}async function v1(n,e){const t=vd(n,!1).get(e),r=await new Ml(t).toPromise();return r===void 0?null:r.value}function Gy(n,e){const t=vd(n,!0).delete(e);return new Ml(t).toPromise()}const y1=800,_1=3;class q0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>_1)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gd._getInstance(p1()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await h1(),!this.activeServiceWorker)return;this.sender=new c1(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||f1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wf();return await qy(e,Bc,"1"),await Gy(e,Bc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>qy(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>v1(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Gy(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=vd(s,!1).getAll();return new Ml(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),y1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}q0.type="LOCAL";const w1=q0;new Dl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(n,e){return e?Or(e):(Te(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm extends Xp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Do(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Do(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Do(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function E1(n){return V0(n.auth,new tm(n),n.bypassAuthState)}function T1(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),JR(t,new tm(n),n.bypassAuthState)}async function S1(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),XR(t,new tm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return E1;case"linkViaPopup":case"linkViaRedirect":return S1;case"reauthViaPopup":case"reauthViaRedirect":return T1;default:Cn(this.auth,"internal-error")}}resolve(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1=new Dl(2e3,1e4);async function Q0(n,e,t){if(pn(n.app))return Promise.reject($n(n,"operation-not-supported-in-this-environment"));const r=Bi(n);iR(n,e,Zp);const s=G0(r,t);return new _s(r,"signInViaPopup",e,s).executeNotNull()}class _s extends K0{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,_s.currentPopupAction&&_s.currentPopupAction.cancel(),_s.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Hr(this.filter.length===1,"Popup operations only handle one event");const e=em();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject($n(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject($n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_s.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($n(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,I1.get())};e()}}_s.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="pendingRedirect",_c=new Map;class C1 extends K0{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=_c.get(this.auth._key());if(!e){try{const r=await P1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}_c.set(this.auth._key(),e)}return this.bypassAuthState||_c.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function P1(n,e){const t=k1(e),r=R1(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function A1(n,e){_c.set(n._key(),e)}function R1(n){return Or(n._redirectPersistence)}function k1(n){return yc(x1,n.config.apiKey,n.name)}async function b1(n,e,t=!1){if(pn(n.app))return Promise.reject(Fr(n));const r=Bi(n),s=G0(r,e),u=await new C1(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1=10*60*1e3;class D1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!L1(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Y0(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError($n(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=N1&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ky(e))}saveEventToCache(e){this.cachedEventUids.add(Ky(e)),this.lastProcessedEventTime=Date.now()}}function Ky(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Y0({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function L1(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Y0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O1(n,e={}){return zi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,V1=/^https?/;async function F1(n){if(n.config.emulator)return;const{authorizedDomains:e}=await O1(n);for(const t of e)try{if(j1(t))return}catch{}Cn(n,"unauthorized-domain")}function j1(n){const e=Bf(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!V1.test(t))return!1;if(M1.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=new Dl(3e4,6e4);function Qy(){const n=hr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function z1(n){return new Promise((e,t)=>{var r,s,a;function u(){Qy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Qy(),t($n(n,"network-request-failed"))},timeout:U1.get()})}if(!((s=(r=hr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=hr().gapi)===null||a===void 0)&&a.load)u();else{const h=DR("iframefcb");return hr()[h]=()=>{gapi.load?u():t($n(n,"network-request-failed"))},D0(`${NR()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw wc=null,e})}let wc=null;function B1(n){return wc=wc||z1(n),wc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=new Dl(5e3,15e3),H1="__/auth/iframe",W1="emulator/auth/iframe",q1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},G1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function K1(n){const e=n.config;Te(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Kp(e,W1):`https://${n.config.authDomain}/${H1}`,r={apiKey:e.apiKey,appName:n.name,v:Ko},s=G1.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Cl(r).slice(1)}`}async function Q1(n){const e=await B1(n),t=hr().gapi;return Te(t,n,"internal-error"),e.open({where:document.body,url:K1(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:q1,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=$n(n,"network-request-failed"),h=hr().setTimeout(()=>{a(u)},$1.get());function f(){hr().clearTimeout(h),s(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},X1=500,J1=600,Z1="_blank",ek="http://localhost";class Yy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tk(n,e,t,r=X1,s=J1){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f=Object.assign(Object.assign({},Y1),{width:r.toString(),height:s.toString(),top:a,left:u}),p=Bt().toLowerCase();t&&(h=C0(p)?Z1:t),I0(p)&&(e=e||ek,f.scrollbars="yes");const v=Object.entries(f).reduce((E,[P,S])=>`${E}${P}=${S},`,"");if(SR(p)&&h!=="_self")return nk(e||"",h),new Yy(null);const w=window.open(e||"",h,v);Te(w,n,"popup-blocked");try{w.focus()}catch{}return new Yy(w)}function nk(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk="__/auth/handler",ik="emulator/auth/handler",sk=encodeURIComponent("fac");async function Xy(n,e,t,r,s,a){Te(n.config.authDomain,n,"auth-domain-config-required"),Te(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ko,eventId:s};if(e instanceof Zp){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",RI(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,w]of Object.entries({}))u[v]=w}if(e instanceof Ol){const v=e.getScopes().filter(w=>w!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const f=await n._getAppCheckToken(),p=f?`#${sk}=${encodeURIComponent(f)}`:"";return`${ok(n)}?${Cl(h).slice(1)}${p}`}function ok({config:n}){return n.emulator?Kp(n,ik):`https://${n.authDomain}/${rk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf="webStorageSupport";class ak{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=B0,this._completeRedirectFn=b1,this._overrideRedirectResult=A1}async _openPopup(e,t,r,s){var a;Hr((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await Xy(e,t,r,Bf(),s);return tk(e,u,em())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await Xy(e,t,r,Bf(),s);return d1(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(Hr(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await Q1(e),r=new D1(e);return t.register("authEvent",s=>(Te(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(lf,{type:lf},s=>{var a;const u=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[lf];u!==void 0&&t(!!u),Cn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=F1(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return b0()||x0()||Yp()}}const lk=ak;var Jy="@firebase/auth",Zy="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dk(n){Oo(new Es("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Te(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:N0(n)},p=new RR(r,s,a,f);return jR(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Oo(new Es("auth-internal",e=>{const t=Bi(e.getProvider("auth").getImmediate());return(r=>new uk(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pi(Jy,Zy,ck(n)),Pi(Jy,Zy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=5*60,fk=A_("authIdTokenMaxAge")||hk;let e_=null;const pk=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>fk)return;const s=t==null?void 0:t.token;e_!==s&&(e_=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function mk(n=N_()){const e=op(n,"auth");if(e.isInitialized())return e.getImmediate();const t=FR(n,{popupRedirectResolver:lk,persistence:[w1,l1,B0]}),r=A_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=pk(a.toString());r1(t,u,()=>u(t.currentUser)),n1(t,h=>u(h))}}const s=C_("auth");return s&&UR(t,`http://${s}`),t}function gk(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}kR({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=$n("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",gk().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dk("Browser");const vk={apiKey:"AIzaSyBFFgGmPPhDh-C0d_2iZjtTRQJWLfkYWCI",authDomain:"ecommerce-dded7.firebaseapp.com",projectId:"ecommerce-dded7",storageBucket:"ecommerce-dded7.firebasestorage.app",messagingSenderId:"1054471483053",appId:"1:1054471483053:web:6ed2e78ec39e8488426024",measurementId:"G-1ER1RHD5SK"},X0=b_(vk),Ho=mk(X0),J0=new Dr,Wr=OA(X0),Z0=B.createContext(),ta=()=>B.useContext(Z0),yk=({children:n})=>{const[e,t]=B.useState(null),[r,s]=B.useState(!0);B.useEffect(()=>i1(Ho,async f=>{if(f){const p=Is(Wr,"users",f.uid);(await wl(p)).exists()||await p0(p,{uid:f.uid,email:f.email,name:f.displayName||"",createdAt:new Date}),t(f)}else t(null);s(!1)}),[]);const u={user:e,logout:async()=>{try{await s1(Ho)}catch(h){console.error("Logout failed:",h.message)}}};return M.jsx(Z0.Provider,{value:u,children:!r&&n})},eE=B.createContext(),Vl=()=>B.useContext(eE),Za=n=>n.ProductID??n.id??n.sku??n.ProductName,_k=({children:n})=>{const{user:e}=ta(),[t,r]=B.useState([]),[s,a]=B.useState(!0),u=B.useRef(!1);B.useEffect(()=>{(async()=>{if(!e||u.current)return;const E=Is(Wr,"users",e.uid),P=await wl(E);if(P.exists()){const N=(P.data().cart||[]).map(D=>({...D,quantity:D.quantity||1}));r(N)}u.current=!0,a(!1)})()},[e]),B.useEffect(()=>{(async()=>{if(e&&u.current){const E=Is(Wr,"users",e.uid);await p0(E,{cart:t},{merge:!0})}})()},[t,e]);const h=w=>{const E=Za(w);r(P=>P.find(R=>Za(R)===E)?P.map(R=>Za(R)===E?{...R,quantity:(R.quantity||1)+1}:R):[...P,{...w,quantity:1}])},f=w=>{r(E=>E.filter(P=>Za(P)!==w))},p=(w,E)=>{r(P=>P.map(S=>Za(S)===w?{...S,quantity:E}:S))},v=()=>{r([])};return M.jsx(eE.Provider,{value:{cart:t,addToCart:h,removeFromCart:f,clearCart:v,updateQuantity:p,loading:s},children:n})},wk=()=>{const{cart:n}=Vl(),{user:e,logout:t}=ta(),r=qr(),s=n.reduce((u,h)=>u+h.quantity,0),a=async()=>{await t(),r("/")};return M.jsxs("nav",{className:"bg-white/80 backdrop-blur-sm shadow-md px-10 py-5 flex justify-between items-center sticky top-0 z-50 border-b border-gray-200",children:[M.jsx(ar,{to:"/home",className:"text-3xl font-serif font-extrabold tracking-tight text-gray-900 hover:text-indigo-600 transition-all duration-300",children:"Qlothe"}),M.jsxs("ul",{className:"flex space-x-8 text-gray-800 font-medium items-center text-lg",children:[M.jsx("li",{children:M.jsx(ar,{to:"/home",className:"hover:text-indigo-600 hover:underline underline-offset-4 transition-all duration-200",children:"Home"})}),M.jsx("li",{children:M.jsx(ar,{to:"/products",className:"hover:text-indigo-600 hover:underline underline-offset-4 transition-all duration-200",children:"Shop"})}),M.jsx("li",{className:"relative",children:M.jsxs(ar,{to:"/cart",className:"hover:text-indigo-600 hover:underline underline-offset-4 transition-all duration-200",children:["Cart",s>0&&M.jsx("span",{className:"absolute -top-4 -right-4 bg-rose-500 text-white text-[12px] font-bold rounded-full w-6 h-6 flex items-center justify-center shadow-xl ring-2 ring-white",children:s})]})}),e?M.jsxs(M.Fragment,{children:[M.jsx("li",{children:M.jsx(ar,{to:"/profile",className:"hover:text-indigo-600 hover:underline underline-offset-4 transition-all duration-200",children:"Profile"})}),M.jsx("li",{children:M.jsx("button",{onClick:a,className:"text-red-500 hover:text-red-700 font-semibold transition-all duration-200",children:"Logout"})})]}):M.jsx("li",{children:M.jsx(ar,{to:"/",className:"hover:text-indigo-600 hover:underline underline-offset-4 transition-all duration-200",children:"Login"})})]})]})},tE=({product:n})=>{var S;const{cart:e=[],addToCart:t=()=>{},removeFromCart:r=()=>{},updateQuantity:s=()=>{}}=Vl()||{},a=n.ProductID??n.sku??n.id,u=n.ProductName??n.name??"Unnamed Product",h=n.ProductBrand??n.brand??"Unknown Brand",f=parseFloat(n.Price??n.price??0),p=((S=n.imageArray)==null?void 0:S[0])||(typeof n.images=="string"&&n.images.includes("~")?n.images.split("~")[0].trim():n.images)||"/placeholder.jpg",v=e.find(R=>R.ProductID===a||R.id===a||R.sku===a),w=()=>{t({ProductID:a,ProductName:u,ProductBrand:h,Price:f,image:p,quantity:1})},E=()=>{s(a,((v==null?void 0:v.quantity)||1)+1)},P=()=>{((v==null?void 0:v.quantity)||1)>1?s(a,v.quantity-1):r(a)};return M.jsxs("div",{className:"bg-white rounded-2xl shadow-sm hover:shadow-lg transition-all duration-300 border border-gray-100 p-4 flex flex-col",children:[M.jsxs("div",{className:"relative overflow-hidden rounded-xl",children:[M.jsx("img",{src:p,alt:u,className:"w-full h-64 object-cover rounded-xl transition-transform duration-300 hover:scale-105"}),M.jsx("span",{className:"absolute top-3 left-3 bg-black text-white text-xs px-2 py-1 rounded-full uppercase tracking-wide",children:h})]}),M.jsxs("div",{className:"mt-5 flex-1 flex flex-col",children:[M.jsx("h3",{className:"text-lg font-semibold text-gray-800 truncate",children:u}),M.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:["by ",h]}),M.jsxs("p",{className:"text-lg font-bold text-gray-900 mt-2",children:["₹",f.toFixed(2)]}),M.jsxs("div",{className:"flex justify-between items-center mt-auto pt-4",children:[M.jsx(ar,{to:`/products/${a}`,className:"text-sm font-medium text-blue-600 hover:underline hover:text-blue-700 transition",children:"View Details"}),v?M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("button",{onClick:P,className:"px-2 py-1 bg-gray-200 hover:bg-gray-300 rounded-full text-sm font-semibold",children:"−"}),M.jsx("span",{className:"px-2 text-sm font-medium",children:v.quantity}),M.jsx("button",{onClick:E,className:"px-2 py-1 bg-gray-200 hover:bg-gray-300 rounded-full text-sm font-semibold",children:"+"})]}):M.jsx("button",{onClick:w,className:"bg-gray-900 hover:bg-gray-800 text-white text-sm font-semibold px-4 py-2 rounded-full transition-all duration-300",children:"Add to Cart"})]})]})]})},nE=()=>M.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-lg border border-gray-100 space-y-6 animate-pulse transition-all duration-300",children:[M.jsxs("div",{className:"relative h-64 bg-gray-100 rounded-2xl overflow-hidden",children:[M.jsx("div",{className:"absolute inset-0 animate-shimmer bg-[linear-gradient(90deg,#f3f4f6_0%,#e5e7eb_50%,#f3f4f6_100%)] bg-[length:200%_100%]"}),M.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:M.jsx("div",{className:"w-10 h-10 border-[5px] border-t-transparent border-gray-300 rounded-full animate-spin"})})]}),M.jsx("div",{className:"h-4 w-3/4 bg-gray-200 rounded-full relative overflow-hidden mx-auto",children:M.jsx("div",{className:"absolute inset-0 animate-shimmer bg-[linear-gradient(90deg,#f3f4f6_0%,#e5e7eb_50%,#f3f4f6_100%)] bg-[length:200%_100%]"})}),M.jsx("div",{className:"h-4 w-1/3 bg-gray-200 rounded-full relative overflow-hidden mx-auto",children:M.jsx("div",{className:"absolute inset-0 animate-shimmer bg-[linear-gradient(90deg,#f3f4f6_0%,#e5e7eb_50%,#f3f4f6_100%)] bg-[length:200%_100%]"})})]}),Ek=({products:n=[],loading:e=!1})=>{const t=n.slice(0,9),r=qr();return M.jsxs("div",{className:"bg-white font-sans",children:[M.jsxs("section",{className:"bg-gradient-to-r from-[#f0f4ff] to-[#e6e8f5] px-6 py-24 text-center",children:[M.jsxs("h1",{className:"text-4xl md:text-5xl font-extrabold text-gray-900 mb-4 tracking-tight leading-tight",children:["Welcome to ",M.jsx("span",{className:"text-blue-600",children:"Qlothe"})]}),M.jsx("p",{className:"text-lg md:text-xl text-gray-600 max-w-2xl mx-auto mb-6",children:"Elevate your style with curated fashion pieces that define modern elegance."}),M.jsx("button",{onClick:()=>r("/products"),className:"mt-4 bg-gray-900 hover:bg-gray-800 text-white text-sm font-semibold px-6 py-3 rounded-full shadow-lg transition-all duration-300",children:"Shop Now"})]}),M.jsxs("section",{className:"max-w-7xl mx-auto px-6 py-16",children:[M.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-10 text-center tracking-wide",children:"Featured Products"}),e?M.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-10",children:Array.from({length:9}).map((s,a)=>M.jsx(nE,{},a))}):t.length>0?M.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-10",children:t.map(s=>M.jsx(tE,{product:s},s.id))}):M.jsx("p",{className:"text-center text-gray-500 mt-6 text-lg",children:"No featured products available at the moment."})]})]})};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Sk=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),t_=n=>{const e=Sk(n);return e.charAt(0).toUpperCase()+e.slice(1)},rE=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ik={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=B.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:u,...h},f)=>B.createElement("svg",{ref:f,...Ik,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:rE("lucide",s),...h},[...u.map(([p,v])=>B.createElement(p,v)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=(n,e)=>{const t=B.forwardRef(({className:r,...s},a)=>B.createElement(xk,{ref:a,iconNode:e,className:rE(`lucide-${Tk(t_(n))}`,`lucide-${n}`,r),...s}));return t.displayName=t_(n),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Ak=Ck("arrow-up",Pk),Rk=()=>{const[n,e]=B.useState(!1);B.useEffect(()=>{const r=()=>{e(window.scrollY>300)};return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[]);const t=()=>{window.scrollTo({top:0,behavior:"smooth"})};return n?M.jsx("button",{onClick:t,className:"fixed bottom-6 right-6 bg-black text-white p-3 rounded-full shadow-lg hover:bg-blue-700",children:M.jsx(Ak,{})}):null},kk=({products:n=[],loading:e,error:t,onLoadMore:r,hasMore:s})=>{const[a,u]=B.useState(""),[h,f]=B.useState("all"),p=n.filter(v=>{var D,A,F,H;const w=((D=v.gender)==null?void 0:D.toLowerCase())||"",E=((A=v.name)==null?void 0:A.toLowerCase())||"",P=((F=v.brand)==null?void 0:F.toLowerCase())||"",S=((H=v.description)==null?void 0:H.toLowerCase())||"",R=h==="all"||w===h.toLowerCase(),N=E.includes(a.toLowerCase())||P.includes(a.toLowerCase())||S.includes(a.toLowerCase());return R&&N});return M.jsxs("div",{className:"min-h-screen bg-gray-50 py-12 px-6 md:px-12 lg:px-20",children:[M.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4 mb-10",children:[M.jsx("input",{type:"text",placeholder:"Search stylish essentials...",value:a,onChange:v=>u(v.target.value),className:"w-full md:w-1/2 border border-gray-200 bg-white p-3 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder-gray-400 text-sm transition"}),M.jsxs("select",{value:h,onChange:v=>f(v.target.value),className:"w-full md:w-1/4 border border-gray-200 bg-white p-3 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm transition",children:[M.jsx("option",{value:"all",children:"All Genders"}),M.jsx("option",{value:"Men",children:"Men"}),M.jsx("option",{value:"Women",children:"Women"})]})]}),e&&n.length===0?M.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-8",children:Array.from({length:8}).map((v,w)=>M.jsx(nE,{},w))}):t?M.jsx("div",{className:"text-center text-red-500 text-lg font-semibold mt-12",children:t}):p.length>0?M.jsxs(M.Fragment,{children:[M.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-8",children:p.map(v=>M.jsx(tE,{product:v},v.id))}),s&&M.jsx("div",{className:"text-center mt-14",children:M.jsx("button",{onClick:()=>r(!0),className:"bg-gray-900 hover:bg-gray-800 text-white text-sm font-medium px-8 py-3 rounded-full shadow-md transition-all duration-300 disabled:opacity-50",disabled:e,children:e?"Loading more...":"Load More"})})]}):M.jsx("div",{className:"text-center mt-20 text-gray-500 text-lg font-medium",children:"No products match your search. Try something else!"}),M.jsx(Rk,{})]})};function n_(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function nm(n,e){n===void 0&&(n={}),e===void 0&&(e={});const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:n_(e[r])&&n_(n[r])&&Object.keys(e[r]).length>0&&nm(n[r],e[r])})}const iE={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function ks(){const n=typeof document<"u"?document:{};return nm(n,iE),n}const bk={document:iE,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function Kt(){const n=typeof window<"u"?window:{};return nm(n,bk),n}function Nk(n){return n===void 0&&(n=""),n.trim().split(" ").filter(e=>!!e.trim())}function Dk(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function qf(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function Hc(){return Date.now()}function Lk(n){const e=Kt();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function Ok(n,e){e===void 0&&(e="x");const t=Kt();let r,s,a;const u=Lk(n);return t.WebKitCSSMatrix?(s=u.transform||u.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(h=>h.replace(",",".")).join(", ")),a=new t.WebKitCSSMatrix(s==="none"?"":s)):(a=u.MozTransform||u.OTransform||u.MsTransform||u.msTransform||u.transform||u.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=a.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?s=a.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),e==="y"&&(t.WebKitCSSMatrix?s=a.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function ac(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function Mk(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function fn(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const r=t<0||arguments.length<=t?void 0:arguments[t];if(r!=null&&!Mk(r)){const s=Object.keys(Object(r)).filter(a=>e.indexOf(a)<0);for(let a=0,u=s.length;a<u;a+=1){const h=s[a],f=Object.getOwnPropertyDescriptor(r,h);f!==void 0&&f.enumerable&&(ac(n[h])&&ac(r[h])?r[h].__swiper__?n[h]=r[h]:fn(n[h],r[h]):!ac(n[h])&&ac(r[h])?(n[h]={},r[h].__swiper__?n[h]=r[h]:fn(n[h],r[h])):n[h]=r[h])}}}return n}function lc(n,e,t){n.style.setProperty(e,t)}function sE(n){let{swiper:e,targetPosition:t,side:r}=n;const s=Kt(),a=-e.translate;let u=null,h;const f=e.params.speed;e.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(e.cssModeFrameID);const p=t>a?"next":"prev",v=(E,P)=>p==="next"&&E>=P||p==="prev"&&E<=P,w=()=>{h=new Date().getTime(),u===null&&(u=h);const E=Math.max(Math.min((h-u)/f,1),0),P=.5-Math.cos(E*Math.PI)/2;let S=a+P*(t-a);if(v(S,t)&&(S=t),e.wrapperEl.scrollTo({[r]:S}),v(S,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:S})}),s.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=s.requestAnimationFrame(w)};w()}function lr(n,e){e===void 0&&(e="");const t=Kt(),r=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&r.push(...n.assignedElements()),e?r.filter(s=>s.matches(e)):r}function Vk(n,e){const t=[e];for(;t.length>0;){const r=t.shift();if(n===r)return!0;t.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function Fk(n,e){const t=Kt();let r=e.contains(n);return!r&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(n),r||(r=Vk(n,e))),r}function Wc(n){try{console.warn(n);return}catch{}}function qc(n,e){e===void 0&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:Nk(e)),t}function jk(n,e){const t=[];for(;n.previousElementSibling;){const r=n.previousElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function Uk(n,e){const t=[];for(;n.nextElementSibling;){const r=n.nextElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function Ii(n,e){return Kt().getComputedStyle(n,null).getPropertyValue(e)}function Gc(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function oE(n,e){const t=[];let r=n.parentElement;for(;r;)e?r.matches(e)&&t.push(r):t.push(r),r=r.parentElement;return t}function Gf(n,e,t){const r=Kt();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Pt(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}let uf;function zk(){const n=Kt(),e=ks();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function aE(){return uf||(uf=zk()),uf}let cf;function Bk(n){let{userAgent:e}=n===void 0?{}:n;const t=aE(),r=Kt(),s=r.navigator.platform,a=e||r.navigator.userAgent,u={ios:!1,android:!1},h=r.screen.width,f=r.screen.height,p=a.match(/(Android);?[\s\/]+([\d.]+)?/);let v=a.match(/(iPad).*OS\s([\d_]+)/);const w=a.match(/(iPod)(.*OS\s([\d_]+))?/),E=!v&&a.match(/(iPhone\sOS|iOS)\s([\d_]+)/),P=s==="Win32";let S=s==="MacIntel";const R=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!v&&S&&t.touch&&R.indexOf(`${h}x${f}`)>=0&&(v=a.match(/(Version)\/([\d.]+)/),v||(v=[0,1,"13_0_0"]),S=!1),p&&!P&&(u.os="android",u.android=!0),(v||E||w)&&(u.os="ios",u.ios=!0),u}function lE(n){return n===void 0&&(n={}),cf||(cf=Bk(n)),cf}let df;function $k(){const n=Kt(),e=lE();let t=!1;function r(){const h=n.navigator.userAgent.toLowerCase();return h.indexOf("safari")>=0&&h.indexOf("chrome")<0&&h.indexOf("android")<0}if(r()){const h=String(n.navigator.userAgent);if(h.includes("Version/")){const[f,p]=h.split("Version/")[1].split(" ")[0].split(".").map(v=>Number(v));t=f<16||f===16&&p<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),a=r(),u=a||s&&e.ios;return{isSafari:t||a,needPerspectiveFix:t,need3dFix:u,isWebView:s}}function uE(){return df||(df=$k()),df}function Hk(n){let{swiper:e,on:t,emit:r}=n;const s=Kt();let a=null,u=null;const h=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},f=()=>{!e||e.destroyed||!e.initialized||(a=new ResizeObserver(w=>{u=s.requestAnimationFrame(()=>{const{width:E,height:P}=e;let S=E,R=P;w.forEach(N=>{let{contentBoxSize:D,contentRect:A,target:F}=N;F&&F!==e.el||(S=A?A.width:(D[0]||D).inlineSize,R=A?A.height:(D[0]||D).blockSize)}),(S!==E||R!==P)&&h()})}),a.observe(e.el))},p=()=>{u&&s.cancelAnimationFrame(u),a&&a.unobserve&&e.el&&(a.unobserve(e.el),a=null)},v=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof s.ResizeObserver<"u"){f();return}s.addEventListener("resize",h),s.addEventListener("orientationchange",v)}),t("destroy",()=>{p(),s.removeEventListener("resize",h),s.removeEventListener("orientationchange",v)})}function Wk(n){let{swiper:e,extendParams:t,on:r,emit:s}=n;const a=[],u=Kt(),h=function(v,w){w===void 0&&(w={});const E=u.MutationObserver||u.WebkitMutationObserver,P=new E(S=>{if(e.__preventObserver__)return;if(S.length===1){s("observerUpdate",S[0]);return}const R=function(){s("observerUpdate",S[0])};u.requestAnimationFrame?u.requestAnimationFrame(R):u.setTimeout(R,0)});P.observe(v,{attributes:typeof w.attributes>"u"?!0:w.attributes,childList:e.isElement||(typeof w.childList>"u"?!0:w).childList,characterData:typeof w.characterData>"u"?!0:w.characterData}),a.push(P)},f=()=>{if(e.params.observer){if(e.params.observeParents){const v=oE(e.hostEl);for(let w=0;w<v.length;w+=1)h(v[w])}h(e.hostEl,{childList:e.params.observeSlideChildren}),h(e.wrapperEl,{attributes:!1})}},p=()=>{a.forEach(v=>{v.disconnect()}),a.splice(0,a.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",f),r("destroy",p)}var qk={on(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const s=t?"unshift":"push";return n.split(" ").forEach(a=>{r.eventsListeners[a]||(r.eventsListeners[a]=[]),r.eventsListeners[a][s](e)}),r},once(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function s(){r.off(n,s),s.__emitterProxy&&delete s.__emitterProxy;for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];e.apply(r,u)}return s.__emitterProxy=e,r.on(n,s,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const r=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[r](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(r=>{typeof e>"u"?t.eventsListeners[r]=[]:t.eventsListeners[r]&&t.eventsListeners[r].forEach((s,a)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&t.eventsListeners[r].splice(a,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,r;for(var s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return typeof a[0]=="string"||Array.isArray(a[0])?(e=a[0],t=a.slice(1,a.length),r=n):(e=a[0].events,t=a[0].data,r=a[0].context||n),t.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(f=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(p=>{p.apply(r,[f,...t])}),n.eventsListeners&&n.eventsListeners[f]&&n.eventsListeners[f].forEach(p=>{p.apply(r,t)})}),n}};function Gk(){const n=this;let e,t;const r=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=r.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=r.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(Ii(r,"padding-left")||0,10)-parseInt(Ii(r,"padding-right")||0,10),t=t-parseInt(Ii(r,"padding-top")||0,10)-parseInt(Ii(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function Kk(){const n=this;function e(k,O){return parseFloat(k.getPropertyValue(n.getDirectionLabel(O))||0)}const t=n.params,{wrapperEl:r,slidesEl:s,size:a,rtlTranslate:u,wrongRTL:h}=n,f=n.virtual&&t.virtual.enabled,p=f?n.virtual.slides.length:n.slides.length,v=lr(s,`.${n.params.slideClass}, swiper-slide`),w=f?n.virtual.slides.length:v.length;let E=[];const P=[],S=[];let R=t.slidesOffsetBefore;typeof R=="function"&&(R=t.slidesOffsetBefore.call(n));let N=t.slidesOffsetAfter;typeof N=="function"&&(N=t.slidesOffsetAfter.call(n));const D=n.snapGrid.length,A=n.slidesGrid.length;let F=t.spaceBetween,H=-R,Y=0,ee=0;if(typeof a>"u")return;typeof F=="string"&&F.indexOf("%")>=0?F=parseFloat(F.replace("%",""))/100*a:typeof F=="string"&&(F=parseFloat(F)),n.virtualSize=-F,v.forEach(k=>{u?k.style.marginLeft="":k.style.marginRight="",k.style.marginBottom="",k.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(lc(r,"--swiper-centered-offset-before",""),lc(r,"--swiper-centered-offset-after",""));const L=t.grid&&t.grid.rows>1&&n.grid;L?n.grid.initSlides(v):n.grid&&n.grid.unsetSlides();let C;const x=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(k=>typeof t.breakpoints[k].slidesPerView<"u").length>0;for(let k=0;k<w;k+=1){C=0;let O;if(v[k]&&(O=v[k]),L&&n.grid.updateSlide(k,O,v),!(v[k]&&Ii(O,"display")==="none")){if(t.slidesPerView==="auto"){x&&(v[k].style[n.getDirectionLabel("width")]="");const j=getComputedStyle(O),b=O.style.transform,Ee=O.style.webkitTransform;if(b&&(O.style.transform="none"),Ee&&(O.style.webkitTransform="none"),t.roundLengths)C=n.isHorizontal()?Gf(O,"width"):Gf(O,"height");else{const Pe=e(j,"width"),me=e(j,"padding-left"),Ie=e(j,"padding-right"),ie=e(j,"margin-left"),le=e(j,"margin-right"),ae=j.getPropertyValue("box-sizing");if(ae&&ae==="border-box")C=Pe+ie+le;else{const{clientWidth:$,offsetWidth:J}=O;C=Pe+me+Ie+ie+le+(J-$)}}b&&(O.style.transform=b),Ee&&(O.style.webkitTransform=Ee),t.roundLengths&&(C=Math.floor(C))}else C=(a-(t.slidesPerView-1)*F)/t.slidesPerView,t.roundLengths&&(C=Math.floor(C)),v[k]&&(v[k].style[n.getDirectionLabel("width")]=`${C}px`);v[k]&&(v[k].swiperSlideSize=C),S.push(C),t.centeredSlides?(H=H+C/2+Y/2+F,Y===0&&k!==0&&(H=H-a/2-F),k===0&&(H=H-a/2-F),Math.abs(H)<1/1e3&&(H=0),t.roundLengths&&(H=Math.floor(H)),ee%t.slidesPerGroup===0&&E.push(H),P.push(H)):(t.roundLengths&&(H=Math.floor(H)),(ee-Math.min(n.params.slidesPerGroupSkip,ee))%n.params.slidesPerGroup===0&&E.push(H),P.push(H),H=H+C+F),n.virtualSize+=C+F,Y=C,ee+=1}}if(n.virtualSize=Math.max(n.virtualSize,a)+N,u&&h&&(t.effect==="slide"||t.effect==="coverflow")&&(r.style.width=`${n.virtualSize+F}px`),t.setWrapperSize&&(r.style[n.getDirectionLabel("width")]=`${n.virtualSize+F}px`),L&&n.grid.updateWrapperSize(C,E),!t.centeredSlides){const k=[];for(let O=0;O<E.length;O+=1){let j=E[O];t.roundLengths&&(j=Math.floor(j)),E[O]<=n.virtualSize-a&&k.push(j)}E=k,Math.floor(n.virtualSize-a)-Math.floor(E[E.length-1])>1&&E.push(n.virtualSize-a)}if(f&&t.loop){const k=S[0]+F;if(t.slidesPerGroup>1){const O=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),j=k*t.slidesPerGroup;for(let b=0;b<O;b+=1)E.push(E[E.length-1]+j)}for(let O=0;O<n.virtual.slidesBefore+n.virtual.slidesAfter;O+=1)t.slidesPerGroup===1&&E.push(E[E.length-1]+k),P.push(P[P.length-1]+k),n.virtualSize+=k}if(E.length===0&&(E=[0]),F!==0){const k=n.isHorizontal()&&u?"marginLeft":n.getDirectionLabel("marginRight");v.filter((O,j)=>!t.cssMode||t.loop?!0:j!==v.length-1).forEach(O=>{O.style[k]=`${F}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let k=0;S.forEach(j=>{k+=j+(F||0)}),k-=F;const O=k>a?k-a:0;E=E.map(j=>j<=0?-R:j>O?O+N:j)}if(t.centerInsufficientSlides){let k=0;S.forEach(j=>{k+=j+(F||0)}),k-=F;const O=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(k+O<a){const j=(a-k-O)/2;E.forEach((b,Ee)=>{E[Ee]=b-j}),P.forEach((b,Ee)=>{P[Ee]=b+j})}}if(Object.assign(n,{slides:v,snapGrid:E,slidesGrid:P,slidesSizesGrid:S}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){lc(r,"--swiper-centered-offset-before",`${-E[0]}px`),lc(r,"--swiper-centered-offset-after",`${n.size/2-S[S.length-1]/2}px`);const k=-n.snapGrid[0],O=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(j=>j+k),n.slidesGrid=n.slidesGrid.map(j=>j+O)}if(w!==p&&n.emit("slidesLengthChange"),E.length!==D&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),P.length!==A&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!f&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const k=`${t.containerModifierClass}backface-hidden`,O=n.el.classList.contains(k);w<=t.maxBackfaceHiddenSlides?O||n.el.classList.add(k):O&&n.el.classList.remove(k)}}function Qk(n){const e=this,t=[],r=e.virtual&&e.params.virtual.enabled;let s=0,a;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const u=h=>r?e.slides[e.getSlideIndexByData(h)]:e.slides[h];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(h=>{t.push(h)});else for(a=0;a<Math.ceil(e.params.slidesPerView);a+=1){const h=e.activeIndex+a;if(h>e.slides.length&&!r)break;t.push(u(h))}else t.push(u(e.activeIndex));for(a=0;a<t.length;a+=1)if(typeof t[a]<"u"){const h=t[a].offsetHeight;s=h>s?h:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function Yk(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(n.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-t-n.cssOverflowAdjustment()}const r_=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function Xk(n){n===void 0&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:r,rtlTranslate:s,snapGrid:a}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let u=-n;s&&(u=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let h=t.spaceBetween;typeof h=="string"&&h.indexOf("%")>=0?h=parseFloat(h.replace("%",""))/100*e.size:typeof h=="string"&&(h=parseFloat(h));for(let f=0;f<r.length;f+=1){const p=r[f];let v=p.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(v-=r[0].swiperSlideOffset);const w=(u+(t.centeredSlides?e.minTranslate():0)-v)/(p.swiperSlideSize+h),E=(u-a[0]+(t.centeredSlides?e.minTranslate():0)-v)/(p.swiperSlideSize+h),P=-(u-v),S=P+e.slidesSizesGrid[f],R=P>=0&&P<=e.size-e.slidesSizesGrid[f],N=P>=0&&P<e.size-1||S>1&&S<=e.size||P<=0&&S>=e.size;N&&(e.visibleSlides.push(p),e.visibleSlidesIndexes.push(f)),r_(p,N,t.slideVisibleClass),r_(p,R,t.slideFullyVisibleClass),p.progress=s?-w:w,p.originalProgress=s?-E:E}}function Jk(n){const e=this;if(typeof n>"u"){const v=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*v||0}const t=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:a,isEnd:u,progressLoop:h}=e;const f=a,p=u;if(r===0)s=0,a=!0,u=!0;else{s=(n-e.minTranslate())/r;const v=Math.abs(n-e.minTranslate())<1,w=Math.abs(n-e.maxTranslate())<1;a=v||s<=0,u=w||s>=1,v&&(s=0),w&&(s=1)}if(t.loop){const v=e.getSlideIndexByData(0),w=e.getSlideIndexByData(e.slides.length-1),E=e.slidesGrid[v],P=e.slidesGrid[w],S=e.slidesGrid[e.slidesGrid.length-1],R=Math.abs(n);R>=E?h=(R-E)/S:h=(R+S-P)/S,h>1&&(h-=1)}Object.assign(e,{progress:s,progressLoop:h,isBeginning:a,isEnd:u}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),a&&!f&&e.emit("reachBeginning toEdge"),u&&!p&&e.emit("reachEnd toEdge"),(f&&!a||p&&!u)&&e.emit("fromEdge"),e.emit("progress",s)}const hf=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function Zk(){const n=this,{slides:e,params:t,slidesEl:r,activeIndex:s}=n,a=n.virtual&&t.virtual.enabled,u=n.grid&&t.grid&&t.grid.rows>1,h=w=>lr(r,`.${t.slideClass}${w}, swiper-slide${w}`)[0];let f,p,v;if(a)if(t.loop){let w=s-n.virtual.slidesBefore;w<0&&(w=n.virtual.slides.length+w),w>=n.virtual.slides.length&&(w-=n.virtual.slides.length),f=h(`[data-swiper-slide-index="${w}"]`)}else f=h(`[data-swiper-slide-index="${s}"]`);else u?(f=e.find(w=>w.column===s),v=e.find(w=>w.column===s+1),p=e.find(w=>w.column===s-1)):f=e[s];f&&(u||(v=Uk(f,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!v&&(v=e[0]),p=jk(f,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!p===0&&(p=e[e.length-1]))),e.forEach(w=>{hf(w,w===f,t.slideActiveClass),hf(w,w===v,t.slideNextClass),hf(w,w===p,t.slidePrevClass)}),n.emitSlidesClasses()}const Ec=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,r=e.closest(t());if(r){let s=r.querySelector(`.${n.params.lazyPreloaderClass}`);!s&&n.isElement&&(r.shadowRoot?s=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(s=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},ff=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},Kf=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const r=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),s=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const u=s,h=[u-e];h.push(...Array.from({length:e}).map((f,p)=>u+r+p)),n.slides.forEach((f,p)=>{h.includes(f.column)&&ff(n,p)});return}const a=s+r-1;if(n.params.rewind||n.params.loop)for(let u=s-e;u<=a+e;u+=1){const h=(u%t+t)%t;(h<s||h>a)&&ff(n,h)}else for(let u=Math.max(s-e,0);u<=Math.min(a+e,t-1);u+=1)u!==s&&(u>a||u<s)&&ff(n,u)};function eb(n){const{slidesGrid:e,params:t}=n,r=n.rtlTranslate?n.translate:-n.translate;let s;for(let a=0;a<e.length;a+=1)typeof e[a+1]<"u"?r>=e[a]&&r<e[a+1]-(e[a+1]-e[a])/2?s=a:r>=e[a]&&r<e[a+1]&&(s=a+1):r>=e[a]&&(s=a);return t.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function tb(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:s,activeIndex:a,realIndex:u,snapIndex:h}=e;let f=n,p;const v=P=>{let S=P-e.virtual.slidesBefore;return S<0&&(S=e.virtual.slides.length+S),S>=e.virtual.slides.length&&(S-=e.virtual.slides.length),S};if(typeof f>"u"&&(f=eb(e)),r.indexOf(t)>=0)p=r.indexOf(t);else{const P=Math.min(s.slidesPerGroupSkip,f);p=P+Math.floor((f-P)/s.slidesPerGroup)}if(p>=r.length&&(p=r.length-1),f===a&&!e.params.loop){p!==h&&(e.snapIndex=p,e.emit("snapIndexChange"));return}if(f===a&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=v(f);return}const w=e.grid&&s.grid&&s.grid.rows>1;let E;if(e.virtual&&s.virtual.enabled&&s.loop)E=v(f);else if(w){const P=e.slides.find(R=>R.column===f);let S=parseInt(P.getAttribute("data-swiper-slide-index"),10);Number.isNaN(S)&&(S=Math.max(e.slides.indexOf(P),0)),E=Math.floor(S/s.grid.rows)}else if(e.slides[f]){const P=e.slides[f].getAttribute("data-swiper-slide-index");P?E=parseInt(P,10):E=f}else E=f;Object.assign(e,{previousSnapIndex:h,snapIndex:p,previousRealIndex:u,realIndex:E,previousIndex:a,activeIndex:f}),e.initialized&&Kf(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(u!==E&&e.emit("realIndexChange"),e.emit("slideChange"))}function nb(n,e){const t=this,r=t.params;let s=n.closest(`.${r.slideClass}, swiper-slide`);!s&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(h=>{!s&&h.matches&&h.matches(`.${r.slideClass}, swiper-slide`)&&(s=h)});let a=!1,u;if(s){for(let h=0;h<t.slides.length;h+=1)if(t.slides[h]===s){a=!0,u=h;break}}if(s&&a)t.clickedSlide=s,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=u;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}r.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var rb={updateSize:Gk,updateSlides:Kk,updateAutoHeight:Qk,updateSlidesOffset:Yk,updateSlidesProgress:Xk,updateProgress:Jk,updateSlidesClasses:Zk,updateActiveIndex:tb,updateClickedSlide:nb};function ib(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:r,translate:s,wrapperEl:a}=e;if(t.virtualTranslate)return r?-s:s;if(t.cssMode)return s;let u=Ok(a,n);return u+=e.cssOverflowAdjustment(),r&&(u=-u),u||0}function sb(n,e){const t=this,{rtlTranslate:r,params:s,wrapperEl:a,progress:u}=t;let h=0,f=0;const p=0;t.isHorizontal()?h=r?-n:n:f=n,s.roundLengths&&(h=Math.floor(h),f=Math.floor(f)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?h:f,s.cssMode?a[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-h:-f:s.virtualTranslate||(t.isHorizontal()?h-=t.cssOverflowAdjustment():f-=t.cssOverflowAdjustment(),a.style.transform=`translate3d(${h}px, ${f}px, ${p}px)`);let v;const w=t.maxTranslate()-t.minTranslate();w===0?v=0:v=(n-t.minTranslate())/w,v!==u&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function ob(){return-this.snapGrid[0]}function ab(){return-this.snapGrid[this.snapGrid.length-1]}function lb(n,e,t,r,s){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),r===void 0&&(r=!0);const a=this,{params:u,wrapperEl:h}=a;if(a.animating&&u.preventInteractionOnTransition)return!1;const f=a.minTranslate(),p=a.maxTranslate();let v;if(r&&n>f?v=f:r&&n<p?v=p:v=n,a.updateProgress(v),u.cssMode){const w=a.isHorizontal();if(e===0)h[w?"scrollLeft":"scrollTop"]=-v;else{if(!a.support.smoothScroll)return sE({swiper:a,targetPosition:-v,side:w?"left":"top"}),!0;h.scrollTo({[w?"left":"top"]:-v,behavior:"smooth"})}return!0}return e===0?(a.setTransition(0),a.setTranslate(v),t&&(a.emit("beforeTransitionStart",e,s),a.emit("transitionEnd"))):(a.setTransition(e),a.setTranslate(v),t&&(a.emit("beforeTransitionStart",e,s),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(E){!a||a.destroyed||E.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,a.animating=!1,t&&a.emit("transitionEnd"))}),a.wrapperEl.addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd))),!0}var ub={getTranslate:ib,setTranslate:sb,minTranslate:ob,maxTranslate:ab,translateTo:lb};function cb(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function cE(n){let{swiper:e,runCallbacks:t,direction:r,step:s}=n;const{activeIndex:a,previousIndex:u}=e;let h=r;if(h||(a>u?h="next":a<u?h="prev":h="reset"),e.emit(`transition${s}`),t&&a!==u){if(h==="reset"){e.emit(`slideResetTransition${s}`);return}e.emit(`slideChangeTransition${s}`),h==="next"?e.emit(`slideNextTransition${s}`):e.emit(`slidePrevTransition${s}`)}}function db(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;r.cssMode||(r.autoHeight&&t.updateAutoHeight(),cE({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function hb(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;t.animating=!1,!r.cssMode&&(t.setTransition(0),cE({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var fb={setTransition:cb,transitionStart:db,transitionEnd:hb};function pb(n,e,t,r,s){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const a=this;let u=n;u<0&&(u=0);const{params:h,snapGrid:f,slidesGrid:p,previousIndex:v,activeIndex:w,rtlTranslate:E,wrapperEl:P,enabled:S}=a;if(!S&&!r&&!s||a.destroyed||a.animating&&h.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=a.params.speed);const R=Math.min(a.params.slidesPerGroupSkip,u);let N=R+Math.floor((u-R)/a.params.slidesPerGroup);N>=f.length&&(N=f.length-1);const D=-f[N];if(h.normalizeSlideIndex)for(let L=0;L<p.length;L+=1){const C=-Math.floor(D*100),x=Math.floor(p[L]*100),k=Math.floor(p[L+1]*100);typeof p[L+1]<"u"?C>=x&&C<k-(k-x)/2?u=L:C>=x&&C<k&&(u=L+1):C>=x&&(u=L)}if(a.initialized&&u!==w&&(!a.allowSlideNext&&(E?D>a.translate&&D>a.minTranslate():D<a.translate&&D<a.minTranslate())||!a.allowSlidePrev&&D>a.translate&&D>a.maxTranslate()&&(w||0)!==u))return!1;u!==(v||0)&&t&&a.emit("beforeSlideChangeStart"),a.updateProgress(D);let A;u>w?A="next":u<w?A="prev":A="reset";const F=a.virtual&&a.params.virtual.enabled;if(!(F&&s)&&(E&&-D===a.translate||!E&&D===a.translate))return a.updateActiveIndex(u),h.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),h.effect!=="slide"&&a.setTranslate(D),A!=="reset"&&(a.transitionStart(t,A),a.transitionEnd(t,A)),!1;if(h.cssMode){const L=a.isHorizontal(),C=E?D:-D;if(e===0)F&&(a.wrapperEl.style.scrollSnapType="none",a._immediateVirtual=!0),F&&!a._cssModeVirtualInitialSet&&a.params.initialSlide>0?(a._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{P[L?"scrollLeft":"scrollTop"]=C})):P[L?"scrollLeft":"scrollTop"]=C,F&&requestAnimationFrame(()=>{a.wrapperEl.style.scrollSnapType="",a._immediateVirtual=!1});else{if(!a.support.smoothScroll)return sE({swiper:a,targetPosition:C,side:L?"left":"top"}),!0;P.scrollTo({[L?"left":"top"]:C,behavior:"smooth"})}return!0}const ee=uE().isSafari;return F&&!s&&ee&&a.isElement&&a.virtual.update(!1,!1,u),a.setTransition(e),a.setTranslate(D),a.updateActiveIndex(u),a.updateSlidesClasses(),a.emit("beforeTransitionStart",e,r),a.transitionStart(t,A),e===0?a.transitionEnd(t,A):a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(C){!a||a.destroyed||C.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(t,A))}),a.wrapperEl.addEventListener("transitionend",a.onSlideToWrapperTransitionEnd)),!0}function mb(n,e,t,r){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const s=this;if(s.destroyed)return;typeof e>"u"&&(e=s.params.speed);const a=s.grid&&s.params.grid&&s.params.grid.rows>1;let u=n;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)u=u+s.virtual.slidesBefore;else{let h;if(a){const E=u*s.params.grid.rows;h=s.slides.find(P=>P.getAttribute("data-swiper-slide-index")*1===E).column}else h=s.getSlideIndexByData(u);const f=a?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:p}=s.params;let v=s.params.slidesPerView;v==="auto"?v=s.slidesPerViewDynamic():(v=Math.ceil(parseFloat(s.params.slidesPerView,10)),p&&v%2===0&&(v=v+1));let w=f-h<v;if(p&&(w=w||h<Math.ceil(v/2)),r&&p&&s.params.slidesPerView!=="auto"&&!a&&(w=!1),w){const E=p?h<s.activeIndex?"prev":"next":h-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:E,slideTo:!0,activeSlideIndex:E==="next"?h+1:h-f+1,slideRealIndex:E==="next"?s.realIndex:void 0})}if(a){const E=u*s.params.grid.rows;u=s.slides.find(P=>P.getAttribute("data-swiper-slide-index")*1===E).column}else u=s.getSlideIndexByData(u)}return requestAnimationFrame(()=>{s.slideTo(u,e,t,r)}),s}function gb(n,e,t){e===void 0&&(e=!0);const r=this,{enabled:s,params:a,animating:u}=r;if(!s||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);let h=a.slidesPerGroup;a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto&&(h=Math.max(r.slidesPerViewDynamic("current",!0),1));const f=r.activeIndex<a.slidesPerGroupSkip?1:h,p=r.virtual&&a.virtual.enabled;if(a.loop){if(u&&!p&&a.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&a.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+f,n,e,t)}),!0}return a.rewind&&r.isEnd?r.slideTo(0,n,e,t):r.slideTo(r.activeIndex+f,n,e,t)}function vb(n,e,t){e===void 0&&(e=!0);const r=this,{params:s,snapGrid:a,slidesGrid:u,rtlTranslate:h,enabled:f,animating:p}=r;if(!f||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);const v=r.virtual&&s.virtual.enabled;if(s.loop){if(p&&!v&&s.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const w=h?r.translate:-r.translate;function E(A){return A<0?-Math.floor(Math.abs(A)):Math.floor(A)}const P=E(w),S=a.map(A=>E(A)),R=s.freeMode&&s.freeMode.enabled;let N=a[S.indexOf(P)-1];if(typeof N>"u"&&(s.cssMode||R)){let A;a.forEach((F,H)=>{P>=F&&(A=H)}),typeof A<"u"&&(N=R?a[A]:a[A>0?A-1:A])}let D=0;if(typeof N<"u"&&(D=u.indexOf(N),D<0&&(D=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(D=D-r.slidesPerViewDynamic("previous",!0)+1,D=Math.max(D,0))),s.rewind&&r.isBeginning){const A=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(A,n,e,t)}else if(s.loop&&r.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(D,n,e,t)}),!0;return r.slideTo(D,n,e,t)}function yb(n,e,t){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof n>"u"&&(n=r.params.speed),r.slideTo(r.activeIndex,n,e,t)}function _b(n,e,t,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const s=this;if(s.destroyed)return;typeof n>"u"&&(n=s.params.speed);let a=s.activeIndex;const u=Math.min(s.params.slidesPerGroupSkip,a),h=u+Math.floor((a-u)/s.params.slidesPerGroup),f=s.rtlTranslate?s.translate:-s.translate;if(f>=s.snapGrid[h]){const p=s.snapGrid[h],v=s.snapGrid[h+1];f-p>(v-p)*r&&(a+=s.params.slidesPerGroup)}else{const p=s.snapGrid[h-1],v=s.snapGrid[h];f-p<=(v-p)*r&&(a-=s.params.slidesPerGroup)}return a=Math.max(a,0),a=Math.min(a,s.slidesGrid.length-1),s.slideTo(a,n,e,t)}function wb(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,r=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let s=n.clickedIndex,a;const u=n.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(n.animating)return;a=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?s<n.loopedSlides-r/2||s>n.slides.length-n.loopedSlides+r/2?(n.loopFix(),s=n.getSlideIndex(lr(t,`${u}[data-swiper-slide-index="${a}"]`)[0]),qf(()=>{n.slideTo(s)})):n.slideTo(s):s>n.slides.length-r?(n.loopFix(),s=n.getSlideIndex(lr(t,`${u}[data-swiper-slide-index="${a}"]`)[0]),qf(()=>{n.slideTo(s)})):n.slideTo(s)}else n.slideTo(s)}var Eb={slideTo:pb,slideToLoop:mb,slideNext:gb,slidePrev:vb,slideReset:yb,slideToClosest:_b,slideToClickedSlide:wb};function Tb(n,e){const t=this,{params:r,slidesEl:s}=t;if(!r.loop||t.virtual&&t.params.virtual.enabled)return;const a=()=>{lr(s,`.${r.slideClass}, swiper-slide`).forEach((E,P)=>{E.setAttribute("data-swiper-slide-index",P)})},u=t.grid&&r.grid&&r.grid.rows>1,h=r.slidesPerGroup*(u?r.grid.rows:1),f=t.slides.length%h!==0,p=u&&t.slides.length%r.grid.rows!==0,v=w=>{for(let E=0;E<w;E+=1){const P=t.isElement?qc("swiper-slide",[r.slideBlankClass]):qc("div",[r.slideClass,r.slideBlankClass]);t.slidesEl.append(P)}};if(f){if(r.loopAddBlankSlides){const w=h-t.slides.length%h;v(w),t.recalcSlides(),t.updateSlides()}else Wc("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");a()}else if(p){if(r.loopAddBlankSlides){const w=r.grid.rows-t.slides.length%r.grid.rows;v(w),t.recalcSlides(),t.updateSlides()}else Wc("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");a()}else a();t.loopFix({slideRealIndex:n,direction:r.centeredSlides?void 0:"next",initial:e})}function Sb(n){let{slideRealIndex:e,slideTo:t=!0,direction:r,setTranslate:s,activeSlideIndex:a,initial:u,byController:h,byMousewheel:f}=n===void 0?{}:n;const p=this;if(!p.params.loop)return;p.emit("beforeLoopFix");const{slides:v,allowSlidePrev:w,allowSlideNext:E,slidesEl:P,params:S}=p,{centeredSlides:R,initialSlide:N}=S;if(p.allowSlidePrev=!0,p.allowSlideNext=!0,p.virtual&&S.virtual.enabled){t&&(!S.centeredSlides&&p.snapIndex===0?p.slideTo(p.virtual.slides.length,0,!1,!0):S.centeredSlides&&p.snapIndex<S.slidesPerView?p.slideTo(p.virtual.slides.length+p.snapIndex,0,!1,!0):p.snapIndex===p.snapGrid.length-1&&p.slideTo(p.virtual.slidesBefore,0,!1,!0)),p.allowSlidePrev=w,p.allowSlideNext=E,p.emit("loopFix");return}let D=S.slidesPerView;D==="auto"?D=p.slidesPerViewDynamic():(D=Math.ceil(parseFloat(S.slidesPerView,10)),R&&D%2===0&&(D=D+1));const A=S.slidesPerGroupAuto?D:S.slidesPerGroup;let F=A;F%A!==0&&(F+=A-F%A),F+=S.loopAdditionalSlides,p.loopedSlides=F;const H=p.grid&&S.grid&&S.grid.rows>1;v.length<D+F||p.params.effect==="cards"&&v.length<D+F*2?Wc("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):H&&S.grid.fill==="row"&&Wc("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const Y=[],ee=[],L=H?Math.ceil(v.length/S.grid.rows):v.length,C=u&&L-N<D&&!R;let x=C?N:p.activeIndex;typeof a>"u"?a=p.getSlideIndex(v.find(me=>me.classList.contains(S.slideActiveClass))):x=a;const k=r==="next"||!r,O=r==="prev"||!r;let j=0,b=0;const Pe=(H?v[a].column:a)+(R&&typeof s>"u"?-D/2+.5:0);if(Pe<F){j=Math.max(F-Pe,A);for(let me=0;me<F-Pe;me+=1){const Ie=me-Math.floor(me/L)*L;if(H){const ie=L-Ie-1;for(let le=v.length-1;le>=0;le-=1)v[le].column===ie&&Y.push(le)}else Y.push(L-Ie-1)}}else if(Pe+D>L-F){b=Math.max(Pe-(L-F*2),A),C&&(b=Math.max(b,D-L+N+1));for(let me=0;me<b;me+=1){const Ie=me-Math.floor(me/L)*L;H?v.forEach((ie,le)=>{ie.column===Ie&&ee.push(le)}):ee.push(Ie)}}if(p.__preventObserver__=!0,requestAnimationFrame(()=>{p.__preventObserver__=!1}),p.params.effect==="cards"&&v.length<D+F*2&&(ee.includes(a)&&ee.splice(ee.indexOf(a),1),Y.includes(a)&&Y.splice(Y.indexOf(a),1)),O&&Y.forEach(me=>{v[me].swiperLoopMoveDOM=!0,P.prepend(v[me]),v[me].swiperLoopMoveDOM=!1}),k&&ee.forEach(me=>{v[me].swiperLoopMoveDOM=!0,P.append(v[me]),v[me].swiperLoopMoveDOM=!1}),p.recalcSlides(),S.slidesPerView==="auto"?p.updateSlides():H&&(Y.length>0&&O||ee.length>0&&k)&&p.slides.forEach((me,Ie)=>{p.grid.updateSlide(Ie,me,p.slides)}),S.watchSlidesProgress&&p.updateSlidesOffset(),t){if(Y.length>0&&O){if(typeof e>"u"){const me=p.slidesGrid[x],ie=p.slidesGrid[x+j]-me;f?p.setTranslate(p.translate-ie):(p.slideTo(x+Math.ceil(j),0,!1,!0),s&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-ie,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-ie))}else if(s){const me=H?Y.length/S.grid.rows:Y.length;p.slideTo(p.activeIndex+me,0,!1,!0),p.touchEventsData.currentTranslate=p.translate}}else if(ee.length>0&&k)if(typeof e>"u"){const me=p.slidesGrid[x],ie=p.slidesGrid[x-b]-me;f?p.setTranslate(p.translate-ie):(p.slideTo(x-b,0,!1,!0),s&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-ie,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-ie))}else{const me=H?ee.length/S.grid.rows:ee.length;p.slideTo(p.activeIndex-me,0,!1,!0)}}if(p.allowSlidePrev=w,p.allowSlideNext=E,p.controller&&p.controller.control&&!h){const me={slideRealIndex:e,direction:r,setTranslate:s,activeSlideIndex:a,byController:!0};Array.isArray(p.controller.control)?p.controller.control.forEach(Ie=>{!Ie.destroyed&&Ie.params.loop&&Ie.loopFix({...me,slideTo:Ie.params.slidesPerView===S.slidesPerView?t:!1})}):p.controller.control instanceof p.constructor&&p.controller.control.params.loop&&p.controller.control.loopFix({...me,slideTo:p.controller.control.params.slidesPerView===S.slidesPerView?t:!1})}p.emit("loopFix")}function Ib(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||!t||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const r=[];n.slides.forEach(s=>{const a=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;r[a]=s}),n.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),r.forEach(s=>{t.append(s)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var xb={loopCreate:Tb,loopFix:Sb,loopDestroy:Ib};function Cb(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function Pb(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var Ab={setGrabCursor:Cb,unsetGrabCursor:Pb};function Rb(n,e){e===void 0&&(e=this);function t(r){if(!r||r===ks()||r===Kt())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(n);return!s&&!r.getRootNode?null:s||t(r.getRootNode().host)}return t(e)}function i_(n,e,t){const r=Kt(),{params:s}=n,a=s.edgeSwipeDetection,u=s.edgeSwipeThreshold;return a&&(t<=u||t>=r.innerWidth-u)?a==="prevent"?(e.preventDefault(),!0):!1:!0}function kb(n){const e=this,t=ks();let r=n;r.originalEvent&&(r=r.originalEvent);const s=e.touchEventsData;if(r.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==r.pointerId)return;s.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(s.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){i_(e,r,r.targetTouches[0].pageX);return}const{params:a,touches:u,enabled:h}=e;if(!h||!a.simulateTouch&&r.pointerType==="mouse"||e.animating&&a.preventInteractionOnTransition)return;!e.animating&&a.cssMode&&a.loop&&e.loopFix();let f=r.target;if(a.touchEventsTarget==="wrapper"&&!Fk(f,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||s.isTouched&&s.isMoved)return;const p=!!a.noSwipingClass&&a.noSwipingClass!=="",v=r.composedPath?r.composedPath():r.path;p&&r.target&&r.target.shadowRoot&&v&&(f=v[0]);const w=a.noSwipingSelector?a.noSwipingSelector:`.${a.noSwipingClass}`,E=!!(r.target&&r.target.shadowRoot);if(a.noSwiping&&(E?Rb(w,f):f.closest(w))){e.allowClick=!0;return}if(a.swipeHandler&&!f.closest(a.swipeHandler))return;u.currentX=r.pageX,u.currentY=r.pageY;const P=u.currentX,S=u.currentY;if(!i_(e,r,P))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),u.startX=P,u.startY=S,s.touchStartTime=Hc(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,a.threshold>0&&(s.allowThresholdMove=!1);let R=!0;f.matches(s.focusableElements)&&(R=!1,f.nodeName==="SELECT"&&(s.isTouched=!1)),t.activeElement&&t.activeElement.matches(s.focusableElements)&&t.activeElement!==f&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!f.matches(s.focusableElements))&&t.activeElement.blur();const N=R&&e.allowTouchMove&&a.touchStartPreventDefault;(a.touchStartForcePreventDefault||N)&&!f.isContentEditable&&r.preventDefault(),a.freeMode&&a.freeMode.enabled&&e.freeMode&&e.animating&&!a.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function bb(n){const e=ks(),t=this,r=t.touchEventsData,{params:s,touches:a,rtlTranslate:u,enabled:h}=t;if(!h||!s.simulateTouch&&n.pointerType==="mouse")return;let f=n;if(f.originalEvent&&(f=f.originalEvent),f.type==="pointermove"&&(r.touchId!==null||f.pointerId!==r.pointerId))return;let p;if(f.type==="touchmove"){if(p=[...f.changedTouches].find(Y=>Y.identifier===r.touchId),!p||p.identifier!==r.touchId)return}else p=f;if(!r.isTouched){r.startMoving&&r.isScrolling&&t.emit("touchMoveOpposite",f);return}const v=p.pageX,w=p.pageY;if(f.preventedByNestedSwiper){a.startX=v,a.startY=w;return}if(!t.allowTouchMove){f.target.matches(r.focusableElements)||(t.allowClick=!1),r.isTouched&&(Object.assign(a,{startX:v,startY:w,currentX:v,currentY:w}),r.touchStartTime=Hc());return}if(s.touchReleaseOnEdges&&!s.loop)if(t.isVertical()){if(w<a.startY&&t.translate<=t.maxTranslate()||w>a.startY&&t.translate>=t.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(u&&(v>a.startX&&-t.translate<=t.maxTranslate()||v<a.startX&&-t.translate>=t.minTranslate()))return;if(!u&&(v<a.startX&&t.translate<=t.maxTranslate()||v>a.startX&&t.translate>=t.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==f.target&&f.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&f.target===e.activeElement&&f.target.matches(r.focusableElements)){r.isMoved=!0,t.allowClick=!1;return}r.allowTouchCallbacks&&t.emit("touchMove",f),a.previousX=a.currentX,a.previousY=a.currentY,a.currentX=v,a.currentY=w;const E=a.currentX-a.startX,P=a.currentY-a.startY;if(t.params.threshold&&Math.sqrt(E**2+P**2)<t.params.threshold)return;if(typeof r.isScrolling>"u"){let Y;t.isHorizontal()&&a.currentY===a.startY||t.isVertical()&&a.currentX===a.startX?r.isScrolling=!1:E*E+P*P>=25&&(Y=Math.atan2(Math.abs(P),Math.abs(E))*180/Math.PI,r.isScrolling=t.isHorizontal()?Y>s.touchAngle:90-Y>s.touchAngle)}if(r.isScrolling&&t.emit("touchMoveOpposite",f),typeof r.startMoving>"u"&&(a.currentX!==a.startX||a.currentY!==a.startY)&&(r.startMoving=!0),r.isScrolling||f.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;t.allowClick=!1,!s.cssMode&&f.cancelable&&f.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&f.stopPropagation();let S=t.isHorizontal()?E:P,R=t.isHorizontal()?a.currentX-a.previousX:a.currentY-a.previousY;s.oneWayMovement&&(S=Math.abs(S)*(u?1:-1),R=Math.abs(R)*(u?1:-1)),a.diff=S,S*=s.touchRatio,u&&(S=-S,R=-R);const N=t.touchesDirection;t.swipeDirection=S>0?"prev":"next",t.touchesDirection=R>0?"prev":"next";const D=t.params.loop&&!s.cssMode,A=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!r.isMoved){if(D&&A&&t.loopFix({direction:t.swipeDirection}),r.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const Y=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(Y)}r.allowMomentumBounce=!1,s.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",f)}if(new Date().getTime(),s._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&N!==t.touchesDirection&&D&&A&&Math.abs(S)>=1){Object.assign(a,{startX:v,startY:w,currentX:v,currentY:w,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}t.emit("sliderMove",f),r.isMoved=!0,r.currentTranslate=S+r.startTranslate;let F=!0,H=s.resistanceRatio;if(s.touchReleaseOnEdges&&(H=0),S>0?(D&&A&&r.allowThresholdMove&&r.currentTranslate>(s.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(s.slidesPerView!=="auto"&&t.slides.length-s.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>t.minTranslate()&&(F=!1,s.resistance&&(r.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+r.startTranslate+S)**H))):S<0&&(D&&A&&r.allowThresholdMove&&r.currentTranslate<(s.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(s.slidesPerView!=="auto"&&t.slides.length-s.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(s.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),r.currentTranslate<t.maxTranslate()&&(F=!1,s.resistance&&(r.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-r.startTranslate-S)**H))),F&&(f.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(S)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,a.startX=a.currentX,a.startY=a.currentY,r.currentTranslate=r.startTranslate,a.diff=t.isHorizontal()?a.currentX-a.startX:a.currentY-a.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&t.freeMode||s.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(r.currentTranslate),t.setTranslate(r.currentTranslate))}function Nb(n){const e=this,t=e.touchEventsData;let r=n;r.originalEvent&&(r=r.originalEvent);let s;if(r.type==="touchend"||r.type==="touchcancel"){if(s=[...r.changedTouches].find(Y=>Y.identifier===t.touchId),!s||s.identifier!==t.touchId)return}else{if(t.touchId!==null||r.pointerId!==t.pointerId)return;s=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:u,touches:h,rtlTranslate:f,slidesGrid:p,enabled:v}=e;if(!v||!u.simulateTouch&&r.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",r),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&u.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}u.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const w=Hc(),E=w-t.touchStartTime;if(e.allowClick){const Y=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(Y&&Y[0]||r.target,Y),e.emit("tap click",r),E<300&&w-t.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(t.lastClickTime=Hc(),qf(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||h.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let P;if(u.followFinger?P=f?e.translate:-e.translate:P=-t.currentTranslate,u.cssMode)return;if(u.freeMode&&u.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:P});return}const S=P>=-e.maxTranslate()&&!e.params.loop;let R=0,N=e.slidesSizesGrid[0];for(let Y=0;Y<p.length;Y+=Y<u.slidesPerGroupSkip?1:u.slidesPerGroup){const ee=Y<u.slidesPerGroupSkip-1?1:u.slidesPerGroup;typeof p[Y+ee]<"u"?(S||P>=p[Y]&&P<p[Y+ee])&&(R=Y,N=p[Y+ee]-p[Y]):(S||P>=p[Y])&&(R=Y,N=p[p.length-1]-p[p.length-2])}let D=null,A=null;u.rewind&&(e.isBeginning?A=u.virtual&&u.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(D=0));const F=(P-p[R])/N,H=R<u.slidesPerGroupSkip-1?1:u.slidesPerGroup;if(E>u.longSwipesMs){if(!u.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(F>=u.longSwipesRatio?e.slideTo(u.rewind&&e.isEnd?D:R+H):e.slideTo(R)),e.swipeDirection==="prev"&&(F>1-u.longSwipesRatio?e.slideTo(R+H):A!==null&&F<0&&Math.abs(F)>u.longSwipesRatio?e.slideTo(A):e.slideTo(R))}else{if(!u.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(R+H):e.slideTo(R):(e.swipeDirection==="next"&&e.slideTo(D!==null?D:R+H),e.swipeDirection==="prev"&&e.slideTo(A!==null?A:R))}}function s_(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:a}=n,u=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const h=u&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!h?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!u?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=s,n.allowSlideNext=r,n.params.watchOverflow&&a!==n.snapGrid&&n.checkOverflow()}function Db(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function Lb(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:r}=n;if(!r)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let s;const a=n.maxTranslate()-n.minTranslate();a===0?s=0:s=(n.translate-n.minTranslate())/a,s!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function Ob(n){const e=this;Ec(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function Mb(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const dE=(n,e)=>{const t=ks(),{params:r,el:s,wrapperEl:a,device:u}=n,h=!!r.nested,f=e==="on"?"addEventListener":"removeEventListener",p=e;!s||typeof s=="string"||(t[f]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:h}),s[f]("touchstart",n.onTouchStart,{passive:!1}),s[f]("pointerdown",n.onTouchStart,{passive:!1}),t[f]("touchmove",n.onTouchMove,{passive:!1,capture:h}),t[f]("pointermove",n.onTouchMove,{passive:!1,capture:h}),t[f]("touchend",n.onTouchEnd,{passive:!0}),t[f]("pointerup",n.onTouchEnd,{passive:!0}),t[f]("pointercancel",n.onTouchEnd,{passive:!0}),t[f]("touchcancel",n.onTouchEnd,{passive:!0}),t[f]("pointerout",n.onTouchEnd,{passive:!0}),t[f]("pointerleave",n.onTouchEnd,{passive:!0}),t[f]("contextmenu",n.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&s[f]("click",n.onClick,!0),r.cssMode&&a[f]("scroll",n.onScroll),r.updateOnWindowResize?n[p](u.ios||u.android?"resize orientationchange observerUpdate":"resize observerUpdate",s_,!0):n[p]("observerUpdate",s_,!0),s[f]("load",n.onLoad,{capture:!0}))};function Vb(){const n=this,{params:e}=n;n.onTouchStart=kb.bind(n),n.onTouchMove=bb.bind(n),n.onTouchEnd=Nb.bind(n),n.onDocumentTouchStart=Mb.bind(n),e.cssMode&&(n.onScroll=Lb.bind(n)),n.onClick=Db.bind(n),n.onLoad=Ob.bind(n),dE(n,"on")}function Fb(){dE(this,"off")}var jb={attachEvents:Vb,detachEvents:Fb};const o_=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function Ub(){const n=this,{realIndex:e,initialized:t,params:r,el:s}=n,a=r.breakpoints;if(!a||a&&Object.keys(a).length===0)return;const u=ks(),h=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",f=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?n.el:u.querySelector(r.breakpointsBase),p=n.getBreakpoint(a,h,f);if(!p||n.currentBreakpoint===p)return;const w=(p in a?a[p]:void 0)||n.originalParams,E=o_(n,r),P=o_(n,w),S=n.params.grabCursor,R=w.grabCursor,N=r.enabled;E&&!P?(s.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),n.emitContainerClasses()):!E&&P&&(s.classList.add(`${r.containerModifierClass}grid`),(w.grid.fill&&w.grid.fill==="column"||!w.grid.fill&&r.grid.fill==="column")&&s.classList.add(`${r.containerModifierClass}grid-column`),n.emitContainerClasses()),S&&!R?n.unsetGrabCursor():!S&&R&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(ee=>{if(typeof w[ee]>"u")return;const L=r[ee]&&r[ee].enabled,C=w[ee]&&w[ee].enabled;L&&!C&&n[ee].disable(),!L&&C&&n[ee].enable()});const D=w.direction&&w.direction!==r.direction,A=r.loop&&(w.slidesPerView!==r.slidesPerView||D),F=r.loop;D&&t&&n.changeDirection(),fn(n.params,w);const H=n.params.enabled,Y=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),N&&!H?n.disable():!N&&H&&n.enable(),n.currentBreakpoint=p,n.emit("_beforeBreakpoint",w),t&&(A?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!F&&Y?(n.loopCreate(e),n.updateSlides()):F&&!Y&&n.loopDestroy()),n.emit("breakpoint",w)}function zb(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let r=!1;const s=Kt(),a=e==="window"?s.innerHeight:t.clientHeight,u=Object.keys(n).map(h=>{if(typeof h=="string"&&h.indexOf("@")===0){const f=parseFloat(h.substr(1));return{value:a*f,point:h}}return{value:h,point:h}});u.sort((h,f)=>parseInt(h.value,10)-parseInt(f.value,10));for(let h=0;h<u.length;h+=1){const{point:f,value:p}=u[h];e==="window"?s.matchMedia(`(min-width: ${p}px)`).matches&&(r=f):p<=t.clientWidth&&(r=f)}return r||"max"}var Bb={setBreakpoint:Ub,getBreakpoint:zb};function $b(n,e){const t=[];return n.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&t.push(e+s)}):typeof r=="string"&&t.push(e+r)}),t}function Hb(){const n=this,{classNames:e,params:t,rtl:r,el:s,device:a}=n,u=$b(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:r},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:a.android},{ios:a.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...u),s.classList.add(...e),n.emitContainerClasses()}function Wb(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var qb={addClasses:Hb,removeClasses:Wb};function Gb(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:r}=t;if(r){const s=n.slides.length-1,a=n.slidesGrid[s]+n.slidesSizesGrid[s]+r*2;n.isLocked=n.size>a}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var Kb={checkOverflow:Gb},Qf={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Qb(n,e){return function(r){r===void 0&&(r={});const s=Object.keys(r)[0],a=r[s];if(typeof a!="object"||a===null){fn(e,r);return}if(n[s]===!0&&(n[s]={enabled:!0}),s==="navigation"&&n[s]&&n[s].enabled&&!n[s].prevEl&&!n[s].nextEl&&(n[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&n[s]&&n[s].enabled&&!n[s].el&&(n[s].auto=!0),!(s in n&&"enabled"in a)){fn(e,r);return}typeof n[s]=="object"&&!("enabled"in n[s])&&(n[s].enabled=!0),n[s]||(n[s]={enabled:!1}),fn(e,r)}}const pf={eventsEmitter:qk,update:rb,translate:ub,transition:fb,slide:Eb,loop:xb,grabCursor:Ab,events:jb,breakpoints:Bb,checkOverflow:Kb,classes:qb},mf={};let rm=class Nr{constructor(){let e,t;for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];s.length===1&&s[0].constructor&&Object.prototype.toString.call(s[0]).slice(8,-1)==="Object"?t=s[0]:[e,t]=s,t||(t={}),t=fn({},t),e&&!t.el&&(t.el=e);const u=ks();if(t.el&&typeof t.el=="string"&&u.querySelectorAll(t.el).length>1){const v=[];return u.querySelectorAll(t.el).forEach(w=>{const E=fn({},t,{el:w});v.push(new Nr(E))}),v}const h=this;h.__swiper__=!0,h.support=aE(),h.device=lE({userAgent:t.userAgent}),h.browser=uE(),h.eventsListeners={},h.eventsAnyListeners=[],h.modules=[...h.__modules__],t.modules&&Array.isArray(t.modules)&&h.modules.push(...t.modules);const f={};h.modules.forEach(v=>{v({params:t,swiper:h,extendParams:Qb(t,f),on:h.on.bind(h),once:h.once.bind(h),off:h.off.bind(h),emit:h.emit.bind(h)})});const p=fn({},Qf,f);return h.params=fn({},p,mf,t),h.originalParams=fn({},h.params),h.passedParams=fn({},t),h.params&&h.params.on&&Object.keys(h.params.on).forEach(v=>{h.on(v,h.params.on[v])}),h.params&&h.params.onAny&&h.onAny(h.params.onAny),Object.assign(h,{enabled:h.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return h.params.direction==="horizontal"},isVertical(){return h.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:h.params.allowSlideNext,allowSlidePrev:h.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:h.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:h.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),h.emit("_swiper"),h.params.init&&h.init(),h}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:r}=this,s=lr(t,`.${r.slideClass}, swiper-slide`),a=Gc(s[0]);return Gc(e)-a}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:t,params:r}=e;e.slides=lr(t,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const r=this;e=Math.min(Math.max(e,0),1);const s=r.minTranslate(),u=(r.maxTranslate()-s)*e+s;r.translateTo(u,typeof t>"u"?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(r=>{const s=e.getSlideClasses(r);t.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const r=this,{params:s,slides:a,slidesGrid:u,slidesSizesGrid:h,size:f,activeIndex:p}=r;let v=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let w=a[p]?Math.ceil(a[p].swiperSlideSize):0,E;for(let P=p+1;P<a.length;P+=1)a[P]&&!E&&(w+=Math.ceil(a[P].swiperSlideSize),v+=1,w>f&&(E=!0));for(let P=p-1;P>=0;P-=1)a[P]&&!E&&(w+=a[P].swiperSlideSize,v+=1,w>f&&(E=!0))}else if(e==="current")for(let w=p+1;w<a.length;w+=1)(t?u[w]+h[w]-u[p]<f:u[w]-u[p]<f)&&(v+=1);else for(let w=p-1;w>=0;w-=1)u[p]-u[w]<f&&(v+=1);return v}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(u=>{u.complete&&Ec(e,u)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const u=e.rtlTranslate?e.translate*-1:e.translate,h=Math.min(Math.max(u,e.maxTranslate()),e.minTranslate());e.setTranslate(h),e.updateActiveIndex(),e.updateSlidesClasses()}let a;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)s(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const u=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;a=e.slideTo(u.length-1,0,!1,!0)}else a=e.slideTo(e.activeIndex,0,!1,!0);a||s()}r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const r=this,s=r.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${s}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(a=>{e==="vertical"?a.style.width="":a.style.height=""}),r.emit("changeDirection"),t&&r.update()),r}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let r=e||t.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=t,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const s=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let u=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(s()):lr(r,s())[0];return!u&&t.params.createElements&&(u=qc("div",t.params.wrapperClass),r.append(u),lr(r,`.${t.params.slideClass}`).forEach(h=>{u.append(h)})),Object.assign(t,{el:r,wrapperEl:u,slidesEl:t.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:u,hostEl:t.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Ii(r,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Ii(r,"direction")==="rtl"),wrongRTL:Ii(u,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const s=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&s.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(a=>{a.complete?Ec(t,a):a.addEventListener("load",u=>{Ec(t,u.target)})}),Kf(t),t.initialized=!0,Kf(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const r=this,{params:s,el:a,wrapperEl:u,slides:h}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),t&&(r.removeClasses(),a&&typeof a!="string"&&a.removeAttribute("style"),u&&u.removeAttribute("style"),h&&h.length&&h.forEach(f=>{f.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),f.removeAttribute("style"),f.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(f=>{r.off(f)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),Dk(r)),r.destroyed=!0),null}static extendDefaults(e){fn(mf,e)}static get extendedDefaults(){return mf}static get defaults(){return Qf}static installModule(e){Nr.prototype.__modules__||(Nr.prototype.__modules__=[]);const t=Nr.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>Nr.installModule(t)),Nr):(Nr.installModule(e),Nr)}};Object.keys(pf).forEach(n=>{Object.keys(pf[n]).forEach(e=>{rm.prototype[e]=pf[n][e]})});rm.use([Hk,Wk]);const hE=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Ps(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function Lo(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:Ps(e[r])&&Ps(n[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?n[r]=e[r]:Lo(n[r],e[r]):n[r]=e[r]})}function fE(n){return n===void 0&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function pE(n){return n===void 0&&(n={}),n.pagination&&typeof n.pagination.el>"u"}function mE(n){return n===void 0&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}function gE(n){n===void 0&&(n="");const e=n.split(" ").map(r=>r.trim()).filter(r=>!!r),t=[];return e.forEach(r=>{t.indexOf(r)<0&&t.push(r)}),t.join(" ")}function Yb(n){return n===void 0&&(n=""),n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function Xb(n){let{swiper:e,slides:t,passedParams:r,changedParams:s,nextEl:a,prevEl:u,scrollbarEl:h,paginationEl:f}=n;const p=s.filter(x=>x!=="children"&&x!=="direction"&&x!=="wrapperClass"),{params:v,pagination:w,navigation:E,scrollbar:P,virtual:S,thumbs:R}=e;let N,D,A,F,H,Y,ee,L;s.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&v.thumbs&&(!v.thumbs.swiper||v.thumbs.swiper.destroyed)&&(N=!0),s.includes("controller")&&r.controller&&r.controller.control&&v.controller&&!v.controller.control&&(D=!0),s.includes("pagination")&&r.pagination&&(r.pagination.el||f)&&(v.pagination||v.pagination===!1)&&w&&!w.el&&(A=!0),s.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||h)&&(v.scrollbar||v.scrollbar===!1)&&P&&!P.el&&(F=!0),s.includes("navigation")&&r.navigation&&(r.navigation.prevEl||u)&&(r.navigation.nextEl||a)&&(v.navigation||v.navigation===!1)&&E&&!E.prevEl&&!E.nextEl&&(H=!0);const C=x=>{e[x]&&(e[x].destroy(),x==="navigation"?(e.isElement&&(e[x].prevEl.remove(),e[x].nextEl.remove()),v[x].prevEl=void 0,v[x].nextEl=void 0,e[x].prevEl=void 0,e[x].nextEl=void 0):(e.isElement&&e[x].el.remove(),v[x].el=void 0,e[x].el=void 0))};s.includes("loop")&&e.isElement&&(v.loop&&!r.loop?Y=!0:!v.loop&&r.loop?ee=!0:L=!0),p.forEach(x=>{if(Ps(v[x])&&Ps(r[x]))Object.assign(v[x],r[x]),(x==="navigation"||x==="pagination"||x==="scrollbar")&&"enabled"in r[x]&&!r[x].enabled&&C(x);else{const k=r[x];(k===!0||k===!1)&&(x==="navigation"||x==="pagination"||x==="scrollbar")?k===!1&&C(x):v[x]=r[x]}}),p.includes("controller")&&!D&&e.controller&&e.controller.control&&v.controller&&v.controller.control&&(e.controller.control=v.controller.control),s.includes("children")&&t&&S&&v.virtual.enabled?(S.slides=t,S.update(!0)):s.includes("virtual")&&S&&v.virtual.enabled&&(t&&(S.slides=t),S.update(!0)),s.includes("children")&&t&&v.loop&&(L=!0),N&&R.init()&&R.update(!0),D&&(e.controller.control=v.controller.control),A&&(e.isElement&&(!f||typeof f=="string")&&(f=document.createElement("div"),f.classList.add("swiper-pagination"),f.part.add("pagination"),e.el.appendChild(f)),f&&(v.pagination.el=f),w.init(),w.render(),w.update()),F&&(e.isElement&&(!h||typeof h=="string")&&(h=document.createElement("div"),h.classList.add("swiper-scrollbar"),h.part.add("scrollbar"),e.el.appendChild(h)),h&&(v.scrollbar.el=h),P.init(),P.updateSize(),P.setTranslate()),H&&(e.isElement&&((!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-next"),a.innerHTML=e.hostEl.constructor.nextButtonSvg,a.part.add("button-next"),e.el.appendChild(a)),(!u||typeof u=="string")&&(u=document.createElement("div"),u.classList.add("swiper-button-prev"),u.innerHTML=e.hostEl.constructor.prevButtonSvg,u.part.add("button-prev"),e.el.appendChild(u))),a&&(v.navigation.nextEl=a),u&&(v.navigation.prevEl=u),E.init(),E.update()),s.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),s.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),s.includes("direction")&&e.changeDirection(r.direction,!1),(Y||L)&&e.loopDestroy(),(ee||L)&&e.loopCreate(),e.update()}function Jb(n,e){n===void 0&&(n={}),e===void 0&&(e=!0);const t={on:{}},r={},s={};Lo(t,Qf),t._emitClasses=!0,t.init=!1;const a={},u=hE.map(f=>f.replace(/_/,"")),h=Object.assign({},n);return Object.keys(h).forEach(f=>{typeof n[f]>"u"||(u.indexOf(f)>=0?Ps(n[f])?(t[f]={},s[f]={},Lo(t[f],n[f]),Lo(s[f],n[f])):(t[f]=n[f],s[f]=n[f]):f.search(/on[A-Z]/)===0&&typeof n[f]=="function"?e?r[`${f[2].toLowerCase()}${f.substr(3)}`]=n[f]:t.on[`${f[2].toLowerCase()}${f.substr(3)}`]=n[f]:a[f]=n[f])}),["navigation","pagination","scrollbar"].forEach(f=>{t[f]===!0&&(t[f]={}),t[f]===!1&&delete t[f]}),{params:t,passedParams:s,rest:a,events:r}}function Zb(n,e){let{el:t,nextEl:r,prevEl:s,paginationEl:a,scrollbarEl:u,swiper:h}=n;fE(e)&&r&&s&&(h.params.navigation.nextEl=r,h.originalParams.navigation.nextEl=r,h.params.navigation.prevEl=s,h.originalParams.navigation.prevEl=s),pE(e)&&a&&(h.params.pagination.el=a,h.originalParams.pagination.el=a),mE(e)&&u&&(h.params.scrollbar.el=u,h.originalParams.scrollbar.el=u),h.init(t)}function eN(n,e,t,r,s){const a=[];if(!e)return a;const u=f=>{a.indexOf(f)<0&&a.push(f)};if(t&&r){const f=r.map(s),p=t.map(s);f.join("")!==p.join("")&&u("children"),r.length!==t.length&&u("children")}return hE.filter(f=>f[0]==="_").map(f=>f.replace(/_/,"")).forEach(f=>{if(f in n&&f in e)if(Ps(n[f])&&Ps(e[f])){const p=Object.keys(n[f]),v=Object.keys(e[f]);p.length!==v.length?u(f):(p.forEach(w=>{n[f][w]!==e[f][w]&&u(f)}),v.forEach(w=>{n[f][w]!==e[f][w]&&u(f)}))}else n[f]!==e[f]&&u(f)}),a}const tN=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function Kc(){return Kc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Kc.apply(this,arguments)}function vE(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function yE(n){const e=[];return vt.Children.toArray(n).forEach(t=>{vE(t)?e.push(t):t.props&&t.props.children&&yE(t.props.children).forEach(r=>e.push(r))}),e}function nN(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return vt.Children.toArray(n).forEach(r=>{if(vE(r))e.push(r);else if(r.props&&r.props.slot&&t[r.props.slot])t[r.props.slot].push(r);else if(r.props&&r.props.children){const s=yE(r.props.children);s.length>0?s.forEach(a=>e.push(a)):t["container-end"].push(r)}else t["container-end"].push(r)}),{slides:e,slots:t}}function rN(n,e,t){if(!t)return null;const r=v=>{let w=v;return v<0?w=e.length+v:w>=e.length&&(w=w-e.length),w},s=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:a,to:u}=t,h=n.params.loop?-e.length:0,f=n.params.loop?e.length*2:e.length,p=[];for(let v=h;v<f;v+=1)v>=a&&v<=u&&p.push(e[r(v)]);return p.map((v,w)=>vt.cloneElement(v,{swiper:n,style:s,key:v.props.virtualIndex||v.key||`slide-${w}`}))}function dl(n,e){return typeof window>"u"?B.useEffect(n,e):B.useLayoutEffect(n,e)}const a_=B.createContext(null),iN=B.createContext(null),_E=B.forwardRef(function(n,e){let{className:t,tag:r="div",wrapperTag:s="div",children:a,onSwiper:u,...h}=n===void 0?{}:n,f=!1;const[p,v]=B.useState("swiper"),[w,E]=B.useState(null),[P,S]=B.useState(!1),R=B.useRef(!1),N=B.useRef(null),D=B.useRef(null),A=B.useRef(null),F=B.useRef(null),H=B.useRef(null),Y=B.useRef(null),ee=B.useRef(null),L=B.useRef(null),{params:C,passedParams:x,rest:k,events:O}=Jb(h),{slides:j,slots:b}=nN(a),Ee=()=>{S(!P)};Object.assign(C.on,{_containerClasses(le,ae){v(ae)}});const Pe=()=>{Object.assign(C.on,O),f=!0;const le={...C};if(delete le.wrapperClass,D.current=new rm(le),D.current.virtual&&D.current.params.virtual.enabled){D.current.virtual.slides=j;const ae={cache:!1,slides:j,renderExternal:E,renderExternalUpdate:!1};Lo(D.current.params.virtual,ae),Lo(D.current.originalParams.virtual,ae)}};N.current||Pe(),D.current&&D.current.on("_beforeBreakpoint",Ee);const me=()=>{f||!O||!D.current||Object.keys(O).forEach(le=>{D.current.on(le,O[le])})},Ie=()=>{!O||!D.current||Object.keys(O).forEach(le=>{D.current.off(le,O[le])})};B.useEffect(()=>()=>{D.current&&D.current.off("_beforeBreakpoint",Ee)}),B.useEffect(()=>{!R.current&&D.current&&(D.current.emitSlidesClasses(),R.current=!0)}),dl(()=>{if(e&&(e.current=N.current),!!N.current)return D.current.destroyed&&Pe(),Zb({el:N.current,nextEl:H.current,prevEl:Y.current,paginationEl:ee.current,scrollbarEl:L.current,swiper:D.current},C),u&&!D.current.destroyed&&u(D.current),()=>{D.current&&!D.current.destroyed&&D.current.destroy(!0,!1)}},[]),dl(()=>{me();const le=eN(x,A.current,j,F.current,ae=>ae.key);return A.current=x,F.current=j,le.length&&D.current&&!D.current.destroyed&&Xb({swiper:D.current,slides:j,passedParams:x,changedParams:le,nextEl:H.current,prevEl:Y.current,scrollbarEl:L.current,paginationEl:ee.current}),()=>{Ie()}}),dl(()=>{tN(D.current)},[w]);function ie(){return C.virtual?rN(D.current,j,w):j.map((le,ae)=>vt.cloneElement(le,{swiper:D.current,swiperSlideIndex:ae}))}return vt.createElement(r,Kc({ref:N,className:gE(`${p}${t?` ${t}`:""}`)},k),vt.createElement(iN.Provider,{value:D.current},b["container-start"],vt.createElement(s,{className:Yb(C.wrapperClass)},b["wrapper-start"],ie(),b["wrapper-end"]),fE(C)&&vt.createElement(vt.Fragment,null,vt.createElement("div",{ref:Y,className:"swiper-button-prev"}),vt.createElement("div",{ref:H,className:"swiper-button-next"})),mE(C)&&vt.createElement("div",{ref:L,className:"swiper-scrollbar"}),pE(C)&&vt.createElement("div",{ref:ee,className:"swiper-pagination"}),b["container-end"]))});_E.displayName="Swiper";const wE=B.forwardRef(function(n,e){let{tag:t="div",children:r,className:s="",swiper:a,zoom:u,lazy:h,virtualIndex:f,swiperSlideIndex:p,...v}=n===void 0?{}:n;const w=B.useRef(null),[E,P]=B.useState("swiper-slide"),[S,R]=B.useState(!1);function N(H,Y,ee){Y===w.current&&P(ee)}dl(()=>{if(typeof p<"u"&&(w.current.swiperSlideIndex=p),e&&(e.current=w.current),!(!w.current||!a)){if(a.destroyed){E!=="swiper-slide"&&P("swiper-slide");return}return a.on("_slideClass",N),()=>{a&&a.off("_slideClass",N)}}}),dl(()=>{a&&w.current&&!a.destroyed&&P(a.getSlideClasses(w.current))},[a]);const D={isActive:E.indexOf("swiper-slide-active")>=0,isVisible:E.indexOf("swiper-slide-visible")>=0,isPrev:E.indexOf("swiper-slide-prev")>=0,isNext:E.indexOf("swiper-slide-next")>=0},A=()=>typeof r=="function"?r(D):r,F=()=>{R(!0)};return vt.createElement(t,Kc({ref:w,className:gE(`${E}${s?` ${s}`:""}`),"data-swiper-slide-index":f,onLoad:F},v),u&&vt.createElement(a_.Provider,{value:D},vt.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof u=="number"?u:void 0},A(),h&&!S&&vt.createElement("div",{className:"swiper-lazy-preloader"}))),!u&&vt.createElement(a_.Provider,{value:D},A(),h&&!S&&vt.createElement("div",{className:"swiper-lazy-preloader"})))});wE.displayName="SwiperSlide";function EE(n,e,t,r){return n.params.createElements&&Object.keys(r).forEach(s=>{if(!t[s]&&t.auto===!0){let a=lr(n.el,`.${r[s]}`)[0];a||(a=qc("div",r[s]),a.className=r[s],n.el.append(a)),t[s]=a,e[s]=a}}),t}function sN(n){let{swiper:e,extendParams:t,on:r,emit:s}=n;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function a(S){let R;return S&&typeof S=="string"&&e.isElement&&(R=e.el.querySelector(S)||e.hostEl.querySelector(S),R)?R:(S&&(typeof S=="string"&&(R=[...document.querySelectorAll(S)]),e.params.uniqueNavElements&&typeof S=="string"&&R&&R.length>1&&e.el.querySelectorAll(S).length===1?R=e.el.querySelector(S):R&&R.length===1&&(R=R[0])),S&&!R?S:R)}function u(S,R){const N=e.params.navigation;S=Pt(S),S.forEach(D=>{D&&(D.classList[R?"add":"remove"](...N.disabledClass.split(" ")),D.tagName==="BUTTON"&&(D.disabled=R),e.params.watchOverflow&&e.enabled&&D.classList[e.isLocked?"add":"remove"](N.lockClass))})}function h(){const{nextEl:S,prevEl:R}=e.navigation;if(e.params.loop){u(R,!1),u(S,!1);return}u(R,e.isBeginning&&!e.params.rewind),u(S,e.isEnd&&!e.params.rewind)}function f(S){S.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),s("navigationPrev"))}function p(S){S.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),s("navigationNext"))}function v(){const S=e.params.navigation;if(e.params.navigation=EE(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(S.nextEl||S.prevEl))return;let R=a(S.nextEl),N=a(S.prevEl);Object.assign(e.navigation,{nextEl:R,prevEl:N}),R=Pt(R),N=Pt(N);const D=(A,F)=>{A&&A.addEventListener("click",F==="next"?p:f),!e.enabled&&A&&A.classList.add(...S.lockClass.split(" "))};R.forEach(A=>D(A,"next")),N.forEach(A=>D(A,"prev"))}function w(){let{nextEl:S,prevEl:R}=e.navigation;S=Pt(S),R=Pt(R);const N=(D,A)=>{D.removeEventListener("click",A==="next"?p:f),D.classList.remove(...e.params.navigation.disabledClass.split(" "))};S.forEach(D=>N(D,"next")),R.forEach(D=>N(D,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?P():(v(),h())}),r("toEdge fromEdge lock unlock",()=>{h()}),r("destroy",()=>{w()}),r("enable disable",()=>{let{nextEl:S,prevEl:R}=e.navigation;if(S=Pt(S),R=Pt(R),e.enabled){h();return}[...S,...R].filter(N=>!!N).forEach(N=>N.classList.add(e.params.navigation.lockClass))}),r("click",(S,R)=>{let{nextEl:N,prevEl:D}=e.navigation;N=Pt(N),D=Pt(D);const A=R.target;let F=D.includes(A)||N.includes(A);if(e.isElement&&!F){const H=R.path||R.composedPath&&R.composedPath();H&&(F=H.find(Y=>N.includes(Y)||D.includes(Y)))}if(e.params.navigation.hideOnClick&&!F){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===A||e.pagination.el.contains(A)))return;let H;N.length?H=N[0].classList.contains(e.params.navigation.hiddenClass):D.length&&(H=D[0].classList.contains(e.params.navigation.hiddenClass)),s(H===!0?"navigationShow":"navigationHide"),[...N,...D].filter(Y=>!!Y).forEach(Y=>Y.classList.toggle(e.params.navigation.hiddenClass))}});const E=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),v(),h()},P=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),w()};Object.assign(e.navigation,{enable:E,disable:P,update:h,init:v,destroy:w})}function el(n){return n===void 0&&(n=""),`.${n.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function oN(n){let{swiper:e,extendParams:t,on:r,emit:s}=n;const a="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:A=>A,formatFractionTotal:A=>A,bulletClass:`${a}-bullet`,bulletActiveClass:`${a}-bullet-active`,modifierClass:`${a}-`,currentClass:`${a}-current`,totalClass:`${a}-total`,hiddenClass:`${a}-hidden`,progressbarFillClass:`${a}-progressbar-fill`,progressbarOppositeClass:`${a}-progressbar-opposite`,clickableClass:`${a}-clickable`,lockClass:`${a}-lock`,horizontalClass:`${a}-horizontal`,verticalClass:`${a}-vertical`,paginationDisabledClass:`${a}-disabled`}}),e.pagination={el:null,bullets:[]};let u,h=0;function f(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function p(A,F){const{bulletActiveClass:H}=e.params.pagination;A&&(A=A[`${F==="prev"?"previous":"next"}ElementSibling`],A&&(A.classList.add(`${H}-${F}`),A=A[`${F==="prev"?"previous":"next"}ElementSibling`],A&&A.classList.add(`${H}-${F}-${F}`)))}function v(A,F,H){if(A=A%H,F=F%H,F===A+1)return"next";if(F===A-1)return"previous"}function w(A){const F=A.target.closest(el(e.params.pagination.bulletClass));if(!F)return;A.preventDefault();const H=Gc(F)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===H)return;const Y=v(e.realIndex,H,e.slides.length);Y==="next"?e.slideNext():Y==="previous"?e.slidePrev():e.slideToLoop(H)}else e.slideTo(H)}function E(){const A=e.rtl,F=e.params.pagination;if(f())return;let H=e.pagination.el;H=Pt(H);let Y,ee;const L=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,C=e.params.loop?Math.ceil(L/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(ee=e.previousRealIndex||0,Y=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(Y=e.snapIndex,ee=e.previousSnapIndex):(ee=e.previousIndex||0,Y=e.activeIndex||0),F.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const x=e.pagination.bullets;let k,O,j;if(F.dynamicBullets&&(u=Gf(x[0],e.isHorizontal()?"width":"height"),H.forEach(b=>{b.style[e.isHorizontal()?"width":"height"]=`${u*(F.dynamicMainBullets+4)}px`}),F.dynamicMainBullets>1&&ee!==void 0&&(h+=Y-(ee||0),h>F.dynamicMainBullets-1?h=F.dynamicMainBullets-1:h<0&&(h=0)),k=Math.max(Y-h,0),O=k+(Math.min(x.length,F.dynamicMainBullets)-1),j=(O+k)/2),x.forEach(b=>{const Ee=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(Pe=>`${F.bulletActiveClass}${Pe}`)].map(Pe=>typeof Pe=="string"&&Pe.includes(" ")?Pe.split(" "):Pe).flat();b.classList.remove(...Ee)}),H.length>1)x.forEach(b=>{const Ee=Gc(b);Ee===Y?b.classList.add(...F.bulletActiveClass.split(" ")):e.isElement&&b.setAttribute("part","bullet"),F.dynamicBullets&&(Ee>=k&&Ee<=O&&b.classList.add(...`${F.bulletActiveClass}-main`.split(" ")),Ee===k&&p(b,"prev"),Ee===O&&p(b,"next"))});else{const b=x[Y];if(b&&b.classList.add(...F.bulletActiveClass.split(" ")),e.isElement&&x.forEach((Ee,Pe)=>{Ee.setAttribute("part",Pe===Y?"bullet-active":"bullet")}),F.dynamicBullets){const Ee=x[k],Pe=x[O];for(let me=k;me<=O;me+=1)x[me]&&x[me].classList.add(...`${F.bulletActiveClass}-main`.split(" "));p(Ee,"prev"),p(Pe,"next")}}if(F.dynamicBullets){const b=Math.min(x.length,F.dynamicMainBullets+4),Ee=(u*b-u)/2-j*u,Pe=A?"right":"left";x.forEach(me=>{me.style[e.isHorizontal()?Pe:"top"]=`${Ee}px`})}}H.forEach((x,k)=>{if(F.type==="fraction"&&(x.querySelectorAll(el(F.currentClass)).forEach(O=>{O.textContent=F.formatFractionCurrent(Y+1)}),x.querySelectorAll(el(F.totalClass)).forEach(O=>{O.textContent=F.formatFractionTotal(C)})),F.type==="progressbar"){let O;F.progressbarOpposite?O=e.isHorizontal()?"vertical":"horizontal":O=e.isHorizontal()?"horizontal":"vertical";const j=(Y+1)/C;let b=1,Ee=1;O==="horizontal"?b=j:Ee=j,x.querySelectorAll(el(F.progressbarFillClass)).forEach(Pe=>{Pe.style.transform=`translate3d(0,0,0) scaleX(${b}) scaleY(${Ee})`,Pe.style.transitionDuration=`${e.params.speed}ms`})}F.type==="custom"&&F.renderCustom?(x.innerHTML=F.renderCustom(e,Y+1,C),k===0&&s("paginationRender",x)):(k===0&&s("paginationRender",x),s("paginationUpdate",x)),e.params.watchOverflow&&e.enabled&&x.classList[e.isLocked?"add":"remove"](F.lockClass)})}function P(){const A=e.params.pagination;if(f())return;const F=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let H=e.pagination.el;H=Pt(H);let Y="";if(A.type==="bullets"){let ee=e.params.loop?Math.ceil(F/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&ee>F&&(ee=F);for(let L=0;L<ee;L+=1)A.renderBullet?Y+=A.renderBullet.call(e,L,A.bulletClass):Y+=`<${A.bulletElement} ${e.isElement?'part="bullet"':""} class="${A.bulletClass}"></${A.bulletElement}>`}A.type==="fraction"&&(A.renderFraction?Y=A.renderFraction.call(e,A.currentClass,A.totalClass):Y=`<span class="${A.currentClass}"></span> / <span class="${A.totalClass}"></span>`),A.type==="progressbar"&&(A.renderProgressbar?Y=A.renderProgressbar.call(e,A.progressbarFillClass):Y=`<span class="${A.progressbarFillClass}"></span>`),e.pagination.bullets=[],H.forEach(ee=>{A.type!=="custom"&&(ee.innerHTML=Y||""),A.type==="bullets"&&e.pagination.bullets.push(...ee.querySelectorAll(el(A.bulletClass)))}),A.type!=="custom"&&s("paginationRender",H[0])}function S(){e.params.pagination=EE(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const A=e.params.pagination;if(!A.el)return;let F;typeof A.el=="string"&&e.isElement&&(F=e.el.querySelector(A.el)),!F&&typeof A.el=="string"&&(F=[...document.querySelectorAll(A.el)]),F||(F=A.el),!(!F||F.length===0)&&(e.params.uniqueNavElements&&typeof A.el=="string"&&Array.isArray(F)&&F.length>1&&(F=[...e.el.querySelectorAll(A.el)],F.length>1&&(F=F.find(H=>oE(H,".swiper")[0]===e.el))),Array.isArray(F)&&F.length===1&&(F=F[0]),Object.assign(e.pagination,{el:F}),F=Pt(F),F.forEach(H=>{A.type==="bullets"&&A.clickable&&H.classList.add(...(A.clickableClass||"").split(" ")),H.classList.add(A.modifierClass+A.type),H.classList.add(e.isHorizontal()?A.horizontalClass:A.verticalClass),A.type==="bullets"&&A.dynamicBullets&&(H.classList.add(`${A.modifierClass}${A.type}-dynamic`),h=0,A.dynamicMainBullets<1&&(A.dynamicMainBullets=1)),A.type==="progressbar"&&A.progressbarOpposite&&H.classList.add(A.progressbarOppositeClass),A.clickable&&H.addEventListener("click",w),e.enabled||H.classList.add(A.lockClass)}))}function R(){const A=e.params.pagination;if(f())return;let F=e.pagination.el;F&&(F=Pt(F),F.forEach(H=>{H.classList.remove(A.hiddenClass),H.classList.remove(A.modifierClass+A.type),H.classList.remove(e.isHorizontal()?A.horizontalClass:A.verticalClass),A.clickable&&(H.classList.remove(...(A.clickableClass||"").split(" ")),H.removeEventListener("click",w))})),e.pagination.bullets&&e.pagination.bullets.forEach(H=>H.classList.remove(...A.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const A=e.params.pagination;let{el:F}=e.pagination;F=Pt(F),F.forEach(H=>{H.classList.remove(A.horizontalClass,A.verticalClass),H.classList.add(e.isHorizontal()?A.horizontalClass:A.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?D():(S(),P(),E())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&E()}),r("snapIndexChange",()=>{E()}),r("snapGridLengthChange",()=>{P(),E()}),r("destroy",()=>{R()}),r("enable disable",()=>{let{el:A}=e.pagination;A&&(A=Pt(A),A.forEach(F=>F.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{E()}),r("click",(A,F)=>{const H=F.target,Y=Pt(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&Y&&Y.length>0&&!H.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&H===e.navigation.nextEl||e.navigation.prevEl&&H===e.navigation.prevEl))return;const ee=Y[0].classList.contains(e.params.pagination.hiddenClass);s(ee===!0?"paginationShow":"paginationHide"),Y.forEach(L=>L.classList.toggle(e.params.pagination.hiddenClass))}});const N=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:A}=e.pagination;A&&(A=Pt(A),A.forEach(F=>F.classList.remove(e.params.pagination.paginationDisabledClass))),S(),P(),E()},D=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:A}=e.pagination;A&&(A=Pt(A),A.forEach(F=>F.classList.add(e.params.pagination.paginationDisabledClass))),R()};Object.assign(e.pagination,{enable:N,disable:D,render:P,update:E,init:S,destroy:R})}const aN=({products:n})=>{var S;const{id:e}=dS(),{cart:t=[],addToCart:r,removeFromCart:s,updateQuantity:a}=Vl(),[u,h]=B.useState(null);if(B.useEffect(()=>{if(n.length>0){const R=n.find(N=>{var D;return N.ProductID===e||N.id===e||((D=N.ProductID)==null?void 0:D.toString())===e||N.sku===e});h(R||null)}},[e,n]),!u)return M.jsx("p",{className:"p-6 text-red-500 text-center text-lg font-medium",children:"Product not found!"});const f=u.ProductID??u.id??u.sku,p=t.find(R=>R.ProductID===f||R.id===f||R.sku===f),v=(S=u.images)==null?void 0:S.split("~").map(R=>R.trim()),w=()=>{var N;const R={ProductID:f,ProductName:u.ProductName??u.name??"Unnamed Product",ProductBrand:u.ProductBrand??u.brand??"Unknown Brand",Price:parseFloat(u.Price??u.price??0),image:((N=u.images)==null?void 0:N.split("~")[0].trim())||"/placeholder.jpg",quantity:1};r(R)},E=()=>{a(f,((p==null?void 0:p.quantity)||1)+1)},P=()=>{((p==null?void 0:p.quantity)||1)>1?a(f,p.quantity-1):s(f)};return M.jsx("div",{className:"min-h-screen bg-gray-50 py-14 px-6 md:px-12 lg:px-24 font-sans",children:M.jsxs("div",{className:"max-w-6xl mx-auto bg-white rounded-3xl shadow-xl p-10 grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[M.jsx("div",{className:"w-full",children:M.jsx(_E,{spaceBetween:20,slidesPerView:1,navigation:!0,pagination:{clickable:!0},modules:[sN,oN],className:"w-full max-w-lg",children:v==null?void 0:v.map((R,N)=>M.jsx(wE,{children:M.jsx("img",{src:R,alt:`Slide ${N+1}`,className:"rounded-xl w-full h-[420px] object-contain border border-gray-200 shadow-md"})},N))})}),M.jsxs("div",{className:"flex flex-col justify-start space-y-6",children:[M.jsx("h2",{className:"text-4xl font-extrabold text-gray-900 leading-snug",children:u.ProductName??u.name}),M.jsx("p",{className:"text-lg text-gray-500 italic",children:u.ProductBrand??u.brand}),M.jsxs("p",{className:"text-3xl font-semibold text-blue-700",children:["₹",u.Price??u.price]}),M.jsx("p",{className:"text-gray-600 leading-relaxed text-md",children:u.Description??u.description}),p?M.jsxs("div",{className:"flex items-center gap-4 pt-4",children:[M.jsx("button",{onClick:P,className:"bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold px-4 py-2 rounded-lg transition",children:"−"}),M.jsx("span",{className:"font-medium text-xl",children:p.quantity}),M.jsx("button",{onClick:E,className:"bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold px-4 py-2 rounded-lg transition",children:"+"})]}):M.jsx("button",{onClick:w,className:"mt-6 bg-gray-900 hover:bg-gray-800 text-white text-sm font-semibold px-6 py-3 rounded-full shadow-lg transition-all duration-300 w-fit",children:"Add to Cart"})]})]})})},lN=()=>{const{user:n,logout:e}=ta(),t=qr(),[r,s]=B.useState(null),[a,u]=B.useState(!1),[h,f]=B.useState(""),[p,v]=B.useState(""),[w,E]=B.useState(""),P=async()=>{if(!(n!=null&&n.uid))return;const N=Is(Wr,"users",n.uid),D=await wl(N);if(D.exists()){const A=D.data();s(A),f(A.name||""),v(A.homeAddress||""),E(A.workAddress||"")}},S=async()=>{const N=Is(Wr,"users",n.uid);await m0(N,{name:h,homeAddress:p,workAddress:w}),u(!1),P()},R=async()=>{await e(),t("/")};return B.useEffect(()=>{P()},[n]),M.jsxs("div",{className:"max-w-2xl mx-auto mt-5 mb-5 p-8 bg-white shadow-lg rounded-xl border border-gray-200",children:[M.jsx("h2",{className:"text-3xl font-semibold text-gray-900 mb-6 text-center",children:"Your Profile"}),r?M.jsxs(M.Fragment,{children:[a?M.jsxs("div",{className:"space-y-6",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-gray-600 mb-2",children:"Name"}),M.jsx("input",{value:h,onChange:N=>f(N.target.value),placeholder:"Enter your name",className:"w-full border-gray-300 rounded-md px-4 py-2 shadow-sm focus:ring-2 focus:ring-indigo-500"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-gray-600 mb-2",children:"Home Address"}),M.jsx("textarea",{value:p,onChange:N=>v(N.target.value),placeholder:"Enter your home address",className:"w-full border-gray-300 rounded-md px-4 py-2 shadow-sm focus:ring-2 focus:ring-indigo-500"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-gray-600 mb-2",children:"Work Address"}),M.jsx("textarea",{value:w,onChange:N=>E(N.target.value),placeholder:"Enter your work address",className:"w-full border-gray-300 rounded-md px-4 py-2 shadow-sm focus:ring-2 focus:ring-indigo-500"})]}),M.jsx("button",{onClick:S,className:"w-full bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 transition-all duration-300",children:"Save Changes"})]}):M.jsxs("div",{className:"space-y-4",children:[M.jsxs("p",{className:"text-lg text-gray-700",children:[M.jsx("strong",{className:"font-semibold",children:"Email:"})," ",r.email]}),M.jsxs("p",{className:"text-lg text-gray-700",children:[M.jsx("strong",{className:"font-semibold",children:"Name:"})," ",r.name]}),M.jsxs("p",{className:"text-lg text-gray-700",children:[M.jsx("strong",{className:"font-semibold",children:"Home Address:"})," ",r.homeAddress||"Not provided"]}),M.jsxs("p",{className:"text-lg text-gray-700",children:[M.jsx("strong",{className:"font-semibold",children:"Work Address:"})," ",r.workAddress||"Not provided"]}),M.jsx("button",{onClick:()=>u(!0),className:"w-full text-blue-600 hover:text-blue-700 text-lg font-medium underline",children:"Edit Profile"})]}),r.orders&&r.orders.length>0&&M.jsxs("div",{className:"mt-8",children:[M.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Order History"}),M.jsx("ul",{className:"space-y-4",children:r.orders.map((N,D)=>M.jsxs("li",{className:"bg-gray-50 border border-gray-200 p-4 rounded-lg shadow-md",children:[M.jsxs("p",{className:"text-sm text-gray-700",children:[M.jsx("strong",{children:"Order ID:"})," ",N.id]}),M.jsxs("p",{className:"text-sm text-gray-700",children:[M.jsx("strong",{children:"Date:"})," ",new Date(N.date).toLocaleString()]}),M.jsxs("p",{className:"text-sm text-gray-700",children:[M.jsx("strong",{children:"Total:"})," ₹",N.total]}),M.jsxs("p",{className:"text-sm text-gray-700",children:[M.jsx("strong",{children:"Shipping Address:"})," ",N.shippingAddress||"Not available"]}),M.jsx("ul",{className:"list-disc pl-5 mt-2 text-sm",children:N.items.map((A,F)=>M.jsxs("li",{children:[A.ProductName||A.name," × ",A.quantity]},F))})]},D))})]})]}):M.jsx("div",{className:"flex justify-center items-center py-12",children:M.jsx("div",{className:"w-12 h-12 border-4 border-t-4 border-indigo-600 rounded-full animate-spin"})}),M.jsx("button",{onClick:R,className:"mt-8 bg-red-600 text-white py-2 px-6 rounded-lg hover:bg-red-700 transition-all duration-300",children:"Logout"})]})},uN=()=>{const{cart:n,removeFromCart:e,clearCart:t,updateQuantity:r}=Vl(),s=qr(),a=p=>p.ProductID??p.id??p.sku??p.ProductName,u=p=>{r(a(p),(p.quantity||1)+1)},h=p=>{(p.quantity||1)>1&&r(a(p),p.quantity-1)},f=n.reduce((p,v)=>p+(v.Price??0)*(v.quantity||1),0);return M.jsxs("div",{className:"p-8 max-w-4xl mt-2 mb-2 mx-auto bg-gray-50 rounded-xl shadow-lg",children:[M.jsx("h1",{className:"text-4xl font-semibold text-gray-900 mb-8 text-center",children:"Shopping Cart"}),n.length===0?M.jsx("p",{className:"text-gray-600 text-center text-xl",children:"Your cart is empty. Start shopping and add some items!"}):M.jsxs(M.Fragment,{children:[M.jsx("div",{className:"space-y-6",children:n.map(p=>M.jsxs("div",{className:"flex items-center justify-between border border-gray-300 rounded-xl p-6 bg-white shadow-md hover:shadow-lg transition-shadow",children:[M.jsxs("div",{className:"flex items-center gap-6",children:[M.jsx("img",{src:p.image||"https://via.placeholder.com/80",alt:p.ProductName,className:"w-24 h-24 object-cover rounded-lg"}),M.jsxs("div",{children:[M.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:p.ProductName}),M.jsx("p",{className:"text-sm text-gray-500",children:p.ProductBrand}),M.jsxs("div",{className:"flex items-center gap-3 mt-3",children:[M.jsx("button",{onClick:()=>h(p),className:"px-3 py-1 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-full transition duration-200",children:"−"}),M.jsx("span",{className:"text-lg font-medium text-gray-700",children:p.quantity}),M.jsx("button",{onClick:()=>u(p),className:"px-3 py-1 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-full transition duration-200",children:"+"})]}),M.jsxs("p",{className:"text-sm text-gray-700 mt-2",children:["Price: ₹",(p.Price*(p.quantity||1)).toFixed(2)]}),M.jsx(ar,{to:`/products/${a(p)}`,className:"text-blue-600 text-sm hover:underline mt-2 inline-block",children:"View Product"})]})]}),M.jsx("button",{onClick:()=>e(a(p)),className:"bg-red-500 hover:bg-red-600 text-white px-6 py-2 rounded-full transition duration-300",children:"Remove"})]},a(p)))}),M.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row justify-between items-center gap-6",children:[M.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Total: ₹",f.toFixed(2)]}),M.jsxs("div",{className:"flex gap-6",children:[M.jsx("button",{onClick:t,className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-lg font-medium transition duration-300",children:"Clear Cart"}),M.jsx("button",{onClick:()=>s("/checkout"),className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-medium transition duration-300",children:"Proceed to Checkout"})]})]})]})]})},cN=()=>{const{cart:n,clearCart:e}=Vl(),{user:t}=ta(),r=qr(),[s,a]=B.useState("home"),[u,h]=B.useState(""),[f,p]=B.useState(null),v=async()=>{const S=Is(Wr,"users",t.uid),R=await wl(S);R.exists()&&p(R.data())};B.useEffect(()=>{t!=null&&t.uid&&v()},[t]);const w=()=>n.reduce((S,R)=>S+(R.price??R.Price??0)*(R.quantity||1),0).toFixed(2),E=async()=>{const S=w(),R=s==="other"?u:(f==null?void 0:f[`${s}Address`])||"",N={id:Date.now(),items:n,total:parseFloat(S),date:new Date().toISOString(),shippingAddress:R},D={key:"rzp_test_GfC9QqI2cAovaJ",amount:S*100,currency:"INR",name:"Qlothe",description:"Order Payment",image:"/logo.png",handler:async()=>{const F=Is(Wr,"users",t.uid),H=await wl(F);if(H.exists()){const ee=H.data().orders||[];await m0(F,{orders:[...ee,N]})}e(),r("/profile")},prefill:{name:f==null?void 0:f.name,email:f==null?void 0:f.email},notes:{address:R,userId:t.uid},theme:{color:"#0f172a"}};new window.Razorpay(D).open()},P=S=>{S.preventDefault(),E()};return n!=null&&n.length?M.jsxs("div",{className:"max-w-4xl mt-2 mb-2  mx-auto px-6 py-12 bg-gray-50 rounded-xl shadow-xl",children:[M.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-8 text-center",children:"Checkout"}),M.jsxs("div",{className:"bg-white shadow-md rounded-xl p-6 mb-10",children:[M.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Order Summary"}),M.jsx("div",{className:"divide-y divide-gray-200",children:n.map(S=>M.jsxs("div",{className:"flex justify-between py-4",children:[M.jsx("div",{className:"text-lg text-gray-700",children:S.ProductName||S.name}),M.jsxs("div",{className:"text-lg text-gray-700",children:[S.quantity," × ₹",(S.Price??S.price).toFixed(2)]})]},S.id||S.ProductID))}),M.jsxs("div",{className:"flex justify-between mt-6 pt-4 border-t text-xl font-semibold text-gray-900",children:[M.jsx("span",{children:"Total:"}),M.jsxs("span",{children:["₹",w()]})]})]}),M.jsxs("form",{onSubmit:P,className:"bg-white shadow-md rounded-xl p-8 space-y-6",children:[M.jsx("h3",{className:"text-2xl font-semibold text-gray-800",children:"Shipping Information"}),M.jsxs("select",{value:s,onChange:S=>a(S.target.value),className:"border border-gray-300 rounded-lg w-full px-5 py-3 text-gray-700 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[M.jsx("option",{value:"home",children:"Home Address"}),M.jsx("option",{value:"work",children:"Work Address"}),M.jsx("option",{value:"other",children:"Other"})]}),s==="other"&&M.jsx("textarea",{value:u,onChange:S=>h(S.target.value),placeholder:"Enter custom shipping address",className:"border border-gray-300 rounded-lg w-full h-24 p-4 text-gray-700 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0}),M.jsx("button",{type:"submit",className:"w-full mt-6 bg-green-600 hover:bg-green-700 text-white font-semibold py-4 rounded-lg transition-all duration-300",children:"Pay with Razorpay"})]})]}):M.jsx("div",{className:"p-8 text-center text-red-500 text-lg",children:"Your cart is empty 🛍️"})},l_=()=>{const[n,e]=B.useState(""),[t,r]=B.useState(""),[s,a]=B.useState(""),u=qr(),h=async p=>{p.preventDefault();try{await t1(Ho,n,t),u("/products")}catch(v){a(v.message)}},f=async()=>{try{await Q0(Ho,J0),u("/products")}catch(p){a(p.message)}};return M.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 via-white to-gray-100 px-6",children:M.jsxs("div",{className:"w-full max-w-md bg-white p-10 rounded-2xl shadow-2xl border border-gray-200",children:[M.jsxs("h2",{className:"text-4xl font-serif font-bold text-center text-gray-900 mb-6",children:["Welcome Back to ",M.jsx("span",{className:"text-indigo-600",children:"Qlothe"})]}),s&&M.jsx("p",{className:"text-sm text-red-500 text-center mb-4",children:s}),M.jsxs("form",{onSubmit:h,className:"space-y-5",children:[M.jsx("input",{type:"email",placeholder:"Email Address",value:n,onChange:p=>e(p.target.value),className:"w-full border border-gray-300 px-4 py-3 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-gray-50 transition",required:!0}),M.jsx("input",{type:"password",placeholder:"Password",value:t,onChange:p=>r(p.target.value),className:"w-full border border-gray-300 px-4 py-3 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-gray-50 transition",required:!0}),M.jsx("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 rounded-md transition duration-300",children:"Login"})]}),M.jsxs("div",{className:"my-6 relative text-center text-sm text-gray-500",children:[M.jsx("div",{className:"absolute inset-0 flex items-center",children:M.jsx("div",{className:"w-full border-t border-gray-300"})}),M.jsx("span",{className:"relative bg-white px-3",children:"or"})]}),M.jsx("button",{onClick:f,className:"w-full bg-red-500 hover:bg-red-600 text-white font-semibold py-3 rounded-md transition duration-300",children:"Continue with Google"}),M.jsxs("p",{className:"text-center text-sm text-gray-500 mt-6",children:["Don't have an account?"," ",M.jsx("a",{href:"/signup",className:"text-indigo-600 hover:underline font-medium",children:"Register"})]})]})})},dN=()=>{const[n,e]=B.useState(""),[t,r]=B.useState(""),[s,a]=B.useState(""),u=qr(),h=async p=>{p.preventDefault();try{await e1(Ho,n,t),u("/home")}catch(v){a(v.message)}},f=async()=>{try{const p=await Q0(Ho,J0);console.log("Google sign-in successful:",p.user),u("/home")}catch(p){a(p.message)}};return M.jsx("div",{className:"min-h-screen bg-gradient-to-br from-white to-gray-100 flex items-center justify-center px-4",children:M.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-xl p-10 border border-gray-200",children:[M.jsxs("h2",{className:"text-4xl font-serif font-bold text-center text-gray-900 mb-6",children:["Join ",M.jsx("span",{className:"text-indigo-600",children:"Qlothe"})]}),s&&M.jsx("p",{className:"text-sm text-red-500 text-center mb-4",children:s}),M.jsxs("form",{onSubmit:h,className:"space-y-5",children:[M.jsx("input",{type:"email",placeholder:"Email Address",value:n,onChange:p=>e(p.target.value),className:"w-full bg-gray-50 border border-gray-300 px-4 py-3 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 transition",required:!0}),M.jsx("input",{type:"password",placeholder:"Password (min. 6 characters)",value:t,onChange:p=>r(p.target.value),className:"w-full bg-gray-50 border border-gray-300 px-4 py-3 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 transition",required:!0}),M.jsx("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 rounded-md transition duration-300",children:"Sign Up"})]}),M.jsxs("div",{className:"my-6 relative text-center text-sm text-gray-500",children:[M.jsx("div",{className:"absolute inset-0 flex items-center",children:M.jsx("div",{className:"w-full border-t border-gray-300"})}),M.jsx("span",{className:"relative bg-white px-3",children:"or"})]}),M.jsx("button",{onClick:f,className:"w-full bg-red-500 hover:bg-red-600 text-white font-semibold py-3 rounded-md transition duration-300",children:"Sign Up with Google"}),M.jsxs("p",{className:"text-center text-sm text-gray-500 mt-6",children:["Already have an account?"," ",M.jsx("a",{href:"/login",className:"text-indigo-600 hover:underline font-medium",children:"Log in"})]})]})})},Io=({children:n})=>{const{user:e}=ta();return e?n:M.jsx(yf,{to:"/",replace:!0})},gf=100,hN=24,fN=["shirt","kurta","t-shirt","jeans","top","jacket","saree","dress","suit","lehenga","hoodie","shorts","trousers","blouse","skirt","coat","sweater","choli","tank","pant","sweatshirt","track"],pN=["bag","trolley","watch","sunglasses","wallet","luggage","perfume","belt","cap"],mN=n=>{var t;const e=((t=n.name)==null?void 0:t.toLowerCase())||"";return fN.some(r=>e.includes(r))&&!pN.some(r=>e.includes(r))},gN=()=>{const[n,e]=B.useState([]),[t,r]=B.useState(null),[s,a]=B.useState(!0),[u,h]=B.useState(!1),[f,p]=B.useState(null),v=async(w=!1)=>{var E;h(!0),p(null);try{let P=Ny(Ry(Wr,"products"),Dy(gf));w&&t&&(P=Ny(Ry(Wr,"products"),qA(t),Dy(gf)));const S=await JA(P),R=S.docs.map(L=>({...L.data(),id:L.id})),N=S.docs[S.docs.length-1];r(N);const D=R.filter(mN),A={men:[],women:[]};for(const L of D){const C=((E=L.gender)==null?void 0:E.toLowerCase())||"unisex";A[C]&&A[C].push(L)}const ee=Object.values(A).flat().sort(()=>.5-Math.random()).slice(0,hN).map(L=>{var C;return{...L,imageArray:((C=L.images)==null?void 0:C.split(" ~ "))||[]}});e(L=>w?[...L,...ee]:ee),a(S.docs.length===gf)}catch(P){console.error("Error fetching products:",P.message),p("Failed to load products. Please try again later.")}h(!1)};return B.useEffect(()=>{v()},[]),{products:n,loading:u,error:f,fetchProducts:v,hasMore:s}};function vN(){const{user:n}=ta(),{products:e,loading:t,error:r,fetchProducts:s,hasMore:a}=gN();return M.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[n&&M.jsx(wk,{}),M.jsx("main",{className:"flex-grow",children:M.jsxs(CS,{children:[M.jsx(sr,{path:"/",element:n?M.jsx(yf,{to:"/home",replace:!0}):M.jsx(l_,{})}),M.jsx(sr,{path:"/login",element:n?M.jsx(yf,{to:"/home",replace:!0}):M.jsx(l_,{})}),M.jsx(sr,{path:"/signup",element:M.jsx(dN,{})}),M.jsx(sr,{path:"/home",element:M.jsx(Io,{children:M.jsx(Ek,{products:e,loading:t})})}),M.jsx(sr,{path:"/products",element:M.jsx(Io,{children:M.jsx(kk,{products:e,loading:t,error:r,onLoadMore:()=>s(!0),hasMore:a})})}),M.jsx(sr,{path:"/products/:id",element:M.jsx(Io,{children:M.jsx(aN,{products:e})})}),M.jsx(sr,{path:"/profile",element:M.jsx(Io,{children:M.jsx(lN,{})})}),M.jsx(sr,{path:"/cart",element:M.jsx(Io,{children:M.jsx(uN,{})})}),M.jsx(sr,{path:"/checkout",element:M.jsx(Io,{children:M.jsx(cN,{})})})]})}),n&&M.jsx("footer",{className:"bg-gray-800 text-white text-center py-4",children:M.jsxs("p",{children:["© ",new Date().getFullYear()," Qlothe. All rights reserved."]})})]})}const yN=()=>M.jsx(yk,{children:M.jsx(_k,{children:M.jsx(YS,{children:M.jsx(vN,{})})})});LT.createRoot(document.getElementById("root")).render(M.jsx(B.StrictMode,{children:M.jsx(yN,{})}));
